---
layout: post
title: A Survey of Large Language Models
date: 2023-12-25
Author: aliezvzz
categories: 
tags: [deep learning]
comments: true
--- 

Zhao, W. X., Zhou, K., Li, J., Tang, T., Wang, X., Hou, Y., … Wen, J.-R. (2023, November 24). A Survey of Large Language Models. arXiv.


<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22RC4HW3AF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%221%22%2C%22position%22%3A%7B%22pageIndex%22%3A0%2C%22rects%22%3A%5B%5B91.093%2C568.636%2C543.877%2C576.036%5D%2C%5B68.125%2C558.286%2C292.701%2C565.686%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=1&#x26;annotation=RC4HW3AF">“Since the researchers have found that model scaling can lead to an improved model capacity, they further investigate the scaling effect by increasing the parameter scale to an even larger size.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 1</a></span>)</span> 由于研究人员发现模型缩放可以提高模型容量，因此他们通过将参数比例增加到更大的尺寸来进一步研究缩放效果。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2225VAUPDK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%221%22%2C%22position%22%3A%7B%22pageIndex%22%3A0%2C%22rects%22%3A%5B%5B295.221%2C558.286%2C543.877%2C565.686%5D%2C%5B68.125%2C547.936%2C543.875%2C555.336%5D%2C%5B68.125%2C537.586%2C368.059%2C544.986%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=1&#x26;annotation=25VAUPDK">“Interestingly, when the parameter scale exceeds a certain level, these enlarged language models not only achieve a significant performance improvement, but also exhibit some special abilities (e.g., incontext learning) that are not present in small-scale language models (e.g., BERT).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 1</a></span>)</span> 有趣的是，当参数规模超过一定水平时，这些扩大的语言模型不仅实现了显着的性能提升，而且还表现出了一些小规模语言模型（例如 BERT）中不存在的特殊能力（例如上下文学习） 。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223GWZZ4ZP%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%221%22%2C%22position%22%3A%7B%22pageIndex%22%3A0%2C%22rects%22%3A%5B%5B335.46%2C322.105%2C564.004%2C332.256%5D%2C%5B312%2C310.565%2C564.002%2C320.103%5D%2C%5B312%2C299.025%2C563.997%2C308.496%5D%2C%5B312%2C287.485%2C564.001%2C297.023%5D%2C%5B312%2C275.945%2C563.997%2C285.416%5D%2C%5B312%2C264.405%2C563.996%2C273.998%5D%2C%5B312%2C252.865%2C535.945%2C262.403%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=1&#x26;annotation=3GWZZ4ZP">“Statistical language models (SLM). SLMs [6–9] are developed based on statistical learning methods that rose in the 1990s. The basic idea is to build the word prediction model based on the Markov assumption, e.g., predicting the next word based on the most recent context. The SLMs with a fixed context length n are also called n-gram language models, e.g., bigram and trigram language models.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 1</a></span>)</span> 统计语言模型 （SLM）。SLMs\[6\u20129]是基于1990年代兴起的统计学习方法开发的。其基本思想是基于马尔可夫假设构建单词预测模型，例如，根据最近的上下文预测下一个单词。具有固定上下文长度 n 的 SLM 也称为 n-gram 语言模型，例如二元组和三元组语言模型。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22AI6TXYFD%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%221%22%2C%22position%22%3A%7B%22pageIndex%22%3A0%2C%22rects%22%3A%5B%5B333.715%2C137.465%2C563.998%2C147.616%5D%2C%5B312%2C125.925%2C563.997%2C135.396%5D%2C%5B312%2C114.385%2C564%2C123.923%5D%2C%5B312%2C102.845%2C563.997%2C112.316%5D%2C%5B312%2C91.305%2C564%2C100.843%5D%2C%5B312%2C79.765%2C563.997%2C89.236%5D%2C%5B312%2C68.225%2C564.001%2C77.763%5D%2C%5B312%2C56.685%2C374.121%2C66.156%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=1&#x26;annotation=AI6TXYFD">“Neural language models (NLM). NLMs [1, 17, 18] characterize the probability of word sequences by neural networks, e.g., multi-layer perceptron (MLP) and recurrent neural networks (RNNs). As a remarkable contribution, the work in [1] introduced the concept of distributed representation of words and built the word prediction function conditioned on the aggregated context features (i.e., the distributed word vectors).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 1</a></span>)</span> 神经语言模型（NLM）。 NLM \[1,17,18]通过神经网络（例如多层感知器（MLP）和循环神经网络（RNN））来表征单词序列的概率。作为一项显着的贡献，\[1]中的工作引入了单词的分布式表示的概念，并建立了以聚合上下文特征（即分布式单词向量）为条件的单词预测函数。

![\<img data-attachment-key="QGZ7JHTT" width="869" height="278" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22XKVVNKS8%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B56.015%2C334.041%2C577.558%2C500.95%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%7D" src="attachments/QGZ7JHTT.png" ztype="zimage">](/attachments/QGZ7JHTT.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 2</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DQLJL4D6%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B146.049%2C213.529%2C299.997%2C223%5D%2C%5B48%2C201.989%2C299.997%2C211.46%5D%2C%5B48%2C190.449%2C299.997%2C199.92%5D%2C%5B48%2C178.909%2C299.997%2C188.38%5D%2C%5B48%2C167.369%2C71.56%2C176.84%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=2&#x26;annotation=DQLJL4D6">“Furthermore, word2vec [19, 20] was proposed to build a simplified shallow neural network for learning distributed word representations, which were demonstrated to be very effective across a variety of NLP tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 2</a></span>)</span> 此外，word2vec \[19, 20] 被提议构建一个简化的浅层神经网络来学习分布式单词表示，事实证明该网络在各种 NLP 任务中非常有效。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224FH8WGZU%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B72.9%2C125.925%2C300.004%2C136.076%5D%2C%5B48%2C114.385%2C299.997%2C123.856%5D%2C%5B48%2C102.845%2C299.997%2C112.316%5D%2C%5B48%2C91.305%2C299.997%2C100.776%5D%2C%5B48%2C79.765%2C299.997%2C89.236%5D%2C%5B48%2C68.225%2C214.981%2C77.696%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=2&#x26;annotation=4FH8WGZU">“Pre-trained language models (PLM). As an early attempt, ELMo [21] was proposed to capture context-aware word representations by first pre-training a bidirectional LSTM (biLSTM) network (instead of learning fixed word representations) and then fine-tuning the biLSTM network according to specific downstream tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 2</a></span>)</span> 预训练语言模型 （PLM）。作为早期的尝试，ELMo\[21]被提出通过首先预训练双向LSTM（biLSTM）网络（而不是学习固定的词表示），然后根据特定的下游任务微调biLSTM网络来捕获上下文感知的词表示。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HC9HB449%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B338.723%2C167.369%2C563.997%2C176.841%5D%2C%5B312%2C155.829%2C563.997%2C165.367%5D%2C%5B312%2C144.289%2C355.577%2C153.761%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=2&#x26;annotation=HC9HB449">“This study has inspired a large number of follow-up work, which sets the “pre-training and fine-tuning” learning paradigm.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 2</a></span>)</span> 这项研究启发了大量的后续工作，它设定了“预训练和微调”的学习范式。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22LPKLR9EB%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B484.311%2C109.669%2C563.997%2C119.141%5D%2C%5B312%2C98.129%2C563.997%2C107.601%5D%2C%5B312%2C86.589%2C391.059%2C96.061%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=2&#x26;annotation=LPKLR9EB">“In this paradigm, it often requires fine-tuning the PLM for adapting to different downstream tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 2</a></span>)</span> 在这种范式中，通常需要对 PLM 进行微调，以适应不同的下游任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KQTY6RU8%22%2C%22color%22%3A%22%23a28ae5%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B88.907%2C633.685%2C300%2C643.223%5D%2C%5B48%2C622.145%2C219.113%2C631.683%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=KQTY6RU8">“GPT-3 can solve few-shot tasks through in-context learning, whereas GPT-2 cannot do well.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> GPT-3 可以通过上下文学习解决少量任务，而 GPT-2 则不能做得很好。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223D7V39GK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B259.061%2C494.231%2C299.997%2C503.703%5D%2C%5B48%2C482.691%2C299.997%2C492.163%5D%2C%5B48%2C471.151%2C300%2C480.689%5D%2C%5B48%2C459.611%2C300.002%2C469.149%5D%2C%5B48%2C448.071%2C299.997%2C457.543%5D%2C%5B48%2C436.531%2C299.997%2C446.003%5D%2C%5B48%2C424.991%2C107.916%2C434.463%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=3D7V39GK">“Early language models mainly aim to model and generate text data, while latest language models (e.g., GPT-4) focus on complex task solving. From language modeling to task solving, it is an important leap in scientific thinking, which is the key to understand the development of language models in the research history.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 早期的语言模型主要旨在建模和生成文本数据，而最新的语言模型（例如 GPT-4）则专注于复杂的任务解决。从语言建模到任务解决，是科学思维的一次重要飞跃，是理解语言模型在研究史上发展的关键。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224RVH34CY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B237.164%2C251.891%2C299.997%2C261.363%5D%2C%5B48%2C240.351%2C299.997%2C249.823%5D%2C%5B48%2C228.811%2C299.997%2C238.283%5D%2C%5B48%2C217.271%2C299.997%2C226.743%5D%2C%5B48%2C205.731%2C145.251%2C215.203%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=4RVH34CY">“To summarize, in the evolution process, the task scope that can be solved by language models have been greatly extended, and the task performance attained by language models have been significantly enhanced.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 综上所述，在演化过程中，语言模型能够解决的任务范围得到了极大的扩展，语言模型所达到的任务性能也得到了显着的增强。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JGHHQCN8%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B48%2C147.057%2C299.997%2C156.529%5D%2C%5B48%2C135.517%2C299.997%2C144.989%5D%2C%5B48%2C123.977%2C299.997%2C133.449%5D%2C%5B48%2C112.437%2C299.997%2C121.909%5D%2C%5B48%2C100.897%2C105.522%2C110.369%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=JGHHQCN8">“First, LLMs display some surprising emergent abilities that may not be observed in previous smaller PLMs. These abilities are key to the performance of language models on complex tasks, making AI algorithms unprecedently powerful and effective.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 首先，LLM展示了一些令人惊讶的新兴能力，这些能力在以前的小型 PLM 中可能无法观察到。这些能力是语言模型在复杂任务上表现的关键，使人工智能算法变得前所未有的强大和有效。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22QI8RWGSX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B109.332%2C100.897%2C299.997%2C110.369%5D%2C%5B48%2C89.357%2C242.085%2C98.829%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=QI8RWGSX">“Second, LLMs would revolutionize the way that humans develop and use AI algorithms.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 其次，LLM将彻底改变人类开发和使用人工智能算法的方式。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FX7T5C6I%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B409.27%2C702.925%2C563.997%2C712.397%5D%2C%5B312%2C691.385%2C563.997%2C700.857%5D%2C%5B312%2C679.845%2C563.997%2C689.317%5D%2C%5B312%2C668.305%2C563.997%2C677.777%5D%2C%5B312%2C656.765%2C385.34%2C666.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=FX7T5C6I">“Third, the development of LLMs no longer draws a clear distinction between research and engineering. The training of LLMs requires extensive practical experiences in large-scale data processing and distributed parallel training.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 第三，LLM的发展不再明确区分研究和工程。LLM的训练需要在大规模数据处理和分布式并行训练方面有丰富的实践经验。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%228E9FPWNT%22%2C%22color%22%3A%22%23ff6666%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B392.323%2C517.941%2C563.997%2C527.413%5D%2C%5B312%2C506.401%2C563.997%2C515.873%5D%2C%5B312%2C494.861%2C563.997%2C504.333%5D%2C%5B312%2C483.321%2C351.311%2C492.793%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=8E9FPWNT">“In the field of NLP, LLMs can serve as a general-purpose language task solver (to some extent), and the research paradigm has been shifting towards the use of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 在NLP领域，LLM可以（在某种程度上）充当通用语言任务求解器，并且研究范式已经转向使用LLM。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22H6LKLYRQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B471.391%2C206.017%2C563.997%2C215.489%5D%2C%5B312%2C194.477%2C563.997%2C203.949%5D%2C%5B312%2C182.937%2C563.997%2C192.409%5D%2C%5B312%2C171.397%2C563.997%2C180.869%5D%2C%5B312%2C159.857%2C563.997%2C169.329%5D%2C%5B312%2C148.317%2C564%2C157.855%5D%2C%5B312%2C136.777%2C369.057%2C146.249%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=3&#x26;annotation=H6LKLYRQ">“Due to the huge demand of computation resources, it is very costly to carry out repetitive, ablating studies for investigating the effect of various strategies for training LLMs. Indeed, LLMs are mainly trained by industry, where many important training details (e.g., data collection and cleaning) are not revealed to the public.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 3</a></span>)</span> 由于计算资源的巨大需求，进行重复的消融研究以研究各种训练LLM策略的效果是非常昂贵的。事实上，LLM主要由行业培训，其中许多重要的培训细节（例如，数据收集和清理）没有向公众透露。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JRXPFYSR%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%224%22%2C%22position%22%3A%7B%22pageIndex%22%3A3%2C%22rects%22%3A%5B%5B253.599%2C737.545%2C299.997%2C747.017%5D%2C%5B48%2C726.005%2C299.997%2C735.477%5D%2C%5B48%2C714.465%2C299.997%2C724.003%5D%2C%5B48%2C702.925%2C300.001%2C712.463%5D%2C%5B48%2C691.385%2C300%2C700.923%5D%2C%5B48%2C679.845%2C300.001%2C689.383%5D%2C%5B48%2C668.305%2C300.003%2C677.843%5D%2C%5B48%2C656.765%2C130.859%2C666.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%224%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=4&#x26;annotation=JRXPFYSR">“this survey conducts a literature review of the recent advances in LLMs from four major aspects, including pre-training (how to pretrain a capable LLM), adaptation (how to effectively adapt pre-trained LLMs for better use), utilization (how to use LLMs for solving various downstream tasks) and capability evaluation (how to evaluate the abilities of LLMs and existing empirical findings).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%224%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 4</a></span>)</span> 本综述从预训练（如何预训练一个有能力的LLM）、适应（如何有效地调整预训练LLM以使其更好地使用）、利用（如何使用LLM解决各种下游任务）和能力评估（如何评估LLM的能力和现有实证结果）四个主要方面对LLM的最新进展进行文献综述。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223E6X8IYF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%224%22%2C%22position%22%3A%7B%22pageIndex%22%3A3%2C%22rects%22%3A%5B%5B48%2C170.869%2C300%2C180.341%5D%2C%5B48%2C159.329%2C299.997%2C168.801%5D%2C%5B48%2C147.789%2C299.997%2C157.261%5D%2C%5B48%2C136.249%2C141.347%2C145.721%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%224%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=4&#x26;annotation=3E6X8IYF">“Formulation of Scaling Laws for LLMs. Currently, LLMs are mainly built upon the Transformer architecture [22], where multi-head attention layers are stacked in a very deep neural network.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%224%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 4</a></span>)</span> LLM的缩放定律的制定。 目前，LLM主要建立在Transformer架构\[22]之上，其中多头注意力层堆叠在一个非常深的神经网络中。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2245ABRKCF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%224%22%2C%22position%22%3A%7B%22pageIndex%22%3A3%2C%22rects%22%3A%5B%5B312%2C488.427%2C563.997%2C497.899%5D%2C%5B312%2C476.887%2C563.997%2C486.358%5D%2C%5B312%2C465.347%2C564.004%2C474.885%5D%2C%5B312%2C453.807%2C564.004%2C463.345%5D%2C%5B312%2C442.267%2C497.003%2C451.738%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%224%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=4&#x26;annotation=45ABRKCF">“a follow-up study [58] from OpenAI has shown that the language modeling loss can be decomposed into two parts, namely irreducible loss (the entropy of the true data distribution) and reducible loss (an estimate of the KL divergence between the true and model distributions).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%224%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 4</a></span>)</span> OpenAI的后续研究\[58]表明，语言建模损失可以分解为两部分，即不可约损失（真实数据分布的熵）和可约损失（真实分布和模型分布之间的KL差异估计）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22J42UFTZF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B70.293%2C636.666%2C300.003%2C646.817%5D%2C%5B48%2C625.126%2C299.997%2C634.598%5D%2C%5B48%2C613.586%2C299.997%2C623.058%5D%2C%5B48%2C602.046%2C299.999%2C611.584%5D%2C%5B48%2C590.506%2C84.146%2C600.044%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=J42UFTZF">“Predictable scaling. In practice, scaling law can be used to instruct the training of LLMs, and it has been proven feasible to reliably estimate the performance of larger models based on that of smaller models, called predictable scaling [46].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 可预测的扩展。在实践中，标度律可用于指导LLM的训练，并且已经证明可以基于较小模型的性能可靠地估计较大模型的性能，称为可预测标度\[46]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22YK95H9YE%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B217.166%2C208.748%2C299.997%2C218.22%5D%2C%5B48%2C197.208%2C299.997%2C206.68%5D%2C%5B48%2C185.668%2C299.997%2C195.14%5D%2C%5B48%2C174.128%2C299.997%2C183.6%5D%2C%5B48%2C162.588%2C167.31%2C172.06%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=YK95H9YE">“Intuitively, a model with a smaller language modeling loss tends to yield a better performance on downstream tasks, since language modeling loss can be considered as a general measure of the overall model capacity.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 直观上，语言建模损失较小的模型往往会在下游任务上产生更好的性能，因为语言建模损失可以被视为整体模型能力的一般度量。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227ZR9DLFT%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B163.235%2C139.508%2C299.997%2C148.98%5D%2C%5B48%2C127.968%2C299.997%2C137.44%5D%2C%5B48%2C116.428%2C299.997%2C125.9%5D%2C%5B48%2C104.888%2C300.001%2C114.426%5D%2C%5B48%2C93.348%2C300.004%2C102.886%5D%2C%5B48%2C81.808%2C299.997%2C91.28%5D%2C%5B48%2C70.268%2C110.358%2C79.74%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=7ZR9DLFT">“Despite that, readers should be aware that a direct decrease in language modeling loss does not always indicate an improvement of model performance on downstream tasks. Specially, the phenomenon of inverse scaling would occur for some tasks, where task performance surprisingly becomes worse as the language modeling loss decreases [62].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 尽管如此，读者应该意识到，语言建模损失的直接减少并不总是意味着下游任务的模型性能有所提高。特别是，某些任务会出现逆缩放现象，随着语言建模损失的减少，任务性能会出人意料地变差\[62]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DHHLDXSW%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B439.55%2C661.461%2C564.001%2C670.999%5D%2C%5B312%2C649.921%2C564.003%2C659.459%5D%2C%5B312%2C638.381%2C563.997%2C647.853%5D%2C%5B312%2C626.841%2C563.997%2C636.313%5D%2C%5B312%2C615.301%2C461.511%2C624.773%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=DHHLDXSW">“In the literature [31], emergent abilities of LLMs are formally defined as “the abilities that are not present in small models but arise in large models”, which is one of the most prominent features that distinguish LLMs from previous PLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 在文献\[31]中，LLM的涌现能力被正式定义为“在小模型中不存在但在大模型中出现的能力”，这是LLM与以前的PLM区别开来的最突出的特征之一。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22C87BQHEU%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B465.853%2C615.301%2C563.997%2C624.773%5D%2C%5B312%2C603.761%2C563.997%2C613.233%5D%2C%5B312%2C592.221%2C563.997%2C601.693%5D%2C%5B312%2C580.681%2C432.384%2C590.153%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=C87BQHEU">“It further introduces a notable characteristic when emergent abilities occur [31]: performance rises significantly above random when the scale reaches a certain level.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 当出现紧急能力时，它进一步引入了一个显着的特征\[31]：当规模达到一定水平时，性能会显着高于随机。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22S8BP4KTN%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B333.637%2C488.201%2C564.005%2C498.352%5D%2C%5B312%2C476.661%2C563.997%2C486.133%5D%2C%5B312%2C465.121%2C563.997%2C474.593%5D%2C%5B312%2C453.581%2C563.997%2C463.053%5D%2C%5B312%2C442.041%2C563.997%2C451.513%5D%2C%5B312%2C430.501%2C563.997%2C439.973%5D%2C%5B312%2C418.961%2C479.143%2C430.01%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=S8BP4KTN">“In-context learning. The in-context learning (ICL) ability is formally introduced by GPT-3 [55]: assuming that the language model has been provided with a natural language instruction and/or several task demonstrations, it can generate the expected output for the test instances by completing the word sequence of input text, without requiring additional training or gradient update”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 情境学习。上下文学习（ICL）能力由 GPT-3 \[55] 正式引入：假设语言模型已提供自然语言指令和/或多个任务演示，它可以生成测试实例的预期输出通过完成输入文本的单词序列，无需额外的训练或梯度更新

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22C7BDFDEQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B334.684%2C326.481%2C564.001%2C336.632%5D%2C%5B312%2C314.941%2C563.997%2C324.413%5D%2C%5B312%2C303.401%2C563.999%2C312.939%5D%2C%5B312%2C291.861%2C563.997%2C301.333%5D%2C%5B312%2C280.321%2C427.52%2C289.793%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=5&#x26;annotation=C7BDFDEQ">“Instruction following. By fine-tuning with a mixture of multi-task datasets formatted via natural language descriptions (called instruction tuning), LLMs are shown to perform well on unseen tasks that are also described in the form of instructions [28, 66, 67].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 5</a></span>)</span> 指令如下。通过使用通过自然语言描述格式化的多任务数据集的混合进行微调（称为指令调优），LLM被证明在看不见的任务上表现良好，这些任务也以指令的形式描述\[28,66,67]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VQE48YRU%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%226%22%2C%22position%22%3A%7B%22pageIndex%22%3A5%2C%22rects%22%3A%5B%5B335.699%2C613.519%2C564.003%2C623.67%5D%2C%5B312%2C601.979%2C563.997%2C611.451%5D%2C%5B312%2C590.439%2C563.997%2C599.911%5D%2C%5B312%2C578.899%2C548.74%2C588.371%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=6&#x26;annotation=VQE48YRU">“Scaling. As discussed in previous parts, there exists an evident scaling effect in Transformer language models: larger model/data sizes and more training compute typically lead to an improved model capacity [30, 34].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 6</a></span>)</span> 缩放。如前几部分所述，Transformer 语言模型中存在明显的缩放效应：更大的模型/数据大小和更多的训练计算通常会导致模型容量的提高 \[30， 34]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KMMR3ZQ9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%226%22%2C%22position%22%3A%7B%22pageIndex%22%3A5%2C%22rects%22%3A%5B%5B334.846%2C439.448%2C564.005%2C449.599%5D%2C%5B312%2C427.908%2C563.997%2C437.38%5D%2C%5B312%2C416.368%2C563.997%2C425.84%5D%2C%5B312%2C404.828%2C563.997%2C414.3%5D%2C%5B312%2C393.288%2C563.997%2C402.76%5D%2C%5B312%2C381.748%2C563.997%2C391.22%5D%2C%5B312%2C370.208%2C563.997%2C379.68%5D%2C%5B312%2C358.668%2C523.983%2C368.14%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=6&#x26;annotation=KMMR3ZQ9">“Training. Due to the huge model size, it is very challenging to successfully train a capable LLM. Distributed training algorithms are needed to learn the network parameters of LLMs, in which various parallel strategies are often jointly utilized. To support distributed training, several optimization frameworks have been released to facilitate the implementation and deployment of parallel algorithms, such as DeepSpeed [74] and Megatron-LM [75–77].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 6</a></span>)</span> 训练。由于模型规模巨大，成功训练一个有能力的LLM是非常具有挑战性的。需要分布式训练算法来学习LLM的网络参数，其中经常同时使用各种并行策略。为了支持分布式训练，已经发布了几个优化框架来促进并行算法的实现和部署，例如 DeepSpeed \[74] 和 Megatron-LM \[75\u201277]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223JGBLZRS%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%226%22%2C%22position%22%3A%7B%22pageIndex%22%3A5%2C%22rects%22%3A%5B%5B402.425%2C276.916%2C564.001%2C287.067%5D%2C%5B312%2C265.376%2C563.997%2C274.848%5D%2C%5B312%2C253.836%2C563.997%2C263.308%5D%2C%5B312%2C242.296%2C563.997%2C251.768%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=6&#x26;annotation=3JGBLZRS">“After being pre-trained on large-scale corpora, LLMs are endowed with potential abilities as general-purpose task solvers. These abilities might not be explicitly exhibited when LLMs perform some specific tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 6</a></span>)</span> 在对大规模语料库进行预训练后，LLM 被赋予了作为通用任务解决者的潜在能力。当 LLM 执行某些特定任务时，这些能力可能不会显式表现出来。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22WJJTYVXI%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%226%22%2C%22position%22%3A%7B%22pageIndex%22%3A5%2C%22rects%22%3A%5B%5B508.223%2C184.596%2C563.997%2C194.068%5D%2C%5B312%2C173.056%2C563.997%2C182.528%5D%2C%5B312%2C161.516%2C563.997%2C170.988%5D%2C%5B312%2C149.976%2C501.269%2C159.448%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=6&#x26;annotation=WJJTYVXI">“Furthermore, we can perform instruction tuning on LLMs with task descriptions expressed in natural language, for improving the generalizability of LLMs on unseen tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 6</a></span>)</span> 此外，我们可以对 LLM 进行指令调优，用自然语言表达任务描述，以提高 LLM 在看不见的任务上的泛化性。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22GJ9TQFQH%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%226%22%2C%22position%22%3A%7B%22pageIndex%22%3A5%2C%22rects%22%3A%5B%5B335.302%2C102.845%2C564%2C112.996%5D%2C%5B312%2C91.305%2C563.997%2C100.777%5D%2C%5B312%2C79.765%2C563.997%2C89.237%5D%2C%5B312%2C68.225%2C563.997%2C77.697%5D%2C%5B312%2C56.685%2C564%2C66.223%5D%2C%5B312%2C45.145%2C402.473%2C54.683%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=6&#x26;annotation=GJ9TQFQH">“Alignment tuning. Since LLMs are trained to capture the data characteristics of pre-training corpora (including both high-quality and low-quality data), they are likely to generate toxic, biased, or even harmful content for humans. It is necessary to align LLMs with human values, e.g., helpful, honest, and harmless.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 6</a></span>)</span> 对齐调整。由于 LLM 被训练为捕获预训练语料库的数据特征（包括高质量和低质量数据），因此它们可能会对人类产生有毒、有偏见甚至有害的内容。有必要使 LLM 与人类价值观保持一致，例如，乐于助人、诚实和无害。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UM2QGMMP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%227%22%2C%22position%22%3A%7B%22pageIndex%22%3A6%2C%22rects%22%3A%5B%5B48%2C702.925%2C299.997%2C712.397%5D%2C%5B48%2C691.385%2C299.997%2C700.857%5D%2C%5B48%2C679.845%2C299.997%2C689.317%5D%2C%5B48%2C668.305%2C299.997%2C677.777%5D%2C%5B48%2C656.765%2C269.672%2C666.303%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%227%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=7&#x26;annotation=UM2QGMMP">“It incorporates human in the training loop with elaborately designed labeling strategies. ChatGPT is indeed developed on a similar technique to InstructGPT, which shows a strong alignment capacity in producing high-quality, harmless responses, e.g., rejecting to answer insulting questions.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%227%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 7</a></span>)</span> 它将人类纳入训练循环中，并采用精心设计的标签策略。 ChatGPT 确实是基于与 InstructGPT 类似的技术开发的，它在产生高质量、无害的响应（例如拒绝回答侮辱性问题）方面表现出强大的对齐能力。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22P4XPXC2M%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%227%22%2C%22position%22%3A%7B%22pageIndex%22%3A6%2C%22rects%22%3A%5B%5B101.076%2C270.642%2C299.997%2C280.114%5D%2C%5B48%2C259.102%2C299.997%2C268.574%5D%2C%5B48%2C247.562%2C299.997%2C257.034%5D%2C%5B48%2C236.022%2C299.997%2C245.494%5D%2C%5B48%2C224.482%2C299.997%2C233.954%5D%2C%5B48%2C212.942%2C299.997%2C222.414%5D%2C%5B48%2C201.402%2C300.003%2C210.94%5D%2C%5B48%2C189.862%2C244.477%2C199.4%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%227%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=7&#x26;annotation=P4XPXC2M">“The basic principle underlying GPT models is to compress the world knowledge into the decoder-only Transformer model by language modeling, such that it can recover (or memorize) the semantics of world knowledge and serve as a general-purpose task solver. Two key points to the success are (I) training decoder-only Transformer language models that can accurately predict the next word and (II) scaling up the size of language models.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%227%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 7</a></span>)</span> GPT模型的基本原理是通过语言建模将世界知识压缩为仅解码器的Transformer模型，使其能够恢复（或记忆）世界知识的语义并作为通用任务求解器。成功的两个关键点是（一）训练仅解码器的 Transformer 语言模型，使其能够准确预测下一个单词；（二）扩大语言模型的规模。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%229KMEP9Q5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%229%22%2C%22position%22%3A%7B%22pageIndex%22%3A8%2C%22rects%22%3A%5B%5B294.468%2C184.646%2C299.997%2C194.117%5D%2C%5B48%2C173.106%2C299.997%2C182.577%5D%2C%5B48%2C161.566%2C300.005%2C172.615%5D%2C%5B48%2C150.026%2C299.997%2C159.497%5D%2C%5B48%2C138.486%2C299.997%2C147.957%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%229%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=9&#x26;annotation=9KMEP9Q5">“n the GPT-3’s paper, it formally introduced the concept of in-context learning (ICL)17, which utilizes LLMs in a fewshot or zero-shot way. ICL can teach (or instruct) LLMs to understand the tasks in the form of natural language text.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%229%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 9</a></span>)</span> 在 GPT-3 的论文中，它正式引入了上下文学习 （ICL）17 的概念，它以 few-shot 或零样本的方式利用 LLM。ICL 可以教授（或指导）LLM 以自然语言文本的形式理解任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223Z5DMKZQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2210%22%2C%22position%22%3A%7B%22pageIndex%22%3A9%2C%22rects%22%3A%5B%5B128.285%2C737.545%2C299.997%2C747.017%5D%2C%5B48%2C726.005%2C300%2C735.543%5D%2C%5B48%2C714.465%2C299.997%2C723.937%5D%2C%5B48%2C702.925%2C173.742%2C712.397%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=10&#x26;annotation=3Z5DMKZQ">“Overall, OpenAI has explored two major approaches to further improving the GPT-3 model, i.e., training on code data and alignment with human preference, which are detailed as follows.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 10</a></span>)</span> 总体而言，OpenAI探索了两种主要方法来进一步改进GPT-3模型，即代码数据训练和与人类偏好一致，具体如下。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22K8SDPVHG%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2210%22%2C%22position%22%3A%7B%22pageIndex%22%3A9%2C%22rects%22%3A%5B%5B262.681%2C552.561%2C299.997%2C561.7%5D%2C%5B48%2C541.021%2C299.997%2C550.16%5D%2C%5B48%2C529.481%2C299.998%2C538.744%5D%2C%5B48%2C517.941%2C299.997%2C527.08%5D%2C%5B48%2C506.401%2C299.997%2C515.54%5D%2C%5B48%2C494.861%2C75.997%2C504%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=10&#x26;annotation=K8SDPVHG">“Actually, the GPT-3.5 models are developed based on a code-based GPT model (i.e., code-davinci-002), which indicates that training on code data is a very useful practice to improve the model capacity of GPT models, especially the reasoning ability.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 10</a></span>)</span> 实际上，GPT-3.5模型是基于基于代码的GPT模型（即code-davinci-002）开发的，这表明对代码数据进行训练对于提高GPT模型的模型能力是非常有用的实践，尤其是推理能力。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22RNUJCPCE%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2210%22%2C%22position%22%3A%7B%22pageIndex%22%3A9%2C%22rects%22%3A%5B%5B159.901%2C125.237%2C299.997%2C134.709%5D%2C%5B48%2C113.697%2C299.997%2C123.169%5D%2C%5B48%2C102.157%2C299.997%2C111.629%5D%2C%5B48%2C90.617%2C299.997%2C100.089%5D%2C%5B48%2C79.077%2C178.568%2C88.549%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=10&#x26;annotation=RNUJCPCE">“OpenAI describes their approach to alignment research in a technical article [130], which has summarized three promising directions: “training AI systems to use human feedback, to assist human evaluation and to do alignment research”.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 10</a></span>)</span> OpenAI在一篇技术文章\[130]中描述了他们的对齐研究方法，该文章总结了三个有前途的方向：“训练人工智能系统使用人类反馈，协助人类评估和进行对齐研究”。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2239Y76K88%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2210%22%2C%22position%22%3A%7B%22pageIndex%22%3A9%2C%22rects%22%3A%5B%5B418.02%2C196.379%2C563.997%2C205.851%5D%2C%5B312%2C184.839%2C563.997%2C194.311%5D%2C%5B312%2C173.299%2C563.997%2C182.771%5D%2C%5B312%2C161.759%2C564%2C171.297%5D%2C%5B312%2C150.219%2C563.997%2C159.691%5D%2C%5B312%2C138.679%2C507.634%2C148.151%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=10&#x26;annotation=39Y76K88">“As another important aspect, GPT4 has been developed on a well-established deep learning infrastructure with improved optimization methods. They introduced a new mechanism called predictable scaling that can accurately predict the final performance with a small proportion of compute during model training.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2210%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 10</a></span>)</span> 作为另一个重要方面，GPT4 是在完善的深度学习基础设施上开发的，并改进了优化方法。他们引入了一种称为可预测缩放的新机制，该机制可以在模型训练期间以一小部分计算准确预测最终性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DR7E4CGV%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2211%22%2C%22position%22%3A%7B%22pageIndex%22%3A10%2C%22rects%22%3A%5B%5B277.558%2C425.355%2C299.997%2C434.827%5D%2C%5B48%2C413.815%2C299.997%2C423.287%5D%2C%5B48%2C402.275%2C299.997%2C411.747%5D%2C%5B48%2C390.735%2C299.997%2C400.207%5D%2C%5B48%2C379.195%2C299.997%2C388.667%5D%2C%5B48%2C367.655%2C205.159%2C377.127%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2211%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=11&#x26;annotation=DR7E4CGV">“From the perspective of engineering, OpenAI has adopted an iterative deployment strategy [134] to develop the models and products by following a five-stage development and deployment life-cycle, which aims to effectively reduce the potential risks of using the models.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2211%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 11</a></span>)</span> 从工程的角度来看，OpenAI采用迭代部署策略\[134]，遵循五个阶段的开发和部署生命周期来开发模型和产品，旨在有效降低使用模型的潜在风险。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22SY9SZK6G%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2211%22%2C%22position%22%3A%7B%22pageIndex%22%3A10%2C%22rects%22%3A%5B%5B478.991%2C645.225%2C563.997%2C654.697%5D%2C%5B312%2C633.685%2C563.997%2C643.157%5D%2C%5B312%2C622.145%2C563.997%2C631.617%5D%2C%5B312%2C610.605%2C563.997%2C620.077%5D%2C%5B312%2C599.065%2C563.997%2C608.537%5D%2C%5B312%2C587.525%2C415.778%2C596.997%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2211%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=11&#x26;annotation=SY9SZK6G">“Among them, FlanT5 (11B version) can serve as a premier model for research on instruction tuning, since it explores the instruction tuning from three aspects [69]: increasing the number of tasks, scaling the model size, and fine-tuning with chain-ofthought prompting data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2211%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 11</a></span>)</span> 其中，FlanT5（11B版本）可以从三个方面探索指令调优\[69]，因为它从增加任务数量、扩展模型大小和利用思维链提示数据进行微调三个方面探索指令调优，因此可以作为指令调优的首要模型。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DIUWUKU6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2211%22%2C%22position%22%3A%7B%22pageIndex%22%3A10%2C%22rects%22%3A%5B%5B458.243%2C449.045%2C563.997%2C458.517%5D%2C%5B312%2C437.505%2C563.997%2C446.977%5D%2C%5B312%2C425.965%2C563.997%2C435.437%5D%2C%5B312%2C414.425%2C350.076%2C424.018%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2211%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=11&#x26;annotation=DIUWUKU6">“As for multilingual tasks, mT0 (13B version) might be a good candidate model, which has been fine-tuned on multilingual tasks with multilingual prompts.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2211%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 11</a></span>)</span> 对于多语言任务，mT0（13B版本）可能是一个很好的候选模型，它已经针对具有多语言提示的多语言任务进行了微调。

![\<img data-attachment-key="5N9U4PAI" width="905" height="538" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22Z6BEJZ7M%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2212%22%2C%22position%22%3A%7B%22pageIndex%22%3A11%2C%22rects%22%3A%5B%5B38.382%2C424.5%2C581.471%2C747.441%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2212%22%7D%7D" src="attachments/5N9U4PAI.png" ztype="zimage">](/attachments/5N9U4PAI.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2212%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 12</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222WCB3JMM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2212%22%2C%22position%22%3A%7B%22pageIndex%22%3A11%2C%22rects%22%3A%5B%5B312%2C98.209%2C563.997%2C107.68%5D%2C%5B312%2C86.669%2C563.997%2C96.14%5D%2C%5B312%2C75.129%2C563.997%2C84.6%5D%2C%5B312%2C63.589%2C517.228%2C73.06%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2212%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=12&#x26;annotation=2WCB3JMM">“Due to the excellent performance and availability of the LLaMA model family, many multimodal models incorporate them as the base language models, to achieve strong language understanding and generation abilities.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2212%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 12</a></span>)</span> 由于LLaMA模型家族优异的性能和可用性，许多多模态模型将其作为基础语言模型，以实现强大的语言理解和生成能力。

![\<img data-attachment-key="M2RTQCVF" width="432" height="277" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22XBDHJV85%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2213%22%2C%22position%22%3A%7B%22pageIndex%22%3A12%2C%22rects%22%3A%5B%5B45%2C123.618%2C303.971%2C289.5%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2213%22%7D%7D" src="attachments/M2RTQCVF.png" ztype="zimage">](/attachments/M2RTQCVF.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2213%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 13</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UIJ34ULL%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2213%22%2C%22position%22%3A%7B%22pageIndex%22%3A12%2C%22rects%22%3A%5B%5B384.875%2C691.385%2C563.997%2C700.857%5D%2C%5B312%2C679.845%2C563.997%2C689.317%5D%2C%5B312%2C668.305%2C491.408%2C677.777%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2213%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=13&#x26;annotation=UIJ34ULL">“Based on their content types, we categorize these corpora into six groups: Books, CommonCrawl, Reddit links, Wikipedia, Code, and others.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2213%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 13</a></span>)</span> 根据它们的内容类型，我们将这些语料库分为六组：书籍、CommonCrawl、Reddit 链接、维基百科、代码等。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HTQB3GDN%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2213%22%2C%22position%22%3A%7B%22pageIndex%22%3A12%2C%22rects%22%3A%5B%5B518.948%2C376.549%2C563.997%2C386.021%5D%2C%5B312%2C365.009%2C564%2C376.059%5D%2C%5B312%2C353.469%2C563.997%2C362.941%5D%2C%5B312%2C341.929%2C564.003%2C351.467%5D%2C%5B312%2C330.389%2C563.997%2C339.861%5D%2C%5B312%2C318.849%2C419.018%2C328.321%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2213%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=13&#x26;annotation=HTQB3GDN">“The Colossal Clean Crawled Corpus (C4) includes five variants21, namely en (806G), en.noclean (6T), realnewslike (36G), webtextlike (17G), and multilingual (38T). The en version has been utilized for pre-training T5 [82], LaMDA [68], Gopher [64], and UL2 [89].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2213%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 13</a></span>)</span> Colossal Clean Crawled Corpus (C4) 包括五个变体21，即 en (806G)、en.noclean (6T)、realnewslike (36G)、webtextlike (17G) 和 multilingual (38T)。 en 版本已用于预训练 T5 \[82]、LaMDA \[68]、Gopher \[64] 和 UL2 \[89]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HZDXW2U8%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B62.25%2C316.81%2C299.997%2C326.282%5D%2C%5B48%2C305.27%2C299.997%2C314.742%5D%2C%5B48%2C293.73%2C299.997%2C303.202%5D%2C%5B48%2C282.19%2C300.002%2C291.728%5D%2C%5B48%2C270.65%2C299.997%2C280.122%5D%2C%5B48%2C259.11%2C147.427%2C268.582%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=14&#x26;annotation=HZDXW2U8">“In practice, it commonly requires a mixture of different data sources for pre-training LLMs (see Figure 6), instead of a single corpus. Therefore, existing studies commonly mix several ready-made datasets (e.g., C4, OpenWebText, and the Pile), and then perform further processing to obtain the pre-training corpus.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span> 在实践中，它通常需要混合使用不同的数据源来预训练 LLM（参见图 6），而不是单个语料库。因此，现有的研究通常将几个现成的数据集（例如 C4、OpenWebText 和 Pile）混合在一起，然后进行进一步处理以获得预训练语料库。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ZE4DXMP4%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B69.291%2C91.305%2C299.996%2C101.456%5D%2C%5B48%2C79.765%2C299.997%2C89.237%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C299.997%2C66.157%5D%2C%5B48%2C45.145%2C269.245%2C54.617%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=14&#x26;annotation=ZE4DXMP4">“LLaMA [57] extracts training data from various sources, including CommonCrawl, C4 [82], Github, Wikipedia, books, ArXiv, and StackExchange. The training data size for LLaMA (6B) and LLaMA (13B) is 1.0T tokens, while 1.4T tokens are used for LLaMA (32B) and LLaMA (65B).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span> LLaMA \[57] 从各种来源提取训练数据，包括 CommonCrawl、C4 \[82]、Github、维基百科、书籍、ArXiv 和 StackExchange。 LLaMA (6B) 和 LLaMA (13B) 的训练数据大小为 1.0T 令牌，而 LLaMA (32B) 和 LLaMA (65B) 使用 1.4T 令牌。

![\<img data-attachment-key="XRWTHBV9" width="443" height="368" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22484BDKQ6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B307.05882352941177%2C532.588%2C573.0882352941178%2C753.618%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" src="attachments/XRWTHBV9.png" ztype="zimage">](/attachments/XRWTHBV9.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span>

![\<img data-attachment-key="CKR5WCZH" width="400" height="212" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22NDY52NUM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B319.412%2C404.206%2C559.412%2C531.265%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" src="attachments/CKR5WCZH.png" ztype="zimage">](/attachments/CKR5WCZH.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22F8EIUXTY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B312%2C361.42%2C563.997%2C370.892%5D%2C%5B312%2C349.88%2C563.997%2C359.351%5D%2C%5B312%2C338.34%2C563.997%2C347.811%5D%2C%5B312%2C326.8%2C408.168%2C336.271%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=14&#x26;annotation=F8EIUXTY">“After pre-training, it requires further fine-tuning LLMs to enhance the model capacity, which often involve two major steps, namely instruction tuning (supervised fine-tuning) and alignment tuning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span> 预训练后，需要进一步微调LLM以增强模型能力，这通常涉及两个主要步骤，即指令调优（监督微调）和对齐调优。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22IJXK3GM3%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B312%2C249.352%2C564%2C258.89%5D%2C%5B312%2C237.812%2C563.997%2C247.283%5D%2C%5B312%2C226.272%2C531.168%2C235.81%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=14&#x26;annotation=IJXK3GM3">“After pre-training, instruction tuning (a.k.a., supervised finetuning) is an important method to enhance or unlock specific abilities of LLMs (e.g., instruction following).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span> 预训练后，指令调整（又名监督微调）是增强或解锁 LLM 特定能力（例如指令遵循）的重要方法。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HEJKFYJB%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B337.033%2C214.732%2C563.997%2C224.203%5D%2C%5B312%2C203.192%2C563.997%2C212.663%5D%2C%5B312%2C191.652%2C563.997%2C201.123%5D%2C%5B312%2C180.112%2C563.997%2C189.583%5D%2C%5B312%2C168.572%2C405.072%2C178.043%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=14&#x26;annotation=HEJKFYJB">“we introduce several widely used datasets for instruction tuning, and categorize them into three main types based on the construction method of formatted instruction instances, namely NLP task datasets, daily chat datasets and synthetic datasets. We”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span> 我们介绍了几种广泛使用的指令调优数据集，并根据格式化指令实例的构造方法将其分为三种主要类型，即NLP任务数据集、日常聊天数据集和合成数据集。我们

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223ELMF5SI%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2214%22%2C%22position%22%3A%7B%22pageIndex%22%3A13%2C%22rects%22%3A%5B%5B312%2C149.677%2C564.004%2C159.148%5D%2C%5B312%2C138.137%2C563.996%2C147.675%5D%2C%5B312%2C126.597%2C563.997%2C136.068%5D%2C%5B312%2C115.057%2C563.997%2C124.528%5D%2C%5B312%2C103.517%2C563.997%2C112.988%5D%2C%5B312%2C91.977%2C342.305%2C101.448%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=14&#x26;annotation=3ELMF5SI">“NLP Task Datasets. This kind of datasets are formatted based on collected NLP task datasets (e.g., text classification and summarization) with corresponding natural language task descriptions. In this category, P3 [182] and FLAN [67, 183] are two widely used datasets for instruction tuning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2214%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 14</a></span>)</span> NLP 任务数据集。此类数据集基于收集的 NLP 任务数据集（例如文本分类和摘要）以及相应的自然语言任务描述进行格式化。在这一类别中，P3 \[182] 和 FLAN \[67, 183] 是两个广泛使用的指令调优数据集。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22D3YXNW76%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2215%22%2C%22position%22%3A%7B%22pageIndex%22%3A14%2C%22rects%22%3A%5B%5B48%2C602.534%2C300%2C612.006%5D%2C%5B48%2C590.994%2C299.997%2C600.466%5D%2C%5B48%2C579.454%2C299.997%2C588.926%5D%2C%5B48%2C567.914%2C299.998%2C577.452%5D%2C%5B48%2C556.374%2C299.997%2C565.846%5D%2C%5B48%2C544.834%2C299.997%2C554.306%5D%2C%5B48%2C533.294%2C299.997%2C542.766%5D%2C%5B48%2C521.754%2C266.424%2C531.226%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=15&#x26;annotation=D3YXNW76">“Daily Chat Datasets. This kind of datasets are constructed based on real user conversations where queries are posed by humans and responses are mainly generated by human labelers or LLMs (e.g., ChatGPT, GPT-4). The conversation types include open-ended generation, question answering, brainstorming, and chatting. In this category, ShareGPT [148], OpenAssistant [173] and Dolly [172] are three commonly used datasets for LLM fine-tuning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 15</a></span>)</span> 每日聊天数据集。此类数据集是基于真实用户对话构建的，其中查询由人类提出，响应主要由人类标记者或 LLM 生成（例如 ChatGPT、GPT-4）。对话类型包括开放式生成、问答、头脑风暴和聊天。在这一类别中，ShareGPT \[148]、OpenAssistant \[173] 和 Dolly \[172] 是 LLM 微调的三个常用数据集。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22PBA8BHGM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2215%22%2C%22position%22%3A%7B%22pageIndex%22%3A14%2C%22rects%22%3A%5B%5B48%2C278.72%2C300.003%2C288.192%5D%2C%5B48%2C267.18%2C299.997%2C276.652%5D%2C%5B48%2C255.64%2C299.997%2C265.112%5D%2C%5B48%2C244.1%2C299.997%2C253.572%5D%2C%5B48%2C232.56%2C187.678%2C242.032%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=15&#x26;annotation=PBA8BHGM">“Synthetic Datasets. This kind of datasets are typically constructed by instructing LLMs, based on pre-defined guidance rules or methods. In this category, Self-Instruct52K [143], Alpaca [142] and Baize [175] are three commonly used synthetic datasets for LLMs”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 15</a></span>)</span> 合成数据集。这类数据集通常是通过指导LLM来构建的，基于预定义的指导规则或方法。在这一类别中，Self-Instruct52K \[143]、Alpaca \[142] 和 Baize \[175] 是 LLM 中常用的三个合成数据集

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ZEUCV8FH%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2215%22%2C%22position%22%3A%7B%22pageIndex%22%3A14%2C%22rects%22%3A%5B%5B335.933%2C432.75%2C563.999%2C442.901%5D%2C%5B312%2C421.21%2C563.997%2C430.682%5D%2C%5B312%2C409.67%2C563.997%2C419.142%5D%2C%5B312%2C398.13%2C563.997%2C407.602%5D%2C%5B312%2C386.59%2C563.997%2C396.062%5D%2C%5B312%2C375.05%2C563.997%2C384.522%5D%2C%5B312%2C363.51%2C563.997%2C372.982%5D%2C%5B312%2C351.97%2C563.997%2C361.442%5D%2C%5B312%2C340.43%2C563.997%2C349.902%5D%2C%5B312%2C328.89%2C388.941%2C338.362%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=15&#x26;annotation=ZEUCV8FH">“SHP [177] focuses on the helpfulness of responses. It comprises 385K collective human preferences over responses to questions/instructions across 18 diverse subject areas, spanning topics from cooking to legal advice. Each instance is a Reddit post containing a question or instruction and a pair of top-level comments, one of which is deemed as more preferable by Reddit users and the other one is deemed as less helpful. Different from HH-RLHF [170], the data in SHP consists of naturally occurring and humanwritten responses.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 15</a></span>)</span> SHP\[177]侧重于响应的有用性。它包括 385K 对 18 个不同主题领域的问题/指令的回答的集体人类偏好，涵盖从烹饪到法律建议的主题。每个实例都是一个 Reddit 帖子，其中包含一个问题或说明以及一对顶级评论，其中一个被 Reddit 用户认为更可取，另一个被认为不太有用。与HH-RLHF\[170]不同，SHP中的数据由自然发生和人工书写的响应组成。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UT2CVNXI%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2215%22%2C%22position%22%3A%7B%22pageIndex%22%3A14%2C%22rects%22%3A%5B%5B333.328%2C125.925%2C564.004%2C136.076%5D%2C%5B312%2C114.385%2C563.997%2C123.857%5D%2C%5B312%2C102.845%2C563.997%2C112.317%5D%2C%5B312%2C91.305%2C563.997%2C100.777%5D%2C%5B312%2C79.765%2C563.997%2C89.237%5D%2C%5B312%2C68.225%2C563.997%2C77.697%5D%2C%5B312%2C56.685%2C563.997%2C66.157%5D%2C%5B312%2C45.145%2C507.244%2C54.617%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=15&#x26;annotation=UT2CVNXI">“Sandbox Alignment Data [179] is an alignment dataset containing feedback from LLMs rather than human. It comes from a virtual interaction environment called SANDBOX, where the model simulates social interactions with other models and revise responses according to the feedback from other models. The dataset contains 169K instances, and each instance consists of a societal query, several responses, and corresponding ratings from other models.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2215%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 15</a></span>)</span> 沙盒对齐数据\[179]是一个对齐数据集，包含来自LLM而不是人类的反馈。它来自一个名为 SANDBOX 的虚拟交互环境，该模型模拟与其他模型的社交交互，并根据其他模型的反馈修改响应。该数据集包含 169K 个实例，每个实例由一个社会查询、多个响应和其他模型的相应评级组成。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22A35NT5KN%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2216%22%2C%22position%22%3A%7B%22pageIndex%22%3A15%2C%22rects%22%3A%5B%5B69.409%2C603.459%2C299.996%2C613.61%5D%2C%5B48%2C591.919%2C299.997%2C601.391%5D%2C%5B48%2C580.379%2C299.997%2C589.851%5D%2C%5B48%2C568.839%2C299.997%2C578.311%5D%2C%5B48%2C557.299%2C299.997%2C566.771%5D%2C%5B48%2C545.759%2C299.997%2C555.231%5D%2C%5B48%2C534.219%2C220.966%2C543.691%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2216%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=16&#x26;annotation=A35NT5KN">“DeepSpeed [74] is a deep learning optimization library (compatible with PyTorch) developed by Microsoft, which has been used to train a number of LLMs, such as MTNLG [113] and BLOOM [78]. It provides the support of various optimization techniques for distributed training, such as memory optimization (ZeRO technique, gradient checkpointing), and pipeline parallelism.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2216%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 16</a></span>)</span> DeepSpeed \[74]是微软开发的深度学习优化库（与PyTorch兼容），已用于训练许多LLM，例如MTNLG \[113]和BLOOM \[78]。它为分布式训练提供各种优化技术的支持，例如内存优化（ZeRO技术、梯度检查点）和管道并行性。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22WLK7BNM2%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2216%22%2C%22position%22%3A%7B%22pageIndex%22%3A15%2C%22rects%22%3A%5B%5B337.622%2C690.813%2C564.005%2C700.964%5D%2C%5B312%2C679.273%2C563.997%2C688.745%5D%2C%5B312%2C667.733%2C563.997%2C677.205%5D%2C%5B312%2C656.193%2C563.997%2C665.665%5D%2C%5B312%2C644.653%2C563.997%2C654.125%5D%2C%5B312%2C633.113%2C563.997%2C642.585%5D%2C%5B312%2C621.573%2C563.997%2C631.045%5D%2C%5B312%2C610.033%2C563.997%2C619.505%5D%2C%5B312%2C598.493%2C563.997%2C607.965%5D%2C%5B312%2C586.953%2C429.05%2C596.425%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2216%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=16&#x26;annotation=WLK7BNM2">“DeepSpeed-MII [194] is also a memory efficient Python library developed by DeepSpeed [74]. It aims to democratize LLMs inference by prioritizing high throughput, low latency, and cost-effectiveness. DeepSpeed-MII achieves accelerated text generation inference by leveraging four essential technologies: blocked KV caching, continuous batching, dynamic SplitFuse, and high-performance CUDA Kernels. It currently supports over 13,000 models across three popular model architectures, such as LLaMA [57], Mistral [195], and OPT [90].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2216%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 16</a></span>)</span> DeepSpeed-MII \[194] 也是 DeepSpeed \[74] 开发的一个内存效率高的 Python 库。它旨在通过优先考虑高吞吐量、低延迟和成本效益来实现 LLM 推理的民主化。DeepSpeed-MII 通过利用 4 项基本技术实现加速文本生成推理：阻塞 KV 缓存、连续批处理、动态 SplitFuse 和高性能 CUDA 内核。它目前支持三种流行模型架构的 13,000 多个模型，例如 LLaMA \[57]、Mistral \[195] 和 OPT \[90]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ERMGKEHP%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2216%22%2C%22position%22%3A%7B%22pageIndex%22%3A15%2C%22rects%22%3A%5B%5B336.368%2C574.84%2C564.005%2C584.991%5D%2C%5B312%2C563.3%2C563.997%2C572.772%5D%2C%5B312%2C551.76%2C563.997%2C561.232%5D%2C%5B312%2C540.22%2C563.997%2C549.692%5D%2C%5B312%2C528.68%2C563.997%2C538.152%5D%2C%5B312%2C517.14%2C563.997%2C526.612%5D%2C%5B312%2C505.6%2C563.997%2C515.072%5D%2C%5B312%2C494.06%2C563.997%2C503.532%5D%2C%5B312%2C482.52%2C563.998%2C492.058%5D%2C%5B312%2C470.98%2C563.997%2C480.452%5D%2C%5B312%2C459.44%2C563.997%2C468.912%5D%2C%5B312%2C447.9%2C563.997%2C457.372%5D%2C%5B312%2C436.36%2C563.997%2C445.832%5D%2C%5B312%2C424.82%2C487.332%2C434.292%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2216%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=16&#x26;annotation=ERMGKEHP">“DeepSpeed-Chat [196] is a fast, cost-effective, and easy-to-use system framework that enables the integration of the complete RLHF process during model training. It is featured by three major functionalities: (1) it simplifies the training and inference process for ChatGPT-like models, enabling using a simple script to implement multiple training or inference steps; (2) it replicates the training mode of InstructGPT [66] and provides a complete pipeline for three training steps (i.e., SFT, reward model fine-tuning, and RLHF); (3) it integrates the training engine and inference engine of Deepspeed into a unified hybrid engine (Deepspeed HE) for RLHF training, which enables seamless switch between training and inference modes, and leveraging various optimizations from DeepSpeed Inference.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2216%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 16</a></span>)</span> DeepSpeed-Chat \[196] 是一种快速、经济高效且易于使用的系统框架，可以在模型训练期间集成完整的 RLHF 流程。它具有三大功能：（1）简化了类ChatGPT模型的训练和推理过程，可以使用简单的脚本实现多个训练或推理步骤； （2）它复制了InstructGPT\[66]的训练模式，并为三个训练步骤（即SFT、奖励模型微调和RLHF）提供了完整的管道； （3）它将Deepspeed的训练引擎和推理引擎集成为统一的混合引擎（Deepspeed HE），用于RLHF训练，实现训练和推理模式之间的无缝切换，并利用DeepSpeed Inference的各种优化。

![\<img data-attachment-key="NC4YNCUR" width="854" height="278" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CVS6H2NX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2217%22%2C%22position%22%3A%7B%22pageIndex%22%3A16%2C%22rects%22%3A%5B%5B52.5%2C595.235%2C564.706%2C762%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2217%22%7D%7D" src="attachments/NC4YNCUR.png" ztype="zimage">](/attachments/NC4YNCUR.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2217%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 17</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222FDYVZ8A%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2217%22%2C%22position%22%3A%7B%22pageIndex%22%3A16%2C%22rects%22%3A%5B%5B525.836%2C444.24%2C563.997%2C453.711%5D%2C%5B312%2C432.7%2C563.997%2C442.171%5D%2C%5B312%2C421.16%2C563.997%2C430.631%5D%2C%5B312%2C409.62%2C563.997%2C419.091%5D%2C%5B312%2C398.08%2C497.079%2C407.551%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2217%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=17&#x26;annotation=2FDYVZ8A">“Since online conversational data often involves discussions among multiple participants, an effective processing way is to transform a conversation into a tree structure, where the utterance is linked to the one it responds to.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2217%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 17</a></span>)</span> 由于在线对话数据通常涉及多个参与者之间的讨论，因此一种有效的处理方法是将对话转换为树结构，其中话语与其响应的话语相关联。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224E4NGKZQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B83.064%2C714.465%2C299.997%2C723.937%5D%2C%5B48%2C702.925%2C299.997%2C712.397%5D%2C%5B48%2C691.385%2C299.997%2C700.857%5D%2C%5B48%2C679.845%2C299.997%2C689.317%5D%2C%5B48%2C668.305%2C299.997%2C677.777%5D%2C%5B48%2C656.765%2C299.997%2C666.237%5D%2C%5B48%2C645.225%2C299.997%2C654.697%5D%2C%5B48%2C633.685%2C231.416%2C643.157%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=4E4NGKZQ">“In order to enhance the understanding of scientific knowledge for LLMs [35, 203], it is useful to incorporate a scientific corpus for model pre-training [35, 203]. By pretraining on a vast amount of scientific text, LLMs can achieve impressive performance in scientific and reasoning tasks [204]. To construct the scientific corpus, existing efforts mainly collect arXiv papers, scientific textbooks, math webpages, and other related scientific resources.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 为了增强LLM对科学知识的理解\[35,203]，结合科学语料库进行模型预训练是有用的\[35,203]。通过对大量科学文本进行预训练，LLM可以在科学和推理任务中取得令人印象深刻的表现\[204]。为了构建科学语料库，现有的工作主要收集arXiv论文、科学教科书、数学网页和其他相关科学资源。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%229H8FZNG3%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B170.598%2C483.401%2C299.997%2C492.873%5D%2C%5B48%2C471.861%2C299.997%2C481.333%5D%2C%5B48%2C460.321%2C262.291%2C469.793%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=9H8FZNG3">“The generated programs can successfully pass expert-designed unit-test cases [105] or solve competitive programming questions [114].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 生成的程序可以成功通过专家设计的单元测试用例\[105]或解决竞争性编程问题\[114]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225RR9PSAK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B263.279%2C356.461%2C299.997%2C365.933%5D%2C%5B48%2C344.921%2C299.997%2C354.393%5D%2C%5B48%2C333.381%2C300.001%2C342.919%5D%2C%5B48%2C321.841%2C98.35%2C331.313%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=5RR9PSAK">“A recent study [47] also speculates that training on code might be a source of complex reasoning abilities (e.g., chain-of-thought ability [33]).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 最近的一项研究 \[47] 还推测，代码训练可能是复杂推理能力的来源（例如，思维链能力 \[33]）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223LJ4CJCK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B48%2C259.812%2C299.997%2C269.284%5D%2C%5B48%2C248.272%2C299.997%2C257.744%5D%2C%5B48%2C236.732%2C299.997%2C246.204%5D%2C%5B48%2C225.192%2C299.997%2C234.664%5D%2C%5B48%2C213.652%2C246.388%2C223.124%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=3LJ4CJCK">“After collecting a large amount of text data, it is essential to preprocess the data for constructing the pre-training corpus, especially removing noisy, redundant, irrelevant, and potentially toxic data [56, 64, 212], which may largely affect the capacity and performance of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 在收集了大量的文本数据后，必须对数据进行预处理以构建预训练语料库，特别是去除嘈杂、冗余、不相关和潜在有毒的数据\[56,64,212]，这些数据可能会在很大程度上影响LLM的能力和性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VBF34NIL%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B48%2C114.385%2C300.002%2C123.857%5D%2C%5B48%2C102.845%2C299.997%2C112.317%5D%2C%5B48%2C91.305%2C299.997%2C100.777%5D%2C%5B48%2C79.765%2C299.997%2C89.237%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C103.375%2C66.157%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=VBF34NIL">“Quality Filtering. To remove low-quality data from the collected corpus, existing work generally adopts two approaches: (1) classifier-based, and (2) heuristic-based. The former approach trains a selection classifier based on highquality texts and leverages it to identify and filter out lowquality data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 质量过滤。为了从收集的语料库中去除低质量数据，现有工作通常采用两种方法：（1）基于分类器，（2）基于启发式。前一种方法基于高质量文本训练选择分类器，并利用它来识别和过滤掉低质量数据。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22TUFAL6YI%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B463.297%2C714.465%2C563.997%2C723.937%5D%2C%5B312%2C702.925%2C563.997%2C712.397%5D%2C%5B312%2C691.385%2C563.997%2C700.857%5D%2C%5B312%2C679.845%2C563.997%2C689.317%5D%2C%5B312%2C668.305%2C563.997%2C677.777%5D%2C%5B312%2C656.765%2C383.184%2C666.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=TUFAL6YI">“However, several studies [64, 112] find that a classifier-based approach may result in the unintentional removal of high-quality texts in dialectal, colloquial, and sociolectal languages, which potentially leads to bias in the pre-training corpus and diminishes the corpus diversity.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 然而，一些研究 \[64, 112] 发现，基于分类器的方法可能会导致无意中删除方言、口语和社会语言中的高质量文本，这可能会导致预训练语料库中的偏差并减少语料库多样性。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22N9CJ24DX%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B326.173%2C596.132%2C563.998%2C605.67%5D%2C%5B326.173%2C584.592%2C564.005%2C594.064%5D%2C%5B326.173%2C573.052%2C420.546%2C582.524%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=N9CJ24DX">“Language based filtering. If a LLM would be mainly used in the tasks of certain languages, the text in other languages can be filtered.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 基于语言的过滤。如果LLM主要用于某些语言的任务，则可以过滤其他语言的文本。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22G9IPPZAP%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B326.173%2C556.531%2C564.001%2C566.069%5D%2C%5B326.173%2C544.991%2C563.998%2C554.529%5D%2C%5B326.173%2C533.451%2C447.203%2C542.923%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=G9IPPZAP">“Metric based filtering. Evaluation metrics about the generated texts, e.g., perplexity, can be employed to detect and remove unnatural sentences.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 基于指标的过滤。关于生成文本的评估指标（例如困惑度）可用于检测和删除不自然的句子。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22S3T4VAS8%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B326.173%2C516.929%2C564.004%2C526.467%5D%2C%5B326.173%2C505.389%2C564.003%2C514.927%5D%2C%5B326.173%2C493.849%2C564.006%2C503.321%5D%2C%5B326.173%2C482.309%2C487.873%2C491.781%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=S3T4VAS8">“Statistic based filtering. Statistical features of a corpus, e.g., the punctuation distribution, symbol-to-word ratio, and sentence length, can be utilized to measure the text quality and filter the low-quality data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 基于统计的过滤。语料库的统计特征，例如标点分布、符号与单词的比率、句子长度，可以用来衡量文本质量并过滤低质量数据。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225EZQEGAZ%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B326.173%2C465.788%2C564.003%2C475.326%5D%2C%5B326.173%2C454.248%2C563.996%2C463.72%5D%2C%5B326.173%2C442.708%2C563.996%2C452.18%5D%2C%5B326.173%2C431.168%2C440.458%2C440.64%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=5EZQEGAZ">“Keyword based filtering. Based on specific keyword set, the noisy or unuseful elements in the text, such as HTML tags, hyperlinks, boilerplates, and offensive words, can be identified and removed.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 基于关键字的过滤。根据特定的关键字集，可以识别并删除文本中的噪音或无用元素，例如 HTML 标签、超链接、样板文件和攻击性词语。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224YQH6R6J%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B383.846%2C410.012%2C564.004%2C419.484%5D%2C%5B312%2C398.472%2C563.997%2C407.944%5D%2C%5B312%2C386.932%2C563.997%2C396.404%5D%2C%5B312%2C375.392%2C502.133%2C384.864%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=4YQH6R6J">“Existing work [214] has found that duplicate data in a corpus would reduce the diversity of language models, which may cause the training process to become unstable and thus affect the model performance.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 现有工作\[214]发现语料库中的重复数据会降低语言模型的多样性，这可能导致训练过程变得不稳定，从而影响模型性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22G7Y3QCF6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B524.885%2C363.852%2C563.997%2C373.324%5D%2C%5B312%2C352.312%2C563.997%2C361.784%5D%2C%5B312%2C340.772%2C563.997%2C350.244%5D%2C%5B312%2C329.232%2C563.997%2C338.704%5D%2C%5B312%2C317.692%2C563.997%2C327.164%5D%2C%5B312%2C306.152%2C563.997%2C315.624%5D%2C%5B312%2C294.612%2C563.997%2C304.084%5D%2C%5B312%2C283.072%2C564.001%2C292.665%5D%2C%5B312%2C271.532%2C563.997%2C281.004%5D%2C%5B312%2C259.992%2C563.997%2C269.464%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=G7Y3QCF6">“Specially, de-duplication can be performed at different granularities, including sentence-level, document-level, and dataset-level de-duplication. First, low-quality sentences that contain repeated words and phrases should be removed, as they may introduce repetitive patterns in language modeling [215]. At the document level, existing studies mostly rely on the overlap ratio of surface features (e.g., words and n-grams overlap) between documents to detect and remove duplicate documents containing similar contents [57, 64, 78, 216].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 特别地，重复数据删除可以在不同的粒度上进行，包括句子级、文档级和数据集级重复数据删除。首先，应删除包含重复单词和短语的低质量句子，因为它们可能会在语言建模中引入重复模式\[215]。在文档层面，现有研究主要依靠文档之间表面特征的重叠率（例如单词和n-gram重叠）来检测和删除包含相似内容的重复文档\[57,64,78,216]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JUBDN27Q%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2218%22%2C%22position%22%3A%7B%22pageIndex%22%3A17%2C%22rects%22%3A%5B%5B396.991%2C172.085%2C564.001%2C181.557%5D%2C%5B312%2C160.545%2C563.997%2C170.017%5D%2C%5B312%2C149.005%2C563.997%2C158.477%5D%2C%5B312%2C137.465%2C496.072%2C146.937%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=18&#x26;annotation=JUBDN27Q">“The majority of pre-training text data is obtained from web sources, including user-generated content involving sensitive or personal information, which may increase the risk of privacy breaches [218].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2218%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 18</a></span>)</span> 大多数预训练文本数据是从网络来源获得的，包括用户生成的涉及敏感或个人信息的内容，这可能会增加隐私泄露的风险\[218]。

![\<img data-attachment-key="3YWRXENQ" width="890" height="238" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22MQYB5PVB%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2219%22%2C%22position%22%3A%7B%22pageIndex%22%3A18%2C%22rects%22%3A%5B%5B33.971%2C615.971%2C568.235%2C758.912%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%7D" src="attachments/3YWRXENQ.png" ztype="zimage">](/attachments/3YWRXENQ.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 19</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UBNXW36T%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2219%22%2C%22position%22%3A%7B%22pageIndex%22%3A18%2C%22rects%22%3A%5B%5B48%2C571.914%2C300.001%2C581.385%5D%2C%5B48%2C560.374%2C299.997%2C569.846%5D%2C%5B48%2C548.834%2C299.997%2C558.306%5D%2C%5B48%2C537.294%2C116.552%2C546.832%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=19&#x26;annotation=UBNXW36T">“Tokenization. Tokenization is also a crucial step for data preprocessing. It aims to segment raw text into sequences of individual tokens, which are subsequently used as the inputs of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 19</a></span>)</span> 代币化。标记化也是数据预处理的关键步骤。它旨在将原始文本分割成单个标记的序列，这些标记随后用作 LLM 的输入。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KL6BVHNM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2219%22%2C%22position%22%3A%7B%22pageIndex%22%3A18%2C%22rects%22%3A%5B%5B48%2C410.354%2C299.997%2C419.892%5D%2C%5B48%2C398.814%2C299.997%2C408.285%5D%2C%5B48%2C387.274%2C299.997%2C396.745%5D%2C%5B48%2C375.734%2C146.762%2C385.205%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=19&#x26;annotation=KL6BVHNM">“Recently, subword tokenizers have been widely used in Transformer based language models, typically including BytePair Encoding tokenization, WordPiece tokenization and Unigram tokenization.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 19</a></span>)</span> 最近，子词分词器已广泛应用于基于 Transformer 的语言模型中，通常包括 BytePair Encoding 分词器、WordPiece 分词器和 Unigram 分词器。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2264S4KC7C%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2219%22%2C%22position%22%3A%7B%22pageIndex%22%3A18%2C%22rects%22%3A%5B%5B440.411%2C91.305%2C563.997%2C100.776%5D%2C%5B312%2C79.765%2C563.997%2C89.236%5D%2C%5B312%2C68.225%2C563.997%2C77.696%5D%2C%5B312%2C56.685%2C564.001%2C66.223%5D%2C%5B312%2C45.145%2C553.101%2C54.616%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=19&#x26;annotation=64S4KC7C">“For example, LLaMA trains the BPE tokenizer based on a pre-training corpus mainly consisting of English texts, and the derived vocabulary might be less capable in processing non-English data, e.g., taking longer inference latency to generate Chinese texts.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2219%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 19</a></span>)</span> 例如，LLaMA 基于主要由英语文本组成的预训练语料库来训练 BPE 分词器，而派生词汇在处理非英语数据方面可能较差，例如，需要较长的推理延迟才能生成中文文本。

![\<img data-attachment-key="YZQMVLL3" width="463" height="251" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22Q9G4NE9B%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B29.167%2C607.417%2C306.667%2C757.833%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" src="attachments/YZQMVLL3.png" ztype="zimage">](/attachments/YZQMVLL3.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22NDG5HBW7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B155.322%2C496.007%2C299.997%2C505.479%5D%2C%5B48%2C484.467%2C299.997%2C493.939%5D%2C%5B48%2C472.927%2C299.997%2C482.399%5D%2C%5B48%2C461.387%2C299.997%2C470.859%5D%2C%5B48%2C449.847%2C300%2C459.385%5D%2C%5B48%2C438.307%2C299.997%2C447.845%5D%2C%5B48%2C426.767%2C299.997%2C436.239%5D%2C%5B48%2C415.227%2C246.36%2C424.699%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=NDG5HBW7">“By comparing the performance of models trained on the filtered and unfiltered corpus, they have reached the similar conclusion that pre-training LLMs on cleaned data can improve the model performance. More specifically, the duplication of data may result in “double descent” (referring to the phenomenon of performance initially deteriorating and subsequently improving) [214, 228], or even overwhelm the training process [214].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 通过比较在过滤和未过滤的语料库上训练的模型的性能，他们得出了类似的结论，即在清理后的数据上预训练 LLM 可以提高模型性能。更具体地说，数据的重复可能会导致“双重下降”（指性能最初恶化然后提高的现象）\[214, 228]，甚至压垮训练过程\[214]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EGUDIQET%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B113.255%2C369.067%2C299.997%2C378.539%5D%2C%5B48%2C357.527%2C299.997%2C366.999%5D%2C%5B48%2C345.987%2C299.997%2C355.459%5D%2C%5B48%2C334.447%2C299.997%2C343.918%5D%2C%5B48%2C322.907%2C299.997%2C332.378%5D%2C%5B48%2C311.367%2C149.118%2C320.838%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=EGUDIQET">“Therefore, as suggested in [56, 64, 78, 212], it is essential to utilize preprocessing methods like quality filtering, toxic filtering and deduplication to carefully clean the pre-training corpus (as illustrated in Section 4.1.2), to improve stability of the training process and avoid affecting the model performance.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 因此，正如\[56,64,78,212]中所建议的，有必要利用质量过滤、有毒过滤和重复数据删除等预处理方法来仔细清理预训练语料库（如第4.1.2节所示），以提高训练过程的稳定性，避免影响模型性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22WFAKFA5L%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B48%2C271.453%2C299.997%2C280.924%5D%2C%5B48%2C259.913%2C299.997%2C269.384%5D%2C%5B48%2C248.373%2C299.997%2C257.844%5D%2C%5B48%2C236.833%2C299.997%2C246.304%5D%2C%5B48%2C225.293%2C299.998%2C234.831%5D%2C%5B48%2C213.753%2C300%2C223.291%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=WFAKFA5L">“After data preprocessing, it is essential to design suitable strategies to schedule these multi-source data for pretraining a capable LLM. Generally, two key aspects should be paid close attention for data scheduling: the proportion of each data source (data mixture), and the order in which each data source is scheduled for training (data curriculum).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 在数据预处理之后，必须设计合适的策略来调度这些多源数据，以预训练一个有能力的 LLM。一般来说，数据调度需要重点关注两个关键方面：每个数据源的占比（数据混合），以及每个数据源调度训练的顺序（数据课程）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22X7CKQJ47%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B406.772%2C610.605%2C563.997%2C620.077%5D%2C%5B312%2C599.065%2C563.997%2C608.537%5D%2C%5B312%2C587.525%2C555.058%2C596.997%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=X7CKQJ47">“In practice, data mixture is often determined empirically, and we summarize several common strategies for finding an effective data mixture as follows:”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 在实践中，数据混合通常是根据经验确定的，我们总结了几种寻找有效数据混合的常见策略如下：

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KDQKNR4X%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B335.658%2C575.985%2C564.002%2C586.136%5D%2C%5B312%2C564.445%2C563.997%2C573.917%5D%2C%5B312%2C552.905%2C563.997%2C562.377%5D%2C%5B312%2C541.365%2C563.997%2C550.837%5D%2C%5B312%2C529.825%2C564%2C539.363%5D%2C%5B312%2C518.285%2C563.997%2C527.757%5D%2C%5B312%2C506.745%2C513.999%2C516.217%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=KDQKNR4X">“Increasing the diversity of data sources. Recent studies have empirically shown that training on excessive data about a certain domain would degrade the generalization capability of LLMs on other domains [35, 64]. In contrast, increasing the data source heterogeneity (e.g., including diverse data sources) is critical for improving the downstream performance of LLMs [212, 229, 230].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 增加数据源的多样性。最近的经验研究表明，对某个领域的过多数据进行训练会降低LLM在其他领域的泛化能力\[35,64]。相比之下，增加数据源的异质性（例如，包括不同的数据源）对于提高LLM的下游性能至关重要\[212,229,230]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VAGQY63V%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B334.672%2C414.425%2C564.005%2C424.576%5D%2C%5B312%2C402.885%2C563.997%2C412.357%5D%2C%5B312%2C391.345%2C563.997%2C400.817%5D%2C%5B312%2C379.805%2C563.997%2C389.277%5D%2C%5B312%2C368.265%2C563.997%2C377.737%5D%2C%5B312%2C356.725%2C563.997%2C366.197%5D%2C%5B312%2C345.185%2C527.517%2C354.657%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=VAGQY63V">“Optimizing data mixtures. In addition to manually setting the data mixtures, several studies have proposed to optimize the data mixtures for improving the model pretraining [59, 231]. Given the target downstream tasks, one can select pre-training data with either higher proximity in the feature space [231] or those that provide positive influences on downstream task performance [232].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 优化数据混合。除了手动设置数据混合之外，一些研究还提出优化数据混合以改进模型预训练\[59, 231]。给定目标下游任务，我们可以选择在特征空间\[231]中具有更高接近度的预训练数据，或者对下游任务性能产生积极影响的预训练数据\[232]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HQH7EZQK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2220%22%2C%22position%22%3A%7B%22pageIndex%22%3A19%2C%22rects%22%3A%5B%5B335.234%2C183.625%2C564.005%2C193.776%5D%2C%5B312%2C172.085%2C563.997%2C181.557%5D%2C%5B312%2C160.545%2C563.997%2C170.017%5D%2C%5B312%2C149.005%2C487.722%2C158.477%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=20&#x26;annotation=HQH7EZQK">“Specializing the targeted abilities. The model capacities of LLMs heavily rely on data selection and mixture, and one can boost the proportions of specific data sources to enhance certain model abilities [64, 212].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2220%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 20</a></span>)</span> 专门化目标能力。LLM的模型能力很大程度上依赖于数据选择和混合，可以提高特定数据源的比例来增强某些模型的能力\[64,212]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CHSTAGD6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2221%22%2C%22position%22%3A%7B%22pageIndex%22%3A20%2C%22rects%22%3A%5B%5B193.435%2C737.545%2C299.997%2C747.017%5D%2C%5B48%2C726.005%2C299.997%2C735.477%5D%2C%5B48%2C714.465%2C299.997%2C723.937%5D%2C%5B48%2C702.925%2C300.004%2C712.463%5D%2C%5B48%2C691.385%2C222.116%2C700.857%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=21&#x26;annotation=CHSTAGD6">“To enhance specific skills such as mathematics and coding in LLMs, or to develop specialized LLMs, a practical way is to employ a multi-stage training approach, e.g., general and skill-specific data can be scheduled at two consecutive stages.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 21</a></span>)</span> 为了提高LLM中的数学和编码等特定技能，或开发专门的LLM，一种实用的方法是采用多阶段训练方法，例如，一般和特定技能的数据可以安排在两个连续的阶段。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JZZ3ZYH2%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2221%22%2C%22position%22%3A%7B%22pageIndex%22%3A20%2C%22rects%22%3A%5B%5B137.706%2C638.133%2C300.004%2C647.605%5D%2C%5B48%2C626.593%2C299.997%2C636.065%5D%2C%5B48%2C615.053%2C299.997%2C624.525%5D%2C%5B48%2C603.513%2C299.997%2C612.985%5D%2C%5B48%2C591.973%2C300%2C602.124%5D%2C%5B48%2C580.433%2C299.997%2C589.905%5D%2C%5B48%2C568.893%2C115.478%2C578.365%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=21&#x26;annotation=JZZ3ZYH2">“After preparing the data mixture, it is important to schedule the order that specific data is presented to LLMs for pre-training. It has been shown that, in some cases, to learn a certain skill, learning in a skillset sequence (e.g., basic skills → target skill) outperforms direct learning from a corpus focused solely on the target skill [234, 235].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 21</a></span>)</span> 在准备好数据混合之后，重要的是要安排将特定数据呈现给 LLM 进行预训练的顺序。研究表明，在某些情况下，要学习某种技能，技能组合序列（例如，基本技能→目标技能）的学习优于仅针对目标技能的语料库中的直接学习\[234,235]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222MY85B2R%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2221%22%2C%22position%22%3A%7B%22pageIndex%22%3A20%2C%22rects%22%3A%5B%5B275.059%2C187.256%2C299.997%2C196.728%5D%2C%5B48%2C175.716%2C299.997%2C185.188%5D%2C%5B48%2C164.176%2C299.997%2C173.648%5D%2C%5B48%2C152.636%2C300%2C162.787%5D%2C%5B48%2C141.096%2C187.566%2C151.247%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=21&#x26;annotation=2MY85B2R">“Based on CodeLLaMA, Llemma is continually trained on mixtures of scientific papers, web data containing mathematical text and code (2T general tokens → 500B code-heavy tokens → 50∼200B math-heavy tokens).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 21</a></span>)</span> 基于 CodeLLaMA，Llemma 不断接受科学论文、包含数学文本和代码的网络数据的混合训练（2T 通用标记 → 500B 代码密集型标记 → 50∼200B 数学密集型标记）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FNSY4SHD%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2221%22%2C%22position%22%3A%7B%22pageIndex%22%3A20%2C%22rects%22%3A%5B%5B334.661%2C573.938%2C564%2C584.089%5D%2C%5B312%2C562.398%2C458.404%2C571.87%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=21&#x26;annotation=FNSY4SHD">“Data collection. It is suggested to include diverse data sources in the pre-training data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 21</a></span>)</span> 数据采集​​。建议在预训练数据中包含不同的数据源。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22TX5EVVJ4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2221%22%2C%22position%22%3A%7B%22pageIndex%22%3A20%2C%22rects%22%3A%5B%5B333.746%2C458.517%2C564.001%2C468.668%5D%2C%5B312%2C446.977%2C563.997%2C456.449%5D%2C%5B312%2C435.437%2C563.997%2C444.909%5D%2C%5B312%2C423.897%2C563.997%2C433.369%5D%2C%5B312%2C412.357%2C563.997%2C421.829%5D%2C%5B312%2C400.817%2C564.005%2C410.355%5D%2C%5B312%2C389.277%2C563.997%2C398.749%5D%2C%5B312%2C377.737%2C563.996%2C387.275%5D%2C%5B312%2C366.197%2C563.997%2C375.669%5D%2C%5B312%2C354.657%2C563.997%2C364.129%5D%2C%5B312%2C343.117%2C563.997%2C352.589%5D%2C%5B312%2C331.577%2C563.997%2C341.049%5D%2C%5B312%2C320.037%2C451.507%2C329.509%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=21&#x26;annotation=TX5EVVJ4">“Data cleaning. After data collection, it is crucial to clean the raw corpus to enhance its quality as possible. First, deduplication is commonly used in existing work [99, 141, 229]. Second, low-quality text, toxic content, and data with privacy concerns should be removed at different granularities (e.g., document, passage or sentence). In practice, both heuristic and classifier-based methods can be employed for quality and toxicity filtering (e.g., CCNet [241], fastText [242], and Data-Juicer [243]). Third, with the cleaned data, one can further unify or specify the format for pretraining data, and perform the tokenization by training the tokenizer on the filtered and deduplicated corpus with libraries like SentencePiece [226].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 21</a></span>)</span> 数据清理。数据收集后，清理原始语料库以尽可能提高其质量至关重要。首先，重复数据删除在现有工作中普遍使用\[99,141,229]。其次，应以不同的粒度（例如文档、段落或句子）删除低质量文本、有毒内容和涉及隐私问题的数据。在实践中，启发式方法和基于分类器的方法都可以用于质量和毒性过滤（例如，CCNet \[241]、fastText \[242] 和 Data-Juicer \[243]）。第三，利用清理后的数据，我们可以进一步统一或指定预训练数据的格式，并通过使用 SentencePiece \[226] 等库在过滤和去重的语料库上训练标记器来执行标记化。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223B7QWVMJ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2221%22%2C%22position%22%3A%7B%22pageIndex%22%3A20%2C%22rects%22%3A%5B%5B334.854%2C308.476%2C563.998%2C318.627%5D%2C%5B312%2C296.936%2C563.997%2C306.408%5D%2C%5B312%2C285.396%2C438.987%2C294.868%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=21&#x26;annotation=3B7QWVMJ">“Data scheduling. With the preprocessed data, the next step is to determine the data mixture and the specific order of data for pre-training LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2221%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 21</a></span>)</span> 数据调度。有了预处理后的数据，下一步就是确定预训练 LLM 的数据混合和数据的具体顺序。

![\<img data-attachment-key="22WST9EJ" width="873" height="301" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DRQN2WID%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2222%22%2C%22position%22%3A%7B%22pageIndex%22%3A21%2C%22rects%22%3A%5B%5B52.5%2C534.083%2C576.25%2C714.5%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2222%22%7D%7D" src="attachments/22WST9EJ.png" ztype="zimage">](/attachments/22WST9EJ.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 22</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22792HXXUF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2222%22%2C%22position%22%3A%7B%22pageIndex%22%3A21%2C%22rects%22%3A%5B%5B48%2C238.942%2C299.997%2C248.413%5D%2C%5B48%2C227.402%2C299.997%2C236.873%5D%2C%5B48%2C215.862%2C299.997%2C225.333%5D%2C%5B48%2C204.322%2C126.783%2C213.793%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2222%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=22&#x26;annotation=792HXXUF">“In general, the mainstream architectures of existing LLMs can be roughly categorized into three major types, namely encoder-decoder, causal decoder, and prefix decoder, as shown in Figure 9.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2222%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 22</a></span>)</span> 总的来说，现有LLM的主流架构可以大致分为三大类，即编码器-解码器、因果解码器和前缀解码器，如图9所示。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VED5RPA7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2223%22%2C%22position%22%3A%7B%22pageIndex%22%3A22%2C%22rects%22%3A%5B%5B48%2C695.232%2C299.996%2C704.704%5D%2C%5B48%2C683.692%2C299.998%2C693.23%5D%2C%5B48%2C672.152%2C299.997%2C681.624%5D%2C%5B48%2C660.612%2C299.997%2C670.084%5D%2C%5B48%2C649.072%2C244.147%2C658.544%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=23&#x26;annotation=VED5RPA7">“Prefix Decoder Architecture. The prefix decoder architecture (a.k.a., non-causal decoder [244]) revises the masking mechanism of causal decoders, to enable performing bidirectional attention over the prefix tokens [245] and unidirectional attention only on generated tokens.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 23</a></span>)</span> 前缀解码器架构。前缀解码器架构（又名非因果解码器\[244]）修改了因果解码器的屏蔽机制，以实现对前缀标记\[245]执行双向注意，并仅对生成的标记执行单向注意。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HQC3SGNU%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2223%22%2C%22position%22%3A%7B%22pageIndex%22%3A22%2C%22rects%22%3A%5B%5B448.316%2C539.376%2C563.997%2C548.848%5D%2C%5B312%2C527.836%2C563.997%2C537.308%5D%2C%5B312%2C516.296%2C537.121%2C525.834%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=23&#x26;annotation=HQC3SGNU">“Recently, several advanced normalization techniques have been proposed as alternatives to LayerNorm, e.g., RMSNorm, and DeepNorm.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 23</a></span>)</span> 最近，已经提出了几种先进的归一化技术作为 LayerNorm 的替代方案，例如 RMSNorm 和 DeepNorm。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BVF6YFNX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2223%22%2C%22position%22%3A%7B%22pageIndex%22%3A22%2C%22rects%22%3A%5B%5B336.58%2C423.02%2C564%2C433.171%5D%2C%5B312%2C411.48%2C563.997%2C420.952%5D%2C%5B312%2C399.94%2C563.997%2C409.412%5D%2C%5B312%2C388.4%2C563.997%2C397.872%5D%2C%5B312%2C376.86%2C563.997%2C386.332%5D%2C%5B312%2C365.32%2C510.417%2C374.792%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=23&#x26;annotation=BVF6YFNX">“RMSNorm. To improve the training speed of LayerNorm (LN), RMSNorm [257] is proposed by re-scaling the activations with only the root mean square (RMS) of the summed activations, instead of the mean and variance. Related research has demonstrated its superiority in training speed and performance on Transformer [266].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 23</a></span>)</span> RMS 范数。为了提高 LayerNorm (LN) 的训练速度，RMSNorm \[257] 提出通过仅使用总激活的均方根 (RMS) 而不是均值和方差来重新缩放激活。相关研究证明了其在 Transformer 上训练速度和性能的优越性\[266]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22E6X4MV7J%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2223%22%2C%22position%22%3A%7B%22pageIndex%22%3A22%2C%22rects%22%3A%5B%5B338.671%2C207.183%2C564.002%2C217.334%5D%2C%5B312%2C195.643%2C563.997%2C205.115%5D%2C%5B312%2C184.103%2C563.997%2C193.575%5D%2C%5B312%2C172.563%2C563.997%2C182.035%5D%2C%5B312%2C161.023%2C466.052%2C170.495%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=23&#x26;annotation=E6X4MV7J">“Post-LN. Post-LN is used in the vanilla Transformer [22], which is placed between residual blocks. However, existing work has found that the training of Transformers with post-LN tends to be instable due to the large gradients near the output layer [267].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 23</a></span>)</span> LN 后。后LN用于原版变压器\[22]，它被放置在残余块之间。然而，现有的研究发现，由于输出层附近的梯度很大，使用后LN的Transformer训练往往不稳定\[267]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223HIWRPLD%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2223%22%2C%22position%22%3A%7B%22pageIndex%22%3A22%2C%22rects%22%3A%5B%5B333.262%2C114.385%2C563.996%2C124.536%5D%2C%5B312%2C102.845%2C563.997%2C112.317%5D%2C%5B312%2C91.305%2C563.997%2C100.777%5D%2C%5B312%2C79.765%2C563.997%2C89.237%5D%2C%5B312%2C68.225%2C563.997%2C77.697%5D%2C%5B312%2C56.685%2C563.997%2C66.157%5D%2C%5B312%2C45.145%2C464.788%2C54.617%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=23&#x26;annotation=3HIWRPLD">“Pre-LN. Different from post-LN, pre-LN [268] is applied before each sub-layer, and an additional LN is placed before the final prediction. Compared with post-LN, the Transformers with pre-LN are more stable in training. However, it performs worse than the variants with post-LN [269]. Despite the decreasing performance, most LLMs still adopt pre-LN due to the training stability.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2223%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 23</a></span>)</span> 预 LN。与后 LN 不同，pre-LN \[268] 在每个子层之前应用，并在最终预测之前放置一个额外的 LN。与后LN相比，前LN的Transformer在训练中更加稳定。然而，其表现不如LN后变异型\[269]。尽管性能下降，但由于训练稳定性，大多数 LLM 仍然采用 pre-LN。

![\<img data-attachment-key="K3LYJLTV" width="779" height="348" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%228TQH3FMV%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2224%22%2C%22position%22%3A%7B%22pageIndex%22%3A23%2C%22rects%22%3A%5B%5B78.333%2C497.417%2C545.833%2C706.167%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2224%22%7D%7D" src="attachments/K3LYJLTV.png" ztype="zimage">](/attachments/K3LYJLTV.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2224%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 24</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JSQ7KS8Q%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2224%22%2C%22position%22%3A%7B%22pageIndex%22%3A23%2C%22rects%22%3A%5B%5B95.101%2C351.359%2C299.997%2C360.83%5D%2C%5B48%2C339.819%2C300%2C349.357%5D%2C%5B48%2C328.279%2C299.997%2C337.75%5D%2C%5B48%2C316.739%2C299.997%2C326.21%5D%2C%5B48%2C305.199%2C299.997%2C314.67%5D%2C%5B48%2C293.659%2C299.997%2C303.13%5D%2C%5B48%2C282.119%2C269.037%2C291.59%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2224%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=24&#x26;annotation=JSQ7KS8Q">“In existing LLMs, GeLU activations [270] are widely used. Specially, in the latest LLMs (e.g., PaLM and LaMDA), variants of GLU activation [262, 271] have also been utilized, especially the SwiGLU and GeGLU variants, which often achieve better performance in practice [266]. However, compared with GeLU, they require extra parameters (about 50%) in the feed-forward networks [272].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2224%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 24</a></span>)</span> 在现有的LLM中，GeLU激活\[270]被广泛使用。特别是在最新的LLM（例如PaLM和LaMDA）中，GLU激活的变体\[262,271]也被使用，特别是SwiGLU和GeGLU变体，它们在实践中通常具有更好的性能\[266]。然而，与GeLU相比，它们在前馈网络中需要额外的参数（约50%）\[272]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22WXS7GMTY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2224%22%2C%22position%22%3A%7B%22pageIndex%22%3A23%2C%22rects%22%3A%5B%5B312%2C160.698%2C563.997%2C170.169%5D%2C%5B312%2C149.158%2C564.001%2C158.696%5D%2C%5B312%2C137.618%2C430.807%2C147.089%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2224%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=24&#x26;annotation=WXS7GMTY">“Due to the excellent performance and the long-term decay property, RoPE is widely adopted in the latest LLMs, e.g., PaLM [56] and LLaMA [57].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2224%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 24</a></span>)</span> 由于其优异的性能和长期衰减特性，RoPE在最新的LLM中被广泛采用，例如PaLM \[56]和LLaMA \[57]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22I9HTGVUL%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2225%22%2C%22position%22%3A%7B%22pageIndex%22%3A24%2C%22rects%22%3A%5B%5B71.533%2C474.068%2C300.005%2C484.219%5D%2C%5B48%2C462.528%2C299.997%2C472%5D%2C%5B48%2C450.988%2C251.965%2C460.46%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=25&#x26;annotation=I9HTGVUL">“Sparse attention. A crucial challenge of full attention is the quadratic computational complexity, which becomes a burden when dealing with long sequences.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 25</a></span>)</span> 注意力稀疏。充分注意的一个关键挑战是二次计算复杂性，这在处理长序列时成为负担。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22M69VPUQH%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2225%22%2C%22position%22%3A%7B%22pageIndex%22%3A24%2C%22rects%22%3A%5B%5B136.932%2C218.245%2C300%2C228.396%5D%2C%5B48%2C206.705%2C299.997%2C216.177%5D%2C%5B48%2C195.165%2C299.997%2C204.637%5D%2C%5B48%2C183.625%2C299.997%2C193.097%5D%2C%5B48%2C172.085%2C299.997%2C181.557%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=25&#x26;annotation=M69VPUQH">“Different from most existing approximate attention methods that trade-off model quality to improve the computing efficiency, FlashAttention [283] proposes to optimize the speed and memory consumption of attention modules on GPUs from an IO-aware perspective.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 25</a></span>)</span> 与大多数现有的权衡模型质量以提高计算效率的近似注意力方法不同，FlashAttention\[283]提出从IO感知的角度优化GPU上注意力模块的速度和内存消耗。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BXL95NT2%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2225%22%2C%22position%22%3A%7B%22pageIndex%22%3A24%2C%22rects%22%3A%5B%5B402.724%2C737.545%2C563.996%2C747.696%5D%2C%5B312%2C726.005%2C563.997%2C735.477%5D%2C%5B312%2C714.465%2C564%2C724.003%5D%2C%5B312%2C702.925%2C563.997%2C712.397%5D%2C%5B312%2C691.385%2C563.997%2C700.857%5D%2C%5B312%2C679.845%2C563.997%2C689.317%5D%2C%5B312%2C668.305%2C563.997%2C677.777%5D%2C%5B312%2C656.765%2C563.997%2C666.237%5D%2C%5B312%2C645.225%2C563.997%2C654.697%5D%2C%5B312%2C633.685%2C563.997%2C643.157%5D%2C%5B312%2C622.145%2C563.997%2C631.617%5D%2C%5B312%2C610.605%2C563.997%2C620.077%5D%2C%5B312%2C599.065%2C471.515%2C608.537%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=25&#x26;annotation=BXL95NT2">“It has been observed when LLM are deployed on servers, GPU memory is largely occupied by cached attention key and value tensors (called KV cache). The major reason is that the input lengths are often varied, leading to fragmentation and over-reservation issues. Inspired by the classic paging technique in operating systems, PagedAttention has been proposed to improve the memory efficiency and throughput of deployed LLMs [285]. In detail, PagedAttention partitions each sequence into subsequences, and the corresponding KV caches of these subsequences are allocated into non-contiguous physical blocks. The paging technique increases the GPU utilization and enables efficient memory sharing in parallel sampling.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 25</a></span>)</span> 据观察，当 LLM 部署在服务器上时，GPU 内存主要被缓存的注意力键和值张量（称为 KV 缓存）占用。主要原因是输入长度经常变化，导致碎片和过度保留问题。受操作系统中经典分页技术的启发，PagedAttention被提出用于提高已部署LLM的内存效率和吞吐量\[285]。具体来说，PagedAttention 将每个序列划分为子序列，并将这些子序列的相应 KV 缓存分配到非连续的物理块中。分页技术可提高 GPU 利用率，并在并行采样中实现高效的内存共享。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VB8ADPV8%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2225%22%2C%22position%22%3A%7B%22pageIndex%22%3A24%2C%22rects%22%3A%5B%5B334.258%2C563.803%2C563.997%2C573.275%5D%2C%5B312%2C552.263%2C563.997%2C561.735%5D%2C%5B312%2C540.723%2C563.997%2C550.195%5D%2C%5B312%2C529.183%2C563.997%2C538.655%5D%2C%5B312%2C517.643%2C563.997%2C527.115%5D%2C%5B312%2C506.103%2C563.997%2C515.575%5D%2C%5B312%2C494.563%2C492.101%2C504.035%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=25&#x26;annotation=VB8ADPV8">“For stronger generalization and training stability, it is suggested to choose the pre RMSNorm for layer normalization, and SwiGLU or GeGLU as the activation function. In addition, LN may not be used immediately after embedding layers, which is likely to incur performance degradation. As for position embeddings, RoPE or ALiBi is a better choice since it performs better on long sequences.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 25</a></span>)</span> 为了更强的泛化性和训练稳定性，建议选择pre RMSNorm进行层归一化，并选择SwiGLU或GeGLU作为激活函数。此外，LN 可能不会在嵌入层后立即使用，这可能会导致性能下降。至于位置嵌入，RoPE 或 ALiBi 是更好的选择，因为它在长序列上表现更好。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2269A42ISU%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2225%22%2C%22position%22%3A%7B%22pageIndex%22%3A24%2C%22rects%22%3A%5B%5B505.658%2C190.949%2C563.997%2C200.421%5D%2C%5B312%2C179.409%2C563.996%2C188.947%5D%2C%5B312%2C167.869%2C563.997%2C177.341%5D%2C%5B312%2C156.329%2C563.997%2C165.801%5D%2C%5B312%2C144.789%2C563.997%2C154.261%5D%2C%5B312%2C133.249%2C563.997%2C142.721%5D%2C%5B312%2C121.709%2C563.997%2C131.181%5D%2C%5B312%2C110.169%2C563.997%2C119.641%5D%2C%5B312%2C98.629%2C482.991%2C108.101%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=25&#x26;annotation=69A42ISU">“An important variant of LM is the prefix language modeling task, which is designed for pre-training models with the prefix decoder architecture. The tokens within a randomly selected prefix would not be used in computing the loss of prefix language modeling. With the same amount of tokens seen during pretraining, prefix language modeling performs slightly worse than language modeling, since fewer tokens in the sequence are involved for model pre-training [29].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2225%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 25</a></span>)</span> LM 的一个重要变体是前缀语言建模任务，它是为具有前缀解码器架构的预训练模型而设计的。随机选择的前缀内的标记不会用于计算前缀语言建模的损失。在预训练期间看到的标记数量相同的情况下，前缀语言建模的表现比语言建模稍差，因为模型预训练涉及的序列中的标记较少\[29]。

![\<img data-attachment-key="BLMFSXQG" width="465" height="260" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22PK2E55EZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2226%22%2C%22position%22%3A%7B%22pageIndex%22%3A25%2C%22rects%22%3A%5B%5B30.625%2C608.875%2C309.375%2C764.5%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%7D" src="attachments/BLMFSXQG.png" ztype="zimage">](/attachments/BLMFSXQG.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 26</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22QBTMNIRT%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2226%22%2C%22position%22%3A%7B%22pageIndex%22%3A25%2C%22rects%22%3A%5B%5B125.843%2C179.005%2C299.997%2C188.476%5D%2C%5B48%2C167.465%2C299.997%2C176.936%5D%2C%5B48%2C155.925%2C298.496%2C165.396%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=26&#x26;annotation=QBTMNIRT">“To enhance the long context modeling abilities, there are generally two feasible directions, namely scaling position embeddings and adapting context window”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 26</a></span>)</span> 为了增强长上下文建模能力，通常有两个可行的方向，即缩放位置嵌入和自适应上下文窗口

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22GXJX39WZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2226%22%2C%22position%22%3A%7B%22pageIndex%22%3A25%2C%22rects%22%3A%5B%5B368.041%2C726.005%2C563.997%2C735.476%5D%2C%5B312%2C714.465%2C563.997%2C723.937%5D%2C%5B312%2C702.925%2C453.512%2C712.397%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=26&#x26;annotation=GXJX39WZ">“However, as one of the mainstream position embedding methods, RoPE exhibits limited extrapolation ability in empirical studies [240].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 26</a></span>)</span> 然而，作为主流位置嵌入方法之一，RoPE在实证研究中表现出有限的外推能力\[240]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225W8TPL6J%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2226%22%2C%22position%22%3A%7B%22pageIndex%22%3A25%2C%22rects%22%3A%5B%5B368.535%2C610.605%2C563.997%2C620.077%5D%2C%5B312%2C599.065%2C563.997%2C608.537%5D%2C%5B312%2C587.525%2C563.997%2C596.997%5D%2C%5B312%2C575.985%2C563.997%2C585.457%5D%2C%5B312%2C564.445%2C555.694%2C573.917%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=26&#x26;annotation=5W8TPL6J">“Specially, some recent study has shown that the quality is more important than the lengths of training text in long context models [288]. However, a recent study has highlighted that the fine-tuning approach tends to be inherently slow when adapting LLMs for long texts [240].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2226%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 26</a></span>)</span> 特别是，最近的一些研究表明，在长上下文模型中，质量比训练文本的长度更重要\[288]。然而，最近的一项研究强调，在将LLM改编为长文本时，微调方法往往固有地很慢\[240]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CE5HVLD2%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2227%22%2C%22position%22%3A%7B%22pageIndex%22%3A26%2C%22rects%22%3A%5B%5B48%2C533.063%2C300.004%2C542.535%5D%2C%5B48%2C521.523%2C299.997%2C530.995%5D%2C%5B48%2C509.983%2C299.997%2C519.455%5D%2C%5B48%2C498.443%2C182.244%2C507.915%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=27&#x26;annotation=CE5HVLD2">“Adapting Context Window. Since Transformer-based LLMs have limited context windows, they can not directly integrate or utilize the entire information of the long sequences exceeding the context window.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 27</a></span>)</span> 适应上下文窗口。由于基于 Transformer 的 LLM 的上下文窗口有限，因此它们无法直接集成或利用超过上下文窗口的长序列的全部信息。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22S9Y7C4QN%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2227%22%2C%22position%22%3A%7B%22pageIndex%22%3A26%2C%22rects%22%3A%5B%5B76.546%2C463.013%2C300.001%2C473.164%5D%2C%5B48%2C451.473%2C299.997%2C460.945%5D%2C%5B48%2C439.933%2C299.997%2C449.405%5D%2C%5B48%2C428.393%2C299.997%2C437.865%5D%2C%5B48%2C416.853%2C299.997%2C426.325%5D%2C%5B48%2C405.313%2C299.997%2C414.785%5D%2C%5B48%2C393.773%2C299.997%2C403.245%5D%2C%5B48%2C382.233%2C299.997%2C391.705%5D%2C%5B48%2C370.693%2C299.997%2C380.165%5D%2C%5B48%2C359.153%2C183.061%2C368.625%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=27&#x26;annotation=S9Y7C4QN">“Parallel context window. Inspired by fusion-indecoder [294], parallel context window methods [295, 296] adopt a divide-and-conquer strategy to process input text. Specially, it divides the input text into multiple segments, each independently encoded with shared position embeddings. In the generation stage, the attention masks are modified to make that subsequent tokens can access to previous tokens in each segment. Nevertheless, this method cannot distinguish the order of different segments, constraining the model capacity on certain tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 27</a></span>)</span> 并行上下文窗口。受融合解码器\[294]的启发，并行上下文窗口方法\[295, 296]采用分治策略来处理输入文本。特别地，它将输入文本分为多个片段，每个片段都使用共享位置嵌入进行独立编码。在生成阶段，修改注意力掩码以使后续令牌可以访问每个片段中的先前令牌。然而，该方法无法区分不同片段的顺序，限制了模型在某些任务上的能力。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22W3MMNBTT%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2227%22%2C%22position%22%3A%7B%22pageIndex%22%3A26%2C%22rects%22%3A%5B%5B326.25%2C334.972%2C563.997%2C344.444%5D%2C%5B312%2C323.432%2C563.997%2C332.904%5D%2C%5B312%2C311.892%2C563.997%2C321.364%5D%2C%5B312%2C300.352%2C503.91%2C309.824%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=27&#x26;annotation=W3MMNBTT">“As another alternative decoding strategy, samplingbased methods are proposed to randomly select the next token based on the probability distribution to enhance the randomness and diversity during generation:”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 27</a></span>)</span> 作为另一种替代解码策略，提出了基于采样的方法，根据概率分布随机选择下一个令牌，以增强生成过程中的随机性和多样性：

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22I2C562R7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2227%22%2C%22position%22%3A%7B%22pageIndex%22%3A26%2C%22rects%22%3A%5B%5B335.388%2C114.385%2C564.005%2C124.536%5D%2C%5B312%2C102.845%2C564.002%2C112.438%5D%2C%5B312%2C91.305%2C563.997%2C100.777%5D%2C%5B312%2C79.765%2C563.997%2C89.237%5D%2C%5B312%2C68.225%2C518.15%2C77.697%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=27&#x26;annotation=I2C562R7">“Beam search. Beam search [309] retains the sentences with the n (beam size) highest probabilities at each step during the decoding process, and finally selects the generated response with the top probability. Typically, the beam size is configured within the range of 3 to 6.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2227%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 27</a></span>)</span> 光束搜索。波束搜索\[309]在解码过程中，在每一步中保留具有n（波束大小）最高概率的句子，最后选择具有最高概率的生成响应。通常，光束尺寸配置在 3 到 6 的范围内。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FR2JMQUK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2228%22%2C%22position%22%3A%7B%22pageIndex%22%3A27%2C%22rects%22%3A%5B%5B62.25%2C668.112%2C299.997%2C677.584%5D%2C%5B48%2C656.572%2C300%2C666.165%5D%2C%5B48%2C645.032%2C241.819%2C654.504%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=28&#x26;annotation=FR2JMQUK">“Besides, some researchers [312] propose to penalize the generation of previously generated tokens or n-grams to alleviate the issue of repetitive generation.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 28</a></span>)</span> 此外，一些研究人员\[312]建议对先前生成的 token 或 n-gram 的生成进行惩罚，以缓解重复生成的问题。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BVU4IZZ3%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2228%22%2C%22position%22%3A%7B%22pageIndex%22%3A27%2C%22rects%22%3A%5B%5B69.731%2C276.138%2C299.999%2C286.289%5D%2C%5B48%2C264.598%2C300%2C274.191%5D%2C%5B48%2C253.058%2C300%2C262.651%5D%2C%5B48%2C241.518%2C300%2C251.056%5D%2C%5B48%2C229.978%2C299.997%2C239.449%5D%2C%5B48%2C218.438%2C299.996%2C228.031%5D%2C%5B48%2C206.898%2C299.997%2C216.369%5D%2C%5B48%2C195.358%2C299.997%2C204.829%5D%2C%5B48%2C183.818%2C188.841%2C193.411%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=28&#x26;annotation=BVU4IZZ3">“Top-p sampling. Since top-k sampling does not consider the overall possibility distribution, a constant value of k may be not be suitable for different contexts. Therefore, top-p sampling (a.k.a., nucleus sampling) is proposed by sampling from the smallest set having a cumulative probability above (or equal to) p [308]. In practice, the smallest set can be constructed by gradually adding tokens from the vocabulary sorted in descending order of generative probability, until their cumulative value exceeds p.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 28</a></span>)</span> Top-p 采样。由于top-k采样不考虑总体可能性分布，因此k的恒定值可能不适合不同的上下文。因此，top-p 采样（又名核采样）是通过从累积概率高于（或等于）p \[308]的最小集合进行采样而提出的。在实践中，可以通过逐渐添加按生成概率降序排序的词汇表中的标记来构造最小集合，直到它们的累积值超过p。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223JHBQHSV%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2228%22%2C%22position%22%3A%7B%22pageIndex%22%3A27%2C%22rects%22%3A%5B%5B277.947%2C114.385%2C299.997%2C123.856%5D%2C%5B48%2C102.845%2C299.997%2C112.316%5D%2C%5B48%2C91.305%2C299.997%2C100.776%5D%2C%5B48%2C79.765%2C300%2C89.303%5D%2C%5B48%2C68.225%2C299.996%2C77.763%5D%2C%5B48%2C56.685%2C157.145%2C66.156%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=28&#x26;annotation=3JHBQHSV">“Since it has been found that large models tend to assign higher probability to important tokens compared to small models, contrastive decoding [318] utilizes a larger LM (e.g., OPT13B) and a smaller LM (e.g., OPT-125M) to measure their log-likelihood differences.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 28</a></span>)</span> 由于已经发现与小模型相比，大型模型倾向于为重要标记分配更高的概率，因此对比解码\[318]利用较大的 LM（例如 OPT13B）和较小的 LM（例如 OPT-125M）来测量它们的日志- 可能性差异。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BFMSJ66L%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2228%22%2C%22position%22%3A%7B%22pageIndex%22%3A27%2C%22rects%22%3A%5B%5B512.65%2C253.555%2C563.997%2C263.026%5D%2C%5B312%2C242.015%2C563.997%2C251.486%5D%2C%5B312%2C230.475%2C564%2C240.013%5D%2C%5B312%2C218.935%2C564%2C228.473%5D%2C%5B312%2C207.395%2C563.997%2C216.933%5D%2C%5B312%2C195.855%2C519.233%2C205.327%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=28&#x26;annotation=BFMSJ66L">“Overall, the decoding process of LLMs can be divided into two stages for overhead analysis: (1) the prefill stage, which computes the hidden states of the input sequence, and (2) the incremental decoding stage, which generates a token and updates hidden states in an auto-regressive manner [321].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2228%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 28</a></span>)</span> 总的来说，LLM的解码过程可以分为两个阶段进行开销分析：（1）预填充阶段，计算输入序列的隐藏状态，（2）增量解码阶段，生成令牌并更新隐藏状态以自回归方式状态\[321]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223JFUUPF6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2229%22%2C%22position%22%3A%7B%22pageIndex%22%3A28%2C%22rects%22%3A%5B%5B69.902%2C349.307%2C300.002%2C359.458%5D%2C%5B48%2C337.767%2C262.368%2C347.239%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=29&#x26;annotation=3JFUUPF6">“GPT-3 [55] employs beam search with a beam size of 4 and a length penalty of 0.6 for all generation tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 29</a></span>)</span> GPT-3 \[55] 对所有生成任务采用波束搜索，波束大小为 4，长度惩罚为 0.6。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22AGC4IQIM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2229%22%2C%22position%22%3A%7B%22pageIndex%22%3A28%2C%22rects%22%3A%5B%5B72.101%2C326.043%2C300.001%2C336.194%5D%2C%5B48%2C314.503%2C299.996%2C324.096%5D%2C%5B48%2C302.963%2C148.405%2C312.435%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=29&#x26;annotation=AGC4IQIM">“Alpaca [142] utilizes sampling-based strategies with top-k (k = 50), top-p (p = 0.9), and temperature of 0.7 for open-ended generation.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 29</a></span>)</span> Alpaca \[142] 利用基于采样的策略，采用 top-k (k = 50)、top-p (p = 0.9) 和温度 0.7 进行开放式生成。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227W4MDZH5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2229%22%2C%22position%22%3A%7B%22pageIndex%22%3A28%2C%22rects%22%3A%5B%5B71.864%2C291.24%2C300.002%2C301.391%5D%2C%5B48%2C279.7%2C299.997%2C289.172%5D%2C%5B48%2C268.16%2C299.997%2C277.632%5D%2C%5B48%2C256.62%2C299.997%2C266.092%5D%2C%5B48%2C245.08%2C214.678%2C254.552%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=29&#x26;annotation=7W4MDZH5">“LLaMA [57] applies diverse decoding strategies tailored to specific tasks. For instance, it employs the greedy search for question answering tasks while utilizes a sampling strategy with the temperature settings of 0.1 (pass@1) and 0.8 (pass@100) for code generation.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 29</a></span>)</span> LLaMA \[57] 应用针对特定任务定制的多种解码策略。例如，它采用贪婪搜索来完成问答任务，同时采用温度设置为0.1（pass\@1）和0.8（pass\@100）的采样策略来生成代码。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22785LRRWT%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2229%22%2C%22position%22%3A%7B%22pageIndex%22%3A28%2C%22rects%22%3A%5B%5B335.283%2C276.165%2C564.005%2C286.316%5D%2C%5B312%2C264.625%2C563.997%2C274.096%5D%2C%5B312%2C253.085%2C563.997%2C262.556%5D%2C%5B312%2C241.545%2C563.997%2C251.016%5D%2C%5B312%2C230.005%2C563.997%2C239.476%5D%2C%5B312%2C218.465%2C367.157%2C227.936%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=29&#x26;annotation=785LRRWT">“By pre-training with the LM objective, it seems that causal decoder architecture can achieve a superior zeroshot and few-shot generalization capacity. Existing research has shown that without multi-task fine-tuning, the causal decoder has better zero-shot performance than other architectures [29].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2229%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 29</a></span>)</span> 通过使用 LM 目标进行预训练，因果解码器架构似乎可以实现卓越的零样本和少样本泛化能力。现有研究表明，在没有多任务微调的情况下，因果解码器比其他架构具有更好的零样本性能\[29]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22PTWNJX6X%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B164.422%2C492.073%2C299.997%2C501.545%5D%2C%5B48%2C480.533%2C299.997%2C490.005%5D%2C%5B48%2C468.993%2C299.997%2C478.465%5D%2C%5B48%2C457.453%2C299.997%2C466.925%5D%2C%5B48%2C445.913%2C256.022%2C455.385%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=PTWNJX6X">“For LLMs such as GPT-3 and PaLM, they have introduced a new strategy that dynamically increases the batch size during training, ultimately reaching a million scale. Specifically, the batch size of GPT-3 is gradually increasing from 32K to 3.2M tokens.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 对于 GPT-3 和 PaLM 等 LLM，他们引入了一种新策略，可以在训练过程中动态增加批量大小，最终达到百万规模。具体来说，GPT-3的批量大小从32K逐渐增加到320万个代币。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CMDF9HNF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B48%2C393.104%2C299.998%2C402.576%5D%2C%5B48%2C381.564%2C299.997%2C391.036%5D%2C%5B48%2C370.024%2C299.997%2C379.496%5D%2C%5B48%2C358.484%2C299.997%2C367.956%5D%2C%5B48%2C346.944%2C299.997%2C356.416%5D%2C%5B48%2C335.404%2C299.503%2C346.928%5D%2C%5B48%2C323.864%2C300%2C335.388%5D%2C%5B48%2C312.324%2C299.997%2C321.796%5D%2C%5B48%2C300.784%2C299.997%2C310.256%5D%2C%5B48%2C289.244%2C222.961%2C298.716%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=CMDF9HNF">“Learning Rate. Existing LLMs usually adopt a similar learning rate schedule with the warm-up and decay strategies during pre-training. Specifically, in the initial 0.1% to 0.5% of the training steps, a linear warm-up schedule is employed for gradually increasing the learning rate to the maximum value that ranges from approximately 5 × 10−5 to 1 × 10−4 (e.g., 6 × 10−5 for GPT-3). Then, a cosine decay strategy is adopted in the subsequent steps, gradually reducing the learning rate to approximately 10% of its maximum value, until the convergence of the training loss.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 学习率。现有的 LLM 通常采用与预训练期间的热身和衰减策略类似的学习率时间表。具体来说，在最初的 0.1% 到 0.5% 的训练步骤中，采用线性预热计划将学习率逐渐提高到最大值，范围从大约 5 × 10−5 到 1 × 10−4（例如，GPT-3 为 6 × 10−5）。然后，在后续步骤中采用余弦衰减策略，逐渐将学习率降低到其最大值的10%左右，直到训练损失收敛。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22V37MY4B9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B48%2C271.055%2C300%2C280.526%5D%2C%5B48%2C259.515%2C300%2C269.053%5D%2C%5B48%2C247.975%2C299.997%2C257.446%5D%2C%5B48%2C236.435%2C273.492%2C245.906%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=V37MY4B9">“Optimizer. The Adam optimizer [328] and AdamW optimizer [329] are widely utilized for training LLMs (e.g., GPT3), which are based on adaptive estimates of lower-order moments for first-order gradient-based optimization.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 优化器。 Adam 优化器 \[328] 和 AdamW 优化器 \[329] 被广泛用于训练 LLM（例如 GPT3），它们基于低阶矩的自适应估计，用于基于一阶梯度的优化。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22E982ZVE9%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B168.149%2C213.186%2C300%2C224.879%5D%2C%5B48%2C201.815%2C300%2C211.353%5D%2C%5B48%2C190.275%2C299.997%2C199.746%5D%2C%5B48%2C178.735%2C299.997%2C188.207%5D%2C%5B48%2C167.195%2C83.843%2C176.667%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=E982ZVE9">“Meanwhile, the Adafactor optimizer [330] has also been utilized in training LLMs (e.g., PaLM and T5), which is a variant of the Adam optimizer specially designed for conserving GPU memory during training.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 同时，Adafactor优化器\[330]也被用于训练LLM（例如PaLM和T5），它是Adam优化器的变体，专门为在训练期间节省GPU内存而设计。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224HA68BH4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B48%2C125.925%2C300.003%2C135.397%5D%2C%5B48%2C114.385%2C299.997%2C123.857%5D%2C%5B48%2C102.845%2C299.997%2C112.317%5D%2C%5B48%2C91.305%2C299.997%2C100.777%5D%2C%5B48%2C79.765%2C299.997%2C89.237%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C92.403%2C66.157%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=4HA68BH4">“Stabilizing the Training. During the pre-training of LLMs, it often suffers from the training instability issue, which may cause the model collapse. To address this issue, weight decay and gradient clipping have been widely utilized, where existing studies [55, 78, 90, 93, 113] commonly set the threshold of gradient clipping to 1.0 and weight decay rate to 0.1.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 稳定训练。 LLM在预训练过程中，经常会遇到训练不稳定的问题，导致模型崩溃。为了解决这个问题，权重衰减和梯度裁剪被广泛使用，现有研究\[55,78,90,93,113]通常将梯度裁剪的阈值设置为1.0，权重衰减率设置为0.1。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VUM36VGR%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B350.741%2C737.545%2C563.997%2C747.017%5D%2C%5B312%2C726.005%2C563.997%2C735.477%5D%2C%5B312%2C714.465%2C563.997%2C723.937%5D%2C%5B312%2C702.925%2C563.997%2C712.397%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=VUM36VGR">“To mitigate this problem, PaLM [56] and OPT [90] use a simple strategy that restarts the training process from an earlier checkpoint before the occurrence of the spike and skips over the data that may have caused the problem.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 为了缓解这个问题，PaLM \[56] 和 OPT \[90] 使用一种简单的策略，从尖峰发生之前的较早检查点重新启动训练过程，并跳过可能导致问题的数据。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BGAD5TEB%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B312%2C505.062%2C564.005%2C514.534%5D%2C%5B312%2C493.522%2C563.997%2C502.994%5D%2C%5B312%2C481.982%2C563.997%2C491.454%5D%2C%5B312%2C470.442%2C383.789%2C481.491%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=BGAD5TEB">“3D Parallelism. 3D parallelism is actually a combination of three commonly used parallel training techniques, namely data parallelism, pipeline parallelism [331, 332], and tensor parallelism [75]24”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 3D 并行性。 3D并行实际上是三种常用并行训练技术的组合，即数据并行、管道并行\[331, 332]和张量并行\[75]24

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22RXVWQSXJ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B335.449%2C446.913%2C563.997%2C457.064%5D%2C%5B312%2C435.373%2C563.997%2C444.845%5D%2C%5B312%2C423.833%2C563.997%2C433.305%5D%2C%5B312%2C412.293%2C563.997%2C421.765%5D%2C%5B312%2C400.753%2C563.997%2C410.225%5D%2C%5B312%2C389.213%2C563.997%2C398.685%5D%2C%5B312%2C377.673%2C563.997%2C387.145%5D%2C%5B312%2C366.133%2C563.997%2C375.605%5D%2C%5B312%2C354.593%2C563.997%2C364.065%5D%2C%5B312%2C343.053%2C484.881%2C352.525%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=RXVWQSXJ">“Data parallelism. Data parallelism is one of the most fundamental approaches to improving the training throughput. It replicates the model parameters and optimizer states across multiple GPUs and then distributes the whole training corpus into these GPUs. In this way, each GPU only needs to process the assigned data for it, and performs the forward and backward propagation to obtain the gradients. The computed gradients on different GPUs will be further aggregated to obtain the gradients of the entire batch for updating the models in all GPUs. I”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 数据并行性。数据并行是提高训练吞吐量的最基本方法之一。它跨多个 GPU 复制模型参数和优化器状态，​​然后将整个训练语料库分配到这些 GPU 中。这样，每个GPU只需要为其处理分配的数据，并进行前向和后向传播即可获得梯度。不同GPU上计算的梯度将被进一步聚合以获得整个批次的梯度，用于更新所有GPU中的模型。我

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22R4S5EB4J%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2230%22%2C%22position%22%3A%7B%22pageIndex%22%3A29%2C%22rects%22%3A%5B%5B335.758%2C250.284%2C564.002%2C260.435%5D%2C%5B312%2C238.744%2C563.997%2C248.216%5D%2C%5B312%2C227.204%2C563.997%2C236.676%5D%2C%5B312%2C215.664%2C563.997%2C225.136%5D%2C%5B312%2C204.124%2C563.997%2C213.596%5D%2C%5B312%2C192.584%2C563.997%2C202.056%5D%2C%5B312%2C181.044%2C563.997%2C190.516%5D%2C%5B312%2C169.504%2C563.997%2C178.976%5D%2C%5B312%2C157.964%2C563.997%2C167.436%5D%2C%5B312%2C146.424%2C457.027%2C155.962%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=30&#x26;annotation=R4S5EB4J">“Pipeline parallelism. Pipeline parallelism aims to distribute the different layers of a LLM into multiple GPUs. Especially, in the case of a Transformer model, pipeline parallelism loads consecutive layers onto the same GPU, to reduce the cost of transmitting the computed hidden states or gradients between GPUs. However, a naive implementation of pipeline parallelism may result in a lower GPU utilization rate as each GPU has to wait for the previous one to complete the computation, leading to the unnecessary cost of bubbles overhead [331].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2230%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 30</a></span>)</span> 流水线并行性。流水线并行性旨在将 LLM 的不同层分布到多个 GPU 中。特别是，在 Transformer 模型的情况水线并行性将连续层加载到同一个 GPU 上，以降低在 GPU 之间传输计算的隐藏状态或梯度的成本。然而，流水线并行性的幼稚实现可能会导致较低的GPU利用率，因为每个GPU都必须等待前一个GPU完成计算，从而导致不必要的气泡开销成本\[331]。

![\<img data-attachment-key="QSSD3H2Z" width="889" height="363" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2258KBD3ZI%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2231%22%2C%22position%22%3A%7B%22pageIndex%22%3A30%2C%22rects%22%3A%5B%5B43.12500000000001%2C535.393%2C576.429%2C753.4290000000001%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%7D" src="attachments/QSSD3H2Z.png" ztype="zimage">](/attachments/QSSD3H2Z.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 31</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22W9Q6TGQS%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2231%22%2C%22position%22%3A%7B%22pageIndex%22%3A30%2C%22rects%22%3A%5B%5B134.051%2C512.849%2C299.997%2C522.321%5D%2C%5B48%2C501.309%2C299.997%2C510.781%5D%2C%5B48%2C489.769%2C299.997%2C499.24%5D%2C%5B48%2C478.229%2C300%2C487.822%5D%2C%5B48%2C466.521%2C299.999%2C476.282%5D%2C%5B48%2C454.981%2C299.996%2C464.742%5D%2C%5B48%2C443.441%2C300.005%2C453.202%5D%2C%5B48%2C432.069%2C299.997%2C441.54%5D%2C%5B48%2C420.529%2C299.997%2C430%5D%2C%5B48%2C408.989%2C299.997%2C418.46%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=31&#x26;annotation=W9Q6TGQS">“Unlike pipeline parallelism, tensor parallelism focuses on decomposing the tensors (the parameter matrices) of LLMs. For a matrix multiplication operation Y = XA in the LLM, the parameter matrix A can be split into two submatrices, A1 and A2, by column, which can be expressed as Y = [XA1, XA2]. By placing matrices A1 and A2 on different GPUs, the matrix multiplication operation would be invoked at two GPUs in parallel, and the final result can be obtained by combining the outputs from the two GPUs through across-GPU communication.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 31</a></span>)</span> 与流水线并行不同，张量并行侧重于分解 LLM 的张量（参数矩阵）。对于 LLM 中的矩阵乘法运算 Y = XA，参数矩阵 A 可以按列拆分为两个子矩阵 A1 和 A2，可以表示为 Y = \[XA1， XA2]。通过将矩阵 A1 和 A2 放置在不同的 GPU 上，可以在两个 GPU 上并行调用矩阵乘法运算，通过跨 GPU 通信组合两个 GPU 的输出，可以得到最终结果。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2289TM23B4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2231%22%2C%22position%22%3A%7B%22pageIndex%22%3A30%2C%22rects%22%3A%5B%5B195.307%2C227.067%2C299.997%2C236.538%5D%2C%5B48%2C215.527%2C299.997%2C224.998%5D%2C%5B48%2C203.987%2C299.997%2C213.458%5D%2C%5B48%2C192.447%2C299.997%2C201.918%5D%2C%5B48%2C180.907%2C299.997%2C190.378%5D%2C%5B48%2C169.367%2C299.997%2C178.838%5D%2C%5B48%2C157.827%2C166.095%2C167.298%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=31&#x26;annotation=89TM23B4">“To resolve it, the ZeRO technique aims to retain only a fraction of data on each GPU, while the rest data can be retrieved from other GPUs when required. Specifically, ZeRO provides three solutions, depending on how the three parts of the data are stored, namely optimizer state partitioning, gradient partitioning, and parameter partitioning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 31</a></span>)</span> 为了解决这个问题，ZeRO 技术旨在在每个 GPU 上只保留一小部分数据，而其余数据可以在需要时从其他 GPU 中检索。具体来说，ZeRO 根据数据的三个部分的存储方式，提供了三种解决方案，即优化器状态分区、梯度分区和参数分区。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227DXKWRTI%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2231%22%2C%22position%22%3A%7B%22pageIndex%22%3A30%2C%22rects%22%3A%5B%5B184.287%2C79.765%2C300.001%2C89.303%5D%2C%5B48%2C68.225%2C299.997%2C77.696%5D%2C%5B48%2C56.685%2C286.659%2C66.156%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=31&#x26;annotation=7DXKWRTI">“In previous PLMs (e.g., BERT [23]), 32-bit floating-point numbers, also known as FP32, have been predominantly used for pre-training.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 31</a></span>)</span> 在以前的PLM（例如BERT \[23]）中，32位浮点数（也称为FP32）主要用于预训练。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JFDFUSXA%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2231%22%2C%22position%22%3A%7B%22pageIndex%22%3A30%2C%22rects%22%3A%5B%5B423.863%2C489.769%2C563.997%2C499.24%5D%2C%5B312%2C478.229%2C563.998%2C487.767%5D%2C%5B312%2C466.689%2C563.997%2C476.16%5D%2C%5B312%2C455.149%2C399.286%2C464.62%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=31&#x26;annotation=JFDFUSXA">“Additionally, as popular NVIDIA GPUs (e.g., A100) have twice the amount of FP16 computation units as FP32, the computational efficiency of FP16 can be further improved.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2231%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 31</a></span>)</span> 此外，由于流行的NVIDIA GPU（例如A100）的FP16计算单元数量是FP32的两倍，因此FP16的计算效率可以进一步提高。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22YBJ84T6J%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2232%22%2C%22position%22%3A%7B%22pageIndex%22%3A31%2C%22rects%22%3A%5B%5B215.162%2C659.787%2C299.997%2C669.259%5D%2C%5B48%2C648.247%2C299.997%2C657.719%5D%2C%5B48%2C636.707%2C299.997%2C646.179%5D%2C%5B48%2C625.167%2C299.997%2C634.639%5D%2C%5B48%2C613.627%2C299.997%2C623.099%5D%2C%5B48%2C602.087%2C279.202%2C611.559%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=32&#x26;annotation=YBJ84T6J">“In this section, we introduce two major approaches to adapting pre-trained LLMs, namely instruction tuning and alignment tuning. The former approach mainly aims to enhance (or unlock) the abilities of LLMs, while the latter approach aims to align the behaviors of LLMs with human values or preferences.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 32</a></span>)</span> 在本节中，我们将介绍两种主要的方法来调整预训练的 LLM，即指令调优和对齐调优。前一种方法主要旨在增强（或解锁）LLM的能力，而后一种方法旨在使LLM的行为与人类价值观或偏好保持一致。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222TI4JYX5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2232%22%2C%22position%22%3A%7B%22pageIndex%22%3A31%2C%22rects%22%3A%5B%5B48%2C160.545%2C299.996%2C170.017%5D%2C%5B48%2C149.005%2C299.997%2C158.477%5D%2C%5B48%2C137.465%2C299.997%2C146.937%5D%2C%5B48%2C125.925%2C299.999%2C135.463%5D%2C%5B48%2C114.385%2C299.997%2C123.857%5D%2C%5B48%2C102.845%2C299.997%2C112.317%5D%2C%5B48%2C91.305%2C299.997%2C100.777%5D%2C%5B48%2C79.765%2C123.069%2C89.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=32&#x26;annotation=2TI4JYX5">“Formatting NLP Task Datasets. Before instruction tuning was proposed, several early studies [168, 343, 344] collected the instances from a diverse range of traditional NLP tasks (e.g., text summarization, text classification, and translation) to create supervised multi-task training datasets. As a major source of instruction tuning instances, it is convenient to format these multi-task training datasets with natural language task descriptions.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 32</a></span>)</span> 格式化 NLP 任务数据集。在提出指令调优之前，一些早期研究\[168,343,344]从各种传统的NLP任务（例如，文本摘要，文本分类和翻译）中收集实例，以创建监督的多任务训练数据集。作为指令调优实例的主要来源，使用自然语言任务描述来格式化这些多任务训练数据集非常方便。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22YIZ5NZ44%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2232%22%2C%22position%22%3A%7B%22pageIndex%22%3A31%2C%22rects%22%3A%5B%5B508.621%2C702.925%2C563.997%2C712.397%5D%2C%5B312%2C691.385%2C563.997%2C700.857%5D%2C%5B312%2C679.845%2C563.997%2C689.317%5D%2C%5B312%2C668.305%2C563.997%2C677.777%5D%2C%5B312%2C656.765%2C563.997%2C666.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=32&#x26;annotation=YIZ5NZ44">“In particular, it has been shown that instructions are the crucial factor in task generalization ability for LLMs [67]: by fine-tuning the model on labeled datasets with the task descriptions removed, it results in a dramatic drop in model performance.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 32</a></span>)</span> 特别是，已经表明指令是LLM任务泛化能力的关键因素\[67]：通过在删除任务描述的情况下对标记数据集的模型进行微调，会导致模型性能急剧下降。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FMC8RWVG%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2232%22%2C%22position%22%3A%7B%22pageIndex%22%3A31%2C%22rects%22%3A%5B%5B312%2C518.285%2C563.997%2C527.757%5D%2C%5B312%2C506.745%2C563.997%2C516.217%5D%2C%5B312%2C495.205%2C563.997%2C504.677%5D%2C%5B312%2C483.665%2C563.997%2C493.137%5D%2C%5B312%2C472.125%2C563.997%2C481.597%5D%2C%5B312%2C460.585%2C563.997%2C470.057%5D%2C%5B312%2C449.045%2C492.434%2C458.517%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=32&#x26;annotation=FMC8RWVG">“Formatting Daily Chat Data. Despite that a large number of training instances have been formatted with instructions, they mainly come from public NLP datasets, either lacking instruction diversity or mismatching with real human needs [66]. To overcome this issue, InstructGPT [66] proposes to take the queries that real users have submitted to the OpenAI API as the task descriptions.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 32</a></span>)</span> 格式化每日聊天数据。尽管有大量的训练实例被格式化为指令，但它们主要来自公共的NLP数据集，要么缺乏指令多样性，要么与人类的真实需求不匹配\[66]。为了克服这个问题，InstructGPT \[66] 建议将真实用户提交给 OpenAI API 的查询作为任务描述。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JHU78YXF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2232%22%2C%22position%22%3A%7B%22pageIndex%22%3A31%2C%22rects%22%3A%5B%5B312%2C183.625%2C563.997%2C193.097%5D%2C%5B312%2C172.085%2C563.997%2C181.557%5D%2C%5B312%2C160.545%2C563.997%2C170.017%5D%2C%5B312%2C149.005%2C563.997%2C158.477%5D%2C%5B312%2C137.465%2C502.333%2C146.937%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=32&#x26;annotation=JHU78YXF">“Formatting Synthetic Data. To reduce the burden of human annotation or manual collection, several semi-automated approaches [143] have been proposed for constructing instances by feeding existing instances into LLMs to synthesize diverse task descriptions and instances.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2232%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 32</a></span>)</span> 格式化合成数据。为了减轻人工注释或手动收集的负担，已经提出了几种半自动化方法\[143]，通过将现有实例输入LLM来合成不同的任务描述和实例来构建实例。

![\<img data-attachment-key="62EMUXE3" width="937" height="425" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KVIDWMP7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2233%22%2C%22position%22%3A%7B%22pageIndex%22%3A32%2C%22rects%22%3A%5B%5B21.781%2C508.313%2C583.844%2C763.313%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%7D" src="attachments/62EMUXE3.png" ztype="zimage">](/attachments/62EMUXE3.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 33</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CXZ9MTQ4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2233%22%2C%22position%22%3A%7B%22pageIndex%22%3A32%2C%22rects%22%3A%5B%5B70.48%2C287.485%2C300.005%2C297.636%5D%2C%5B48%2C275.945%2C299.997%2C285.416%5D%2C%5B48%2C264.405%2C299.997%2C273.876%5D%2C%5B48%2C252.865%2C299.997%2C262.336%5D%2C%5B48%2C241.325%2C299.997%2C250.796%5D%2C%5B48%2C229.785%2C299.997%2C239.256%5D%2C%5B48%2C218.245%2C299.997%2C227.716%5D%2C%5B48%2C206.705%2C299.997%2C216.176%5D%2C%5B48%2C195.165%2C254.768%2C204.636%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=33&#x26;annotation=CXZ9MTQ4">“Scaling the instructions. It has been widely shown that scaling the number of tasks can largely enhance the generalization ability of LLMs [28, 67, 88]. With the increasing of the task number, the model performance initially shows a continuous growth pattern, while the gain becomes negligible when it reaches a certain level [69, 88]. A plausible speculation is that a certain number of representative tasks can provide relatively sufficient knowledge and adding more tasks may not bring additional gains [69].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 33</a></span>)</span> 缩放指令。研究表明，扩展任务数量可以在很大程度上增强LLM的泛化能力\[28,67,88]。随着任务数的增加，模型性能最初呈现连续增长模式，而当达到一定水平时，增益变得可以忽略不计\[69,88]。一个合理的推测是，一定数量的代表性任务可以提供相对足够的知识，增加更多的任务可能不会带来额外的收益\[69]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2295Q66AWM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2233%22%2C%22position%22%3A%7B%22pageIndex%22%3A32%2C%22rects%22%3A%5B%5B470.431%2C437.338%2C563.997%2C446.809%5D%2C%5B312%2C425.798%2C563.997%2C435.269%5D%2C%5B312%2C414.258%2C563.997%2C423.729%5D%2C%5B312%2C402.718%2C563.997%2C412.189%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=33&#x26;annotation=95Q66AWM">“Typically, we can add task descriptions and optional demonstrations to the inputoutput pairs of existing datasets, where the task description is the most key part for LLMs to understand the task [88].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 33</a></span>)</span> 通常，我们可以在现有数据集的输入输出对中添加任务描述和可选演示，其中任务描述是LLM理解任务的最关键部分\[88]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%229BY3WLRL%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2233%22%2C%22position%22%3A%7B%22pageIndex%22%3A32%2C%22rects%22%3A%5B%5B455.013%2C79.765%2C563.997%2C89.236%5D%2C%5B312%2C68.225%2C563.997%2C77.696%5D%2C%5B312%2C56.685%2C563.997%2C66.156%5D%2C%5B312%2C45.145%2C362.597%2C54.616%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=33&#x26;annotation=9BY3WLRL">“To reduce human efforts, we can either reuse existing formatted datasets (Table 3) or automatically construct the instructions using existing LLMs [143].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2233%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 33</a></span>)</span> 为了减少人力，我们可以重用现有的格式化数据集（表3），或者使用现有的LLM自动构建指令\[143]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HAHLZIVP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B48%2C688.643%2C299.997%2C698.115%5D%2C%5B48%2C677.103%2C299.997%2C686.575%5D%2C%5B48%2C665.563%2C99.613%2C675.035%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=HAHLZIVP">“Unlike pre-training, instruction tuning is often more efficient since only a moderate number of instances are used for training.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 与预训练不同，指令调整通常更有效，因为只有适量的实例用于训练。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22W7PTF8D2%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B48%2C566.464%2C299.999%2C575.936%5D%2C%5B48%2C554.924%2C299.997%2C564.396%5D%2C%5B48%2C543.384%2C299.997%2C552.856%5D%2C%5B48%2C531.844%2C300.002%2C541.382%5D%2C%5B48%2C520.304%2C300.003%2C529.842%5D%2C%5B48%2C508.764%2C299.997%2C518.236%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=W7PTF8D2">“Balancing the Data Distribution. Since instruction tuning involves a mixture of different tasks, it is important to balance the proportion of different tasks during finetuning. A widely used method is the examples-proportional mixing strategy [82], i.e., combining all the datasets and sampling each instance equally from the mixed datasets.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 平衡数据分布。由于指令调优涉及不同任务的混合，因此在微调过程中平衡不同任务的比例非常重要。一种广泛使用的方法是示例比例混合策略\[82]，即将所有数据集组合在一起，并从混合数据集中平均采样每个实例。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2256IRXMX5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B248.108%2C347.204%2C299.997%2C356.676%5D%2C%5B48%2C335.664%2C299.997%2C345.136%5D%2C%5B48%2C324.124%2C299.997%2C333.596%5D%2C%5B48%2C312.584%2C299.995%2C322.122%5D%2C%5B48%2C301.044%2C300%2C310.582%5D%2C%5B48%2C289.504%2C133.082%2C298.976%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=56IRXMX5">“Therefore, it is often suggested to use a mixture of existing instruction datasets to achieve a balanced improvement in different capacities, including NLP task data (e.g., FLAN v2 [292]), chat data (e.g., ShareGPT [148]), and synthetic data (e.g., GPT4-Alpaca [354]).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 因此，通常建议混合使用现有的指令数据集来实现不同能力的平衡改进，包括NLP任务数据（例如，FLAN v2 \[292]）、聊天数据（例如，ShareGPT \[148]）和合成数据（例如，GPT4-Alpaca \[354]）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22RN5D45NR%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B48%2C271.185%2C300.002%2C280.657%5D%2C%5B48%2C259.645%2C299.997%2C269.117%5D%2C%5B48%2C248.105%2C299.997%2C257.577%5D%2C%5B48%2C236.565%2C299.997%2C246.037%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=RN5D45NR">“Combining Instruction Tuning and Pre-Training. To make the tuning process more effective and stable, OPT-IML [95] incorporates pre-training data during instruction tuning, which can be regarded as regularization for model tuning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 结合指令调整和预培训。为了使调优过程更加有效和稳定，OPT-IML\[95]在指令调优过程中加入了预训练数据，可以看作是模型调优的正则化。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22GYL52DKH%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B48%2C102.845%2C300%2C112.317%5D%2C%5B48%2C91.305%2C299.997%2C100.777%5D%2C%5B48%2C79.765%2C299.997%2C89.237%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C299.997%2C66.157%5D%2C%5B48%2C45.145%2C159.169%2C54.617%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=GYL52DKH">“Multi-stage Instruction Tuning. For instruction tuning, there are two kinds of important instruction data, namely task-formatted instructions and daily chat instructions. Generally, the former has a significantly larger volume than the latter. It is important to balance the training with the two kinds of instruction data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 多级指令调优。对于指令调优，有两种重要的指令数据，即任务格式化的指令和日常聊天指令。一般来说，前者的体积明显大于后者。在训练与两种指令数据之间取得平衡是很重要的。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225WZJJF66%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B334.397%2C396.847%2C563.998%2C406.998%5D%2C%5B312%2C385.307%2C563.997%2C394.779%5D%2C%5B312%2C373.767%2C563.997%2C383.239%5D%2C%5B312%2C362.227%2C511.909%2C371.699%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=5WZJJF66">“Establishing self-identification for LLM. To deploy LLMs for real-world applications, it is necessary to establish its identity and make LLMs aware of these identity information, such as name, developer and affiliation.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 建立LLM的自我认同。为了为实际应用程序部署 LLM，有必要建立其身份，并使 LLM 了解这些身份信息，例如名称、开发人员和隶属关系。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222TZMJAHE%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2234%22%2C%22position%22%3A%7B%22pageIndex%22%3A33%2C%22rects%22%3A%5B%5B312%2C172.086%2C563.997%2C181.558%5D%2C%5B312%2C160.546%2C563.997%2C170.018%5D%2C%5B312%2C149.006%2C563.997%2C158.478%5D%2C%5B312%2C137.466%2C356.907%2C146.938%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=34&#x26;annotation=2TZMJAHE">“Performance Improvement. Despite being tuned on a moderate number of instances, instruction tuning has become an important way to improve or unlock the abilities of LLMs [69].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2234%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 34</a></span>)</span> 性能改进。尽管在适度数量的实例上进行了调优，但指令调优已成为提高或解锁LLM能力的重要方法\[69]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UW8FQZCY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2235%22%2C%22position%22%3A%7B%22pageIndex%22%3A34%2C%22rects%22%3A%5B%5B252.801%2C541.792%2C299.997%2C551.264%5D%2C%5B48%2C530.252%2C299.997%2C539.724%5D%2C%5B48%2C518.712%2C299.997%2C528.184%5D%2C%5B48%2C507.172%2C299.997%2C516.644%5D%2C%5B48%2C495.632%2C299.997%2C505.104%5D%2C%5B48%2C484.092%2C268.286%2C493.564%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=35&#x26;annotation=UW8FQZCY">“In practice, instruction tuning offers a general approach to enhancing the abilities of existing language models [69] (including small-sized PLMs). Also, it is much less costly than pretraining, since the amount of instruction data required by LLMs is significantly smaller than pre-training data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 35</a></span>)</span> 在实践中，指令调优提供了一种增强现有语言模型能力的通用方法\[69]（包括小型PLM）。此外，它比预训练的成本要低得多，因为 LLM 所需的指令数据量明显小于预训练数据。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2253UCUXE7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2235%22%2C%22position%22%3A%7B%22pageIndex%22%3A34%2C%22rects%22%3A%5B%5B48%2C460.798%2C300.004%2C470.27%5D%2C%5B48%2C449.258%2C299.997%2C458.73%5D%2C%5B48%2C437.718%2C299.997%2C447.19%5D%2C%5B48%2C426.178%2C299.997%2C435.649%5D%2C%5B48%2C414.638%2C299.997%2C424.109%5D%2C%5B48%2C403.098%2C171.177%2C412.569%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=35&#x26;annotation=53UCUXE7">“Task Generalization. Instruction tuning encourages the model to understand natural language instructions for task completion. It endows LLMs with the ability (often considered as an emergent ability) to follow human instructions [31] to perform specific tasks without demonstrations, even on unseen tasks [69].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 35</a></span>)</span> 任务泛化。指令调优鼓励模型理解自然语言指令以完成任务。它赋予LLMs遵循人类指令的能力（通常被认为是一种紧急能力）\[31]，无需演示即可执行特定任务，即使是在看不见的任务上\[69]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ANJYRWZ7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2235%22%2C%22position%22%3A%7B%22pageIndex%22%3A34%2C%22rects%22%3A%5B%5B114.025%2C368.478%2C299.997%2C377.949%5D%2C%5B48%2C356.938%2C300%2C366.476%5D%2C%5B48%2C345.398%2C299.997%2C354.869%5D%2C%5B48%2C333.858%2C299.997%2C343.329%5D%2C%5B48%2C322.318%2C299.997%2C331.789%5D%2C%5B48%2C310.778%2C299.997%2C320.249%5D%2C%5B48%2C299.238%2C167.605%2C308.709%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=35&#x26;annotation=ANJYRWZ7">“Also, instruction tuning has been shown to be useful in alleviating several weaknesses of LLMs (e.g., repetitive generation or complementing the input without accomplishing a certain task) [66, 69], leading to a superior capacity to solve real-world tasks for LLMs. Furthermore, LLMs trained with instruction tuning can generalize to related tasks across languages.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 35</a></span>)</span> 此外，指令调优已被证明有助于缓解LLM的几个弱点（例如，重复生成或补充输入而不完成特定任务）\[66,69]，从而为LLM解决现实世界的任务提供了卓越的能力。此外，通过指令调优训练的 LLM 可以泛化到跨语言的相关任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HTU6N35J%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2235%22%2C%22position%22%3A%7B%22pageIndex%22%3A34%2C%22rects%22%3A%5B%5B288.103%2C102.845%2C299.997%2C112.316%5D%2C%5B48%2C91.305%2C299.997%2C100.776%5D%2C%5B48%2C79.765%2C241.154%2C89.236%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=35&#x26;annotation=HTU6N35J">“Instruction tuning is an effective approach to adapting existing general LLMs to be domain-specific experts.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 35</a></span>)</span> 指令调优是一种有效的方法，可以使现有的通用LLM适应为特定领域的专家。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22IYMM4JAS%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2235%22%2C%22position%22%3A%7B%22pageIndex%22%3A34%2C%22rects%22%3A%5B%5B336.032%2C314.141%2C563.997%2C323.679%5D%2C%5B312%2C302.601%2C563.997%2C312.072%5D%2C%5B312%2C291.061%2C563.998%2C300.599%5D%2C%5B312%2C279.521%2C563.997%2C288.992%5D%2C%5B312%2C267.981%2C360.346%2C277.452%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=35&#x26;annotation=IYMM4JAS">“Task-specific instructions. For the first type of instructions, we adopt the most commonly-used multi-task instruction dataset, FLAN-T5 [69], which contains 1,836 tasks and over 15M instructions by combining four data mixtures from prior work.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2235%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 35</a></span>)</span> 特定于任务的说明。对于第一类指令，我们采用了最常用的多任务指令数据集FLAN-T5 \[69]，该数据集包含1,836个任务和超过15M条指令，结合了前期工作的四个数据组合。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225VSIB4K5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2236%22%2C%22position%22%3A%7B%22pageIndex%22%3A35%2C%22rects%22%3A%5B%5B72.439%2C229.362%2C300.001%2C238.9%5D%2C%5B48%2C217.822%2C299.997%2C227.293%5D%2C%5B48%2C206.282%2C299.997%2C215.753%5D%2C%5B48%2C194.742%2C300.001%2C204.28%5D%2C%5B48%2C183.202%2C187.46%2C192.673%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=36&#x26;annotation=5VSIB4K5">“Enhancing the instruction complexity. As discussed in existing work [346], enhancing the complexity of instructions can improve the model capacity of LLMs in following complex instructions, e.g., including more task demands or requiring more reasoning steps.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 36</a></span>)</span> 提高指令的复杂性。正如现有工作\[346]所讨论的，增强指令的复杂性可以提高LLM在遵循复杂指令时的模型能力，例如，包括更多的任务需求或需要更多的推理步骤。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EUXDXAGZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2236%22%2C%22position%22%3A%7B%22pageIndex%22%3A35%2C%22rects%22%3A%5B%5B70.346%2C91.305%2C300.004%2C100.843%5D%2C%5B48%2C79.765%2C299.997%2C89.236%5D%2C%5B48%2C68.225%2C299.997%2C77.696%5D%2C%5B48%2C56.685%2C119.003%2C66.156%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=36&#x26;annotation=EUXDXAGZ">“Increasing the topic diversity. In addition to the complexity, improving the topic diversity of the instruction dataset can help elicit different abilities of LLMs on diverse tasks in real world [347].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 36</a></span>)</span> 增加主题的多样性。除了复杂性之外，提高指令数据集的主题多样性还有助于激发LLM在现实世界中不同任务上的不同能力\[347]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UQJR65U5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2236%22%2C%22position%22%3A%7B%22pageIndex%22%3A35%2C%22rects%22%3A%5B%5B334.936%2C362.562%2C564%2C372.1%5D%2C%5B312%2C351.022%2C563.997%2C360.493%5D%2C%5B312%2C339.482%2C519.851%2C348.953%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=36&#x26;annotation=UQJR65U5">“Scaling the instruction number. In addition to the above aspects, the number of instructions is also an important factor that may affect the model performance.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 36</a></span>)</span> 缩放指令编号。除了上述方面外，指令数量也是可能影响模型性能的重要因素。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EJG86965%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2236%22%2C%22position%22%3A%7B%22pageIndex%22%3A35%2C%22rects%22%3A%5B%5B337.62%2C236.045%2C564.005%2C245.583%5D%2C%5B312%2C224.505%2C563.997%2C233.976%5D%2C%5B312%2C212.965%2C563.997%2C222.436%5D%2C%5B312%2C201.425%2C563.997%2C210.896%5D%2C%5B312%2C189.885%2C563.997%2C199.356%5D%2C%5B312%2C178.345%2C551.828%2C187.816%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=36&#x26;annotation=EJG86965">“Balancing the instruction difficulty. As the synthetic instructions tend to contain too easy or too hard ones, it is likely to result in training instability or even overfitting for LLMs. To explore the potential effects, we leverage the perplexity score of LLMs to estimate the difficulty of instructions and remove too easy or too hard instructions.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2236%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 36</a></span>)</span> 平衡教学难度。由于合成指令往往包含太简单或太难的指令，这可能会导致 LLM 的训练不稳定甚至过度拟合。为了探索潜在的影响，我们利用LLM的困惑度评分来估计指令的难度，并删除太简单或太难的指令。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FBZR9UP5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2238%22%2C%22position%22%3A%7B%22pageIndex%22%3A37%2C%22rects%22%3A%5B%5B146.686%2C627.915%2C299.997%2C637.387%5D%2C%5B48%2C616.375%2C299.997%2C625.847%5D%2C%5B48%2C604.835%2C299.997%2C614.307%5D%2C%5B48%2C593.295%2C299.997%2C602.767%5D%2C%5B48%2C581.755%2C299.997%2C591.227%5D%2C%5B48%2C570.215%2C174.293%2C579.687%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=38&#x26;annotation=FBZR9UP5">“For LLMs, the language modeling objective pre-trains the model parameters by word prediction while lacking the consideration of human values or preferences. To avert these unexpected behaviors, human alignment has been proposed to make LLMs act in line with human expectations [66, 367].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 38</a></span>)</span> 对于LLM，语言建模目标通过词预测对模型参数进行预训练，而缺乏对人类价值观或偏好的考虑。为了避免这些意外行为，有人提出人类对齐，使LLM的行为符合人类的期望\[66,367]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22C4BLYNBK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2238%22%2C%22position%22%3A%7B%22pageIndex%22%3A37%2C%22rects%22%3A%5B%5B177.342%2C570.215%2C299.997%2C579.687%5D%2C%5B48%2C558.675%2C300%2C568.213%5D%2C%5B48%2C547.135%2C299.997%2C556.607%5D%2C%5B48%2C535.595%2C300.003%2C545.133%5D%2C%5B48%2C524.055%2C299.997%2C533.527%5D%2C%5B48%2C512.515%2C299.997%2C522.053%5D%2C%5B48%2C500.975%2C112.248%2C510.447%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=38&#x26;annotation=C4BLYNBK">“However, unlike the original pre-training and adaptation tuning (e.g., instruction tuning), such an alignment requires considering very different criteria (e.g., helpfulness, honesty, and harmlessness). It has been shown that alignment might harm the general abilities of LLMs to some extent, which is called alignment tax in related literature [368].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 38</a></span>)</span> 然而，与最初的预训练和适应调整（例如，指令调整）不同，这种调整需要考虑非常不同的标准（例如，帮助性、诚实性和无害性）。研究表明，对齐可能会在一定程度上损害LLM的一般能力，这在相关文献中被称为对齐税\[368]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22SMIKWZY7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2238%22%2C%22position%22%3A%7B%22pageIndex%22%3A37%2C%22rects%22%3A%5B%5B312%2C521.373%2C563.997%2C530.845%5D%2C%5B312%2C509.833%2C563.997%2C519.305%5D%2C%5B312%2C498.293%2C563.997%2C507.765%5D%2C%5B312%2C486.753%2C564%2C496.291%5D%2C%5B312%2C475.213%2C416.009%2C484.751%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=38&#x26;annotation=SMIKWZY7">“During the pre-training stage, LLMs are trained using the language modeling objective on a large-scale corpus. However, it cannot take into account the subjective and qualitative evaluations of LLM outputs by humans (called human feedback in this survey).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 38</a></span>)</span> 在预训练阶段，LLM 使用语言建模目标在大规模语料库上进行训练。但是，它不能考虑人类对 LLM 输出的主观和定性评估（在本调查中称为人类反馈）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22TZRGH7NE%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2238%22%2C%22position%22%3A%7B%22pageIndex%22%3A37%2C%22rects%22%3A%5B%5B312%2C421.739%2C564.003%2C431.211%5D%2C%5B312%2C410.199%2C563.997%2C419.671%5D%2C%5B312%2C398.659%2C422.685%2C408.131%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=38&#x26;annotation=TZRGH7NE">“Human Labeler Selection. In existing work, the dominant method for generating human feedback data is human annotation [66, 116, 367].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 38</a></span>)</span> 人工贴标机选择。在现有工作中，生成人类反馈数据的主要方法是人类注释\[66,116,367]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22SUEMG28Y%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2238%22%2C%22position%22%3A%7B%22pageIndex%22%3A37%2C%22rects%22%3A%5B%5B312%2C317.879%2C563.997%2C327.351%5D%2C%5B312%2C306.339%2C563.997%2C315.811%5D%2C%5B312%2C294.799%2C563.997%2C304.271%5D%2C%5B312%2C283.259%2C563.997%2C292.731%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=38&#x26;annotation=SUEMG28Y">“Even then, several studies [367] have found that there still exists a mismatch between the intentions of researchers and human labelers, which may lead to low-quality human feedback and cause LLMs to produce unexpected output.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 38</a></span>)</span> 即便如此，一些研究\[367]发现研究人员和人类标签者的意图之间仍然存在不匹配，这可能会导致低质量的人类反馈并导致法学硕士产生意想不到的输出。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22APK2RYR4%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2238%22%2C%22position%22%3A%7B%22pageIndex%22%3A37%2C%22rects%22%3A%5B%5B312%2C271.719%2C563.997%2C281.191%5D%2C%5B312%2C260.179%2C563.997%2C269.651%5D%2C%5B312%2C248.639%2C563.997%2C258.111%5D%2C%5B312%2C237.099%2C563.997%2C246.571%5D%2C%5B312%2C225.559%2C563.997%2C235.031%5D%2C%5B312%2C214.019%2C563.997%2C223.491%5D%2C%5B312%2C202.479%2C563.997%2C211.951%5D%2C%5B312%2C190.939%2C563.997%2C200.411%5D%2C%5B312%2C179.399%2C563.997%2C188.871%5D%2C%5B312%2C167.859%2C563.997%2C177.331%5D%2C%5B312%2C156.319%2C564.002%2C165.857%5D%2C%5B312%2C144.779%2C367.433%2C154.251%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=38&#x26;annotation=APK2RYR4">“To address this issue, InstructGPT [66] further conducts a screening process to filter labelers by assessing the agreement between human labelers and researchers. Specifically, researchers first label a small amount of data and then measure the agreement between themselves and human labelers. The labelers with the highest agreement will be selected to proceed with the subsequent annotation work. In some other work [370], “super raters” are used to ensure the high quality of human feedback. Researchers evaluate the performance of human labelers and select a group of well-performing human labelers (e.g., high agreement) as super raters.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2238%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 38</a></span>)</span> 为了解决这个问题，InstructGPT \[66]通过评估人类贴标者和研究人员之间的协议，进一步进行筛选过程来过滤贴标者。具体来说，研究人员首先标记少量数据，然后测量自己与人类标记者之间的一致性。将选择一致性最高的标注者来进行后续标注工作。在其他一些工作中\[370]，“超级评估者”被用来确保人类反馈的高质量。研究人员评估人类贴标者的表现，并选择一组表现良好的人类贴标者（例如高度一致性）作为超级评估者。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22TW7WJC36%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B72.174%2C737.545%2C299.999%2C747.696%5D%2C%5B48%2C726.005%2C299.997%2C735.477%5D%2C%5B48%2C714.465%2C300.002%2C724.003%5D%2C%5B48%2C702.925%2C257.931%2C712.397%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=TW7WJC36">“Ranking-based approach. In early work [367], human labelers often evaluate model-generated outputs in a coarsegrained manner (i.e., only selecting the best) without taking into account more fine-grained alignment criteria.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 基于排名的方法。在早期工作中\[367]，人类标记者通常以粗粒度的方式评估模型生成的输出（即仅选择最佳的），而不考虑更细粒度的对齐标准。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22SL3ZIH2U%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B211.39%2C656.765%2C299.997%2C666.237%5D%2C%5B48%2C645.225%2C299.997%2C654.697%5D%2C%5B48%2C633.685%2C299.997%2C643.157%5D%2C%5B48%2C622.145%2C299.997%2C631.617%5D%2C%5B48%2C610.605%2C299.997%2C620.077%5D%2C%5B48%2C599.065%2C277.9%2C608.537%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=SL3ZIH2U">“To address this issue, subsequent studies [116] introduce the Elo rating system to derive the preference ranking by comparing candidate outputs. The ranking of outputs serves as the training signal that guides the model to prefer certain outputs over others, thus inducing outputs that are more reliable and safer.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 为了解决这个问题，后续研究\[116]引入了Elo评级系统，通过比较候选输出来得出偏好排名。输出的排名充当训练信号，引导模型优先选择某些输出而不是其他输出，从而产生更可靠、更安全的输出。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22XW9WJ9KR%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B71.667%2C587.301%2C299.996%2C597.452%5D%2C%5B48%2C575.761%2C299.997%2C585.233%5D%2C%5B48%2C564.221%2C299.997%2C573.693%5D%2C%5B48%2C552.681%2C258.463%2C562.153%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=XW9WJ9KR">“Question-based approach. Further, human labelers can provide more detailed feedback by answering certain questions designed by researchers [81], covering the alignment criteria as well as additional constraints for LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 基于问题的方法。此外，人类贴标签者可以通过回答研究人员设计的某些问题来提供更详细的反馈\[81]，涵盖对齐标准以及法学硕士的额外限制。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225F5LY4WF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B71.393%2C483.216%2C300%2C493.367%5D%2C%5B48%2C471.676%2C299.997%2C481.148%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=5F5LY4WF">“Rule-based approach. Many studies also develop rulebased methods to provide more detailed human feedback.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 基于规则的方法。许多研究还开发了基于规则的方法来提供更详细的人类反馈。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FBJBL5VV%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B48%2C344.736%2C299.997%2C354.208%5D%2C%5B48%2C333.196%2C299.997%2C342.668%5D%2C%5B48%2C321.656%2C299.997%2C331.128%5D%2C%5B48%2C310.116%2C236.717%2C319.588%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=FBJBL5VV">“Furthermore, GPT-4 [46] utilizes a set of zero-shot classifiers (based on GPT-4 itself) as rule-based reward models, which can automatically determine whether the model-generated outputs violate a set of human-written rules.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 此外，GPT-4\[46]利用一组零样本分类器（基于GPT-4本身）作为基于规则的奖励模型，它可以自动确定模型生成的输出是否违反一组人类编写的规则。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%226YTG29KZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B233.164%2C155.913%2C299.997%2C165.385%5D%2C%5B48%2C144.373%2C299.999%2C153.911%5D%2C%5B48%2C132.833%2C299.997%2C142.305%5D%2C%5B48%2C121.293%2C299.997%2C130.765%5D%2C%5B48%2C109.753%2C299.997%2C119.225%5D%2C%5B48%2C98.213%2C282.203%2C107.685%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=6YTG29KZ">“RLHF employs reinforcement learning (RL) algorithms (e.g., Proximal Policy Optimization (PPO) [128]) to adapt LLMs to human feedback by learning a reward model. Such an approach incorporates humans in the training loop for developing well-aligned LLMs, as exemplified by InstructGPT [66].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> RLHF 采用强化学习 (RL) 算法（例如，近端策略优化 (PPO) \[128]），通过学习奖励模型来使 LLM 适应人类反馈。这种方法将人类纳入培训循环中，以开发协调一致的法学硕士，如 InstructGPT \[66] 所示。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EGRBFALI%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B48%2C79.765%2C299.997%2C89.237%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C299.997%2C66.157%5D%2C%5B48%2C45.145%2C118.233%2C54.683%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=EGRBFALI">“RLHF System. The RLHF system mainly comprises three key components: a pre-trained LM to be aligned, a reward model learning from human feedback, and a RL algorithm training the LM.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> RLHF 系统。 RLHF 系统主要包含三个关键组件：要对齐的预训练 LM、从人类反馈中学习的奖励模型以及训练 LM 的 RL 算法。

![\<img data-attachment-key="AI39YVDU" width="459" height="435" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UYIV25ZA%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B307.06200000000007%2C488.656%2C582.25%2C749.5%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" src="attachments/AI39YVDU.png" ztype="zimage">](/attachments/AI39YVDU.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222FP66IJX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B333.299%2C219.532%2C563.999%2C229.683%5D%2C%5B312%2C207.992%2C563.997%2C217.463%5D%2C%5B312%2C196.452%2C563.997%2C205.923%5D%2C%5B312%2C184.912%2C444.553%2C194.383%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=2FP66IJX">“Supervised fine-tuning. To make the LM initially perform desired behaviors, it usually needs to collect a supervised dataset containing input prompts (instruction) and desired outputs for fine-tuning the LM.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 监督微调。为了使 LM 最初执行所需的行为，通常需要收集一个监督数据集，其中包含输入提示（指令）和用于微调 LM 的所需输出。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FIXEM5M9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2239%22%2C%22position%22%3A%7B%22pageIndex%22%3A38%2C%22rects%22%3A%5B%5B334.804%2C91.305%2C564%2C101.456%5D%2C%5B312%2C79.765%2C457.008%2C89.236%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=39&#x26;annotation=FIXEM5M9">“Reward model training. The second step is to train the RM using human feedback data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2239%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 39</a></span>)</span> 奖励模型训练。第二步是使用人类反馈数据训练 RM。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22LFMRN5AS%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2240%22%2C%22position%22%3A%7B%22pageIndex%22%3A39%2C%22rects%22%3A%5B%5B48%2C570.769%2C299.997%2C580.241%5D%2C%5B48%2C559.229%2C299.997%2C568.701%5D%2C%5B48%2C547.689%2C299.997%2C557.161%5D%2C%5B48%2C536.149%2C152.766%2C545.621%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=40&#x26;annotation=LFMRN5AS">“The annotation process can be conducted in multiple forms, and a common approach is to annotate by ranking the generated candidate texts, which can reduce the inconsistency among annotators.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 40</a></span>)</span> 标注过程可以通过多种形式进行，常见的做法是通过对生成的候选文本进行排序来进行标注，这样可以减少标注者之间的不一致。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224EGG22G9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2240%22%2C%22position%22%3A%7B%22pageIndex%22%3A39%2C%22rects%22%3A%5B%5B70.754%2C374.709%2C300.001%2C384.86%5D%2C%5B48%2C363.169%2C299.997%2C372.641%5D%2C%5B48%2C351.629%2C299.997%2C361.101%5D%2C%5B48%2C340.089%2C299.997%2C349.56%5D%2C%5B48%2C328.549%2C299.997%2C338.02%5D%2C%5B48%2C317.009%2C286.773%2C326.48%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=40&#x26;annotation=4EGG22G9">“RL fine-tuning. At this step, aligning (i.e., fine-tuning) the LM is formalized as an RL problem. In this setting, the pre-trained LM acts as the policy that takes as input a prompt and returns an output text, the action space of it is the vocabulary, the state is the currently generated token sequence, and the reward is provided by the RM.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 40</a></span>)</span> RL 微调。在此步骤中，对齐（即微调）LM 被形式化为 RL 问题。在此设置中，预训练的 LM 作为策略，以提示作为输入并返回输出文本，其动作空间是词汇表，状态是当前生成的令牌序列，奖励由R M。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22Y35DVTGE%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2240%22%2C%22position%22%3A%7B%22pageIndex%22%3A39%2C%22rects%22%3A%5B%5B312%2C559.229%2C563.997%2C568.701%5D%2C%5B312%2C547.689%2C563.997%2C557.161%5D%2C%5B312%2C536.149%2C563.997%2C545.621%5D%2C%5B312%2C524.609%2C563.997%2C534.081%5D%2C%5B312%2C513.069%2C503.596%2C522.541%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=40&#x26;annotation=Y35DVTGE">“In LLaMa 2 [99], pretrained chat model checkpoints are used to initialize the reward model, they argue that such an approach can effectively reduce the information mismatch between the model to be aligned and the reward model by sharing the same pre-training knowledge.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 40</a></span>)</span> 在LLaMa 2 \[99]中，预训练的聊天模型检查点被用来初始化奖励模型，他们认为这种方法可以通过共享相同的预训练知识来有效减少待对齐模型和奖励模型之间的信息不匹配。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22LVRT4PT9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2240%22%2C%22position%22%3A%7B%22pageIndex%22%3A39%2C%22rects%22%3A%5B%5B333.371%2C302.187%2C563.999%2C312.338%5D%2C%5B312%2C290.647%2C563.997%2C300.118%5D%2C%5B312%2C279.107%2C563.997%2C288.578%5D%2C%5B312%2C267.567%2C563.997%2C277.038%5D%2C%5B312%2C256.027%2C348.11%2C265.498%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=40&#x26;annotation=LVRT4PT9">“Effective RL training. As the RL training process tends to be unstable and hyper-parameter sensitive, it is suggested that the language model should be well supervised finetuned before RL training, so as to reaching a good model capacity.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2240%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 40</a></span>)</span> 有效的强化学习训练。由于强化学习训练过程往往不稳定且超参数敏感，建议在强化学习训练之前对语言模型进行良好的监督微调，以达到良好的模型能力。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222F22RJFP%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2241%22%2C%22position%22%3A%7B%22pageIndex%22%3A40%2C%22rects%22%3A%5B%5B77.498%2C702.925%2C299.997%2C712.397%5D%2C%5B48%2C691.385%2C299.997%2C700.857%5D%2C%5B48%2C679.845%2C299.997%2C689.317%5D%2C%5B48%2C668.305%2C299.997%2C677.777%5D%2C%5B48%2C656.765%2C299.997%2C666.237%5D%2C%5B48%2C645.225%2C299.997%2C654.697%5D%2C%5B48%2C633.685%2C170.94%2C644.734%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=41&#x26;annotation=2F22RJFP">“As a practical trick, we can deploy the reward model on a separate server, and invoke the corresponding API to work with the LLM on its own server. In addition, as RLHF requires the LLM to generate multiple candidate outputs, instead of calling the sample decoding procedure for multiple times, it is more efficient to utilize the beam search decoding algorithm26.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 41</a></span>)</span> 作为一个实用的技巧，我们可以将奖励模型部署在单独的服务器上，并调用相应的 API 来与自己服务器上的 LLM 一起工作。此外，由于 RLHF 需要 LLM 生成多个候选输出，因此使用波束搜索解码算法比多次调用样本解码过程更有效。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22MAEXF26F%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2241%22%2C%22position%22%3A%7B%22pageIndex%22%3A40%2C%22rects%22%3A%5B%5B185.986%2C580.876%2C300.005%2C590.348%5D%2C%5B48%2C569.336%2C299.997%2C578.808%5D%2C%5B48%2C557.796%2C299.997%2C567.268%5D%2C%5B48%2C546.256%2C278.888%2C555.728%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=41&#x26;annotation=MAEXF26F">“In existing literature of RLHF [376], the supervision signals for RL training can be generally classified into two distinct categories: outcomesupervision signals and process-supervision signals.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 41</a></span>)</span> 在 RLHF \[376] 的现有文献中，RL 训练的监督信号通常可以分为两个不同的类别：结果监督信号和过程监督信号。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22GXEF6U8R%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2241%22%2C%22position%22%3A%7B%22pageIndex%22%3A40%2C%22rects%22%3A%5B%5B359.449%2C631.457%2C564.003%2C640.929%5D%2C%5B312%2C619.917%2C564%2C629.455%5D%2C%5B312%2C608.377%2C563.997%2C617.915%5D%2C%5B312%2C596.837%2C563.997%2C606.309%5D%2C%5B312%2C585.297%2C563.997%2C594.769%5D%2C%5B312%2C573.757%2C563.997%2C583.229%5D%2C%5B312%2C562.217%2C563.997%2C571.689%5D%2C%5B312%2C550.677%2C354.275%2C560.149%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=41&#x26;annotation=GXEF6U8R">“The basic idea of non-RL alignment approaches is to directly fine-tune LLMs with supervised learning on high-quality alignment dataset. It basically assumes that response feedback or golden rules to avert unsafe behaviors have been injected or included in the specially curated alignment dataset, so that LLMs can directly learn aligned behaviors from these demonstration data via suitable fine-tuning strategies.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 41</a></span>)</span> 非强化学习对齐方法的基本思想是通过高质量对齐数据集的监督学习来直接微调 LLM。它基本上假设避免不安全行为的响应反馈或黄金规则已被注入或包含在专门策划的对齐数据集中，以便法学硕士可以通过适当的微调策略直接从这些演示数据中学习对齐行为。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22W6UC3HJP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2241%22%2C%22position%22%3A%7B%22pageIndex%22%3A40%2C%22rects%22%3A%5B%5B335.559%2C275.945%2C564.005%2C286.096%5D%2C%5B312%2C264.405%2C563.997%2C273.877%5D%2C%5B312%2C252.865%2C563.997%2C262.337%5D%2C%5B312%2C241.325%2C563.997%2C250.797%5D%2C%5B312%2C229.785%2C499.787%2C239.257%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=41&#x26;annotation=W6UC3HJP">“Reward model based approaches. The reward model in RLHF has been trained to measure the alignment degree on the responses of LLMs. It is straightforward to leverage existing reward models to select high-quality responses as alignment data for subsequent fine-tuning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 41</a></span>)</span> 基于奖励模型的方法。 RLHF 中的奖励模型经过训练可以衡量法学硕士响应的一致性程度。利用现有的奖励模型来选择高质量的响应作为后续微调的对齐数据非常简单。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FBY9PFIG%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2241%22%2C%22position%22%3A%7B%22pageIndex%22%3A40%2C%22rects%22%3A%5B%5B351.53%2C56.685%2C563.997%2C66.157%5D%2C%5B312%2C45.145%2C560.834%2C54.617%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=41&#x26;annotation=FBY9PFIG">“As valuable resources for aligning LLMs, several reward models have been released, including DeBERTa”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2241%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 41</a></span>)</span> 作为调整法学硕士的宝贵资源，已经发布了多种奖励模型，包括 DeBERTa

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FJLCJMQI%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2242%22%2C%22position%22%3A%7B%22pageIndex%22%3A41%2C%22rects%22%3A%5B%5B556.216%2C756.946%2C564%2C763.421%5D%2C%5B48%2C737.545%2C299.997%2C748.594%5D%2C%5B48%2C726.005%2C220.175%2C737.054%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=42&#x26;annotation=FJLCJMQI">“42 base/large/xxlarge from OpenAssistant27, Moss-7B from Fudan28, and Flan-T5-xl from Stanford29.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 42</a></span>)</span> 来自 OpenAssistant27 的 42 base/large/xxlarge、来自 Fudan28 的 Moss-7B 和来自斯坦福29 的 Flan-T5-xl。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%228CN2S88Z%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2242%22%2C%22position%22%3A%7B%22pageIndex%22%3A41%2C%22rects%22%3A%5B%5B71.032%2C714.529%2C300%2C724.68%5D%2C%5B48%2C702.989%2C299.997%2C712.461%5D%2C%5B48%2C691.449%2C299.997%2C700.921%5D%2C%5B48%2C679.909%2C299.997%2C689.381%5D%2C%5B48%2C668.369%2C134.906%2C677.841%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=42&#x26;annotation=8CN2S88Z">“LLM based generative approaches. Reward models help to select aligned data from model responses. However, training reward models itself necessitates substantial highquality human-labeled data, which is typically expensive and in short supply.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 42</a></span>)</span> 基于法学硕士的生成方法。奖励模型有助于从模型响应中选择一致的数据。然而，训练奖励模型本身需要大量高质量的人工标记数据，而这些数据通常价格昂贵且供应短缺。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EIBHSNZY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2242%22%2C%22position%22%3A%7B%22pageIndex%22%3A41%2C%22rects%22%3A%5B%5B72.913%2C391.473%2C299.999%2C401.624%5D%2C%5B48%2C379.933%2C299.997%2C389.405%5D%2C%5B48%2C368.393%2C299.997%2C377.865%5D%2C%5B48%2C356.853%2C198.898%2C366.325%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=42&#x26;annotation=EIBHSNZY">“LLM based interactive approaches. Most existing approaches train LLMs in isolation, where LLMs are not present in actual environments to improve themselves through external feedback signals.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 42</a></span>)</span> 基于法学硕士的互动方法。大多数现有方法都是孤立地训练​​法学硕士，而法学硕士并不存在于实际环境中，无法通过外部反馈信号来提高自己。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22NB4RADLP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2242%22%2C%22position%22%3A%7B%22pageIndex%22%3A41%2C%22rects%22%3A%5B%5B48%2C188.674%2C300.003%2C198.146%5D%2C%5B48%2C177.134%2C299.997%2C186.606%5D%2C%5B48%2C165.594%2C299.997%2C175.066%5D%2C%5B48%2C154.054%2C299.997%2C163.526%5D%2C%5B48%2C142.514%2C217.584%2C151.986%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=42&#x26;annotation=NB4RADLP">“Supervised Alignment Tuning. After obtaining alignment data, it is also key to design suitable fine-tuning strategies for direct alignment. A straightforward approach is to optimize LLMs using the conventional sequence-to-sequence objective based on the alignment data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 42</a></span>)</span> 监督对准调整。获得比对数据后，设计合适的直接比对微调策略也是关键。一种直接的方法是使用基于比对数据的传统序列到序列目标来优化 LLM。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22I4YSA3BQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2242%22%2C%22position%22%3A%7B%22pageIndex%22%3A41%2C%22rects%22%3A%5B%5B335.982%2C472.265%2C564.001%2C482.416%5D%2C%5B312%2C460.725%2C563.997%2C470.197%5D%2C%5B312%2C449.185%2C563.997%2C458.657%5D%2C%5B312%2C437.645%2C563.997%2C447.117%5D%2C%5B312%2C426.105%2C563.997%2C435.577%5D%2C%5B312%2C414.565%2C563.997%2C424.037%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=42&#x26;annotation=I4YSA3BQ">“Auxiliary optimization objectives. Besides the primary cross-entropy loss, several studies propose auxiliary training loss to enhance the learning from the alignment data. First, since the responses of each instruction can be scored by the reward model, the ranking loss can be used to train the model to preserve the ranking order of these responses.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 42</a></span>)</span> 辅助优化目标。除了主要的交叉熵损失之外，一些研究还提出了辅助训练损失来增强对对齐数据的学习。首先，由于奖励模型可以对每条指令的响应进行评分，因此可以使用排名损失来训练模型以保留这些响应的排名顺序。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FM6RSQ83%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2242%22%2C%22position%22%3A%7B%22pageIndex%22%3A41%2C%22rects%22%3A%5B%5B338.628%2C102.845%2C563.997%2C112.317%5D%2C%5B312%2C91.305%2C563.997%2C100.777%5D%2C%5B312%2C79.765%2C563.997%2C89.237%5D%2C%5B312%2C68.225%2C564.002%2C77.763%5D%2C%5B312%2C56.685%2C563.998%2C66.223%5D%2C%5B312%2C45.145%2C491.919%2C54.683%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=42&#x26;annotation=FM6RSQ83">“At early exploration, instruction data was mainly collected from NLP tasks [67], while it has been now extended to more diverse supervision data that pairs input and output texts (e.g., the utterances of open-ended dialogues). Training with such paired texts is also called supervised finetuning (SFT) in the context of LLMs [66].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2242%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 42</a></span>)</span> 在早期探索中，指令数据主要从 NLP 任务中收集\[67]，而现在已扩展到将输入和输出文本配对的更多样化的监督数据（例如开放式对话的话语）。在法学硕士\[66]的背景下，使用这种配对文本进行训练也称为监督微调（SFT）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2238I7QH29%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2243%22%2C%22position%22%3A%7B%22pageIndex%22%3A42%2C%22rects%22%3A%5B%5B172.146%2C510.118%2C299.997%2C519.59%5D%2C%5B48%2C498.578%2C299.997%2C508.05%5D%2C%5B48%2C487.038%2C299.997%2C496.51%5D%2C%5B48%2C475.498%2C299.997%2C484.97%5D%2C%5B48%2C463.958%2C299.998%2C473.496%5D%2C%5B48%2C452.418%2C299.997%2C461.89%5D%2C%5B48%2C440.878%2C299.997%2C450.35%5D%2C%5B48%2C429.338%2C300.001%2C438.876%5D%2C%5B48%2C417.798%2C300.004%2C427.336%5D%2C%5B48%2C406.258%2C300.003%2C415.796%5D%2C%5B48%2C394.718%2C299.997%2C404.19%5D%2C%5B48%2C383.178%2C299.997%2C392.65%5D%2C%5B48%2C371.638%2C299.997%2C381.11%5D%2C%5B48%2C360.098%2C300%2C369.636%5D%2C%5B48%2C348.558%2C299.997%2C358.03%5D%2C%5B48%2C337.018%2C300.002%2C346.556%5D%2C%5B48%2C325.478%2C126.46%2C334.95%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=43&#x26;annotation=38I7QH29">“Overall, RLHF and SFT can be considered as two different training approaches to optimizing the above decision making process for LLMs. Specially, RLHF firstly learns the reward model, and then employs it to improve the LLM with RL training (e.g., PPO). As a comparison, SFT adopts a teacher-forcing approach, which directly optimizes the likelihood of a demonstration output. Such a token-level training way essentially does behavior cloning (a special algorithm of imitation learning [393]): it utilizes the expert’s action (i.e., the target token at each step) as the supervision label and directly learns to imitate the demonstrations from experts without specifying a reward model as in typical RL algorithms. To learn the desired policies, SFT adopts a “local” optimization way (i.e., tokenlevel loss) based on demonstration data, while RLHF takes a “global” optimization way (i.e., text-level loss) by involving human preference.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 43</a></span>)</span> 总体而言，RLHF 和 SFT 可以被视为优化上述 LLM 决策过程的两种不同的培训方法。特别地，RLHF首先学习奖励模型，然后用它来通过RL训练来改进LLM（例如，PPO）。相比之下，SFT 采用教师强制的方法，直接优化演示输出的可能性。这种令牌级别的训练方式本质上是行为克隆（模仿学习的一种特殊算法\[393]）：它利用专家的动作（即每一步的目标令牌）作为监督标签，直接学习模仿来自专家无需像典型的 RL 算法那样指定奖励模型。为了学习所需的策略，SFT 采用基于演示数据的“局部”优化方式（即令牌级损失），而 RLHF 采用涉及人类偏好的“全局”优化方式（即文本级损失）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22NXR6F6CP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2243%22%2C%22position%22%3A%7B%22pageIndex%22%3A42%2C%22rects%22%3A%5B%5B122.546%2C214.193%2C299.997%2C223.665%5D%2C%5B48%2C202.653%2C300%2C212.191%5D%2C%5B48%2C191.113%2C299.997%2C200.585%5D%2C%5B48%2C179.573%2C299.997%2C189.045%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=43&#x26;annotation=NXR6F6CP">“It has been widely recognized that SFT mainly unlocks the abilities but not inject new abilities into LLMs. Thus, it might become problematic when one tries to stimulate the non-endogenous abilities of LLMs via SFT.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 43</a></span>)</span> 人们普遍认为，SFT主要是解锁LLM的能力，而不是为LLM注入新的能力。因此，当试图通过 SFT 激发法学硕士的非内生能力时，可能会出现问题。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VJ9MB8MR%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2243%22%2C%22position%22%3A%7B%22pageIndex%22%3A42%2C%22rects%22%3A%5B%5B48%2C168.033%2C299.997%2C177.505%5D%2C%5B48%2C156.493%2C299.997%2C165.965%5D%2C%5B48%2C144.953%2C299.997%2C154.491%5D%2C%5B48%2C133.413%2C237.553%2C142.885%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=43&#x26;annotation=VJ9MB8MR">“As a concrete scenario, it would potentially advocate the hallucination behaviors when demonstration data is beyond the knowledge or ability scope of LLMs, e.g., training a LLM to answer questions about its unknown facts.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 43</a></span>)</span> 作为一个具体场景，当演示数据超出法学硕士的知识或能力范围时，它可能会提倡幻觉行为，例如训练法学硕士回答有关其未知事实的问题。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225D7YMWQ4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2243%22%2C%22position%22%3A%7B%22pageIndex%22%3A42%2C%22rects%22%3A%5B%5B362.787%2C484.696%2C563.997%2C494.168%5D%2C%5B312%2C473.156%2C563.997%2C482.628%5D%2C%5B312%2C461.616%2C563.997%2C471.088%5D%2C%5B312%2C450.076%2C563.997%2C459.548%5D%2C%5B312%2C438.536%2C563.997%2C448.008%5D%2C%5B312%2C426.996%2C563.997%2C436.468%5D%2C%5B312%2C415.456%2C563.997%2C424.928%5D%2C%5B312%2C403.916%2C563.997%2C413.388%5D%2C%5B312%2C392.376%2C563.997%2C401.848%5D%2C%5B312%2C380.836%2C563.997%2C390.308%5D%2C%5B312%2C369.296%2C563.997%2C378.768%5D%2C%5B312%2C357.756%2C563.997%2C367.228%5D%2C%5B312%2C346.216%2C563.997%2C355.688%5D%2C%5B312%2C334.676%2C391.091%2C345.725%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=43&#x26;annotation=5D7YMWQ4">“First, since human annotators mainly provide preference annotations for RLHF, it can largely alleviate the discrepancies of annotators as that in SFT. Secondly, preference annotation is much easier than writing the demonstration data, and annotators can even judge the quality of more superior generations than those they create, making it possible to explore a broader state space beyond what can be demonstrated by human annotators. Another key point is that RLHF essentially encourages LLMs to learn correct policies by contrasting the self-generated responses (discriminating between good and bad responses). It no longer forces the model to imitate external demonstration data, and thus can mitigate the hallucination issues with SFT as discussed above31.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 43</a></span>)</span> 首先，由于人类注释者主要为 RLHF 提供偏好注释，因此它可以在很大程度上缓解注释者与 SFT 中的差异。其次，偏好注释比编写演示数据要容易得多，注释者甚至可以判断比他们创建的更优秀的世代的质量，从而可以探索超出人类注释者可以演示的更广泛的状态空间。另一个关键点是，RLHF 实质上鼓励法学硕士通过对比自我生成的响应（区分好响应和坏响应）来学习正确的策略。它不再强制模型模仿外部演示数据，因此可以减轻上面讨论的 SFT 的幻觉问题31。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%229WRFVI34%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2243%22%2C%22position%22%3A%7B%22pageIndex%22%3A42%2C%22rects%22%3A%5B%5B332.24%2C72.568%2C564%2C80.544%5D%2C%5B312%2C63.568%2C564%2C71.544%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=43&#x26;annotation=9WRFVI34">“In RLHF, it seems to be also important that reward models should be aware of the knowledge or ability of a LLM to be aligned.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2243%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 43</a></span>)</span> 在 RLHF 中，奖励模型应该意识到 LLM 的知识或能力要保持一致，这一点似乎也很重要。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22C7T8ABFX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2244%22%2C%22position%22%3A%7B%22pageIndex%22%3A43%2C%22rects%22%3A%5B%5B48%2C479.895%2C300%2C489.367%5D%2C%5B48%2C468.355%2C300.002%2C477.893%5D%2C%5B48%2C456.815%2C299.997%2C466.287%5D%2C%5B48%2C445.275%2C299.997%2C454.747%5D%2C%5B48%2C433.735%2C299.997%2C443.207%5D%2C%5B48%2C422.195%2C299.997%2C431.667%5D%2C%5B48%2C410.655%2C205.871%2C420.127%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=44&#x26;annotation=C7T8ABFX">“Adapter Tuning. Adapter tuning incorporates small neural network modules (called adapter) into the Transformer models [398]. To implement the adapter module, a bottleneck architecture has been proposed in [398, 399], which first compresses the original feature vector into a smaller dimension (followed by a nonlinear transformation) and then recovers it to the original dimension.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 44</a></span>)</span> 适配器调整。适配器调整将小型神经网络模块（称为适配器）合并到 Transformer 模型中 \[398]。为了实现适配器模块，\[398, 399]中提出了一种瓶颈架构，它首先将原始特征向量压缩到较小的维度（随后进行非线性变换），然后将其恢复到原始维度。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KRI9BXX8%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2244%22%2C%22position%22%3A%7B%22pageIndex%22%3A43%2C%22rects%22%3A%5B%5B48%2C264.405%2C299.998%2C273.877%5D%2C%5B48%2C252.865%2C299.997%2C262.337%5D%2C%5B48%2C241.325%2C299.997%2C250.797%5D%2C%5B48%2C229.785%2C299.997%2C239.257%5D%2C%5B48%2C218.245%2C129.719%2C227.717%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=44&#x26;annotation=KRI9BXX8">“Prefix Tuning. Prefix tuning [396] prepends a sequence of prefixes, which are a set of trainable continuous vectors, to each Transformer layer in language models. These prefix vectors are task-specific, which can be considered as virtual token embeddings.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 44</a></span>)</span> 前缀调整。前缀调整\[396]将一系列前缀（一组可训练的连续向量）添加到语言模型中的每个 Transformer 层。这些前缀向量是特定于任务的，可以被视为虚拟令牌嵌入。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2284TEIIYF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2244%22%2C%22position%22%3A%7B%22pageIndex%22%3A43%2C%22rects%22%3A%5B%5B312%2C737.545%2C564.001%2C747.017%5D%2C%5B312%2C726.005%2C563.997%2C735.477%5D%2C%5B312%2C714.465%2C563.997%2C725.514%5D%2C%5B312%2C702.925%2C563.997%2C712.397%5D%2C%5B312%2C691.385%2C563.997%2C700.857%5D%2C%5B312%2C679.845%2C563.997%2C689.317%5D%2C%5B312%2C668.305%2C563.997%2C677.777%5D%2C%5B312%2C656.765%2C335.56%2C666.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=44&#x26;annotation=84TEIIYF">“Prompt Tuning. Different from prefix tuning, prompt tuning [397, 402] mainly focuses on incorporating trainable prompt vectors at the input layer32. Based on the discrete prompting methods [404, 405], it augments the input text by including a group of soft prompt tokens (either in a free form [402] or a prefix form [397]), and then takes the prompt-augmented input to solve specific downstream tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 44</a></span>)</span> 及时调整。与前缀调整不同，提示调整\[397, 402]主要侧重于在输入层合并可训练的提示向量32。基于离散提示方法\[404, 405]，它通过包含一组软提示标记（自由形式\[402]或前缀形式\[397]）来增强输入文本，然后采用提示增强输入来解决特定的下游任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FQE5K4Q6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2244%22%2C%22position%22%3A%7B%22pageIndex%22%3A43%2C%22rects%22%3A%5B%5B312%2C477.401%2C564.005%2C486.873%5D%2C%5B312%2C465.861%2C563.997%2C475.333%5D%2C%5B312%2C454.321%2C563.997%2C463.793%5D%2C%5B312%2C442.781%2C466.527%2C452.253%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=44&#x26;annotation=FQE5K4Q6">“Low-Rank Adaptation (LoRA). LoRA [145] imposes the low-rank constraint for approximating the update matrix at each dense layer, so as to reduce the trainable parameters for adapting to downstream tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2244%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 44</a></span>)</span> 低阶适应（LoRA）。 LoRA\[145]在每个密集层施加低秩约束来近似更新矩阵，以减少适应下游任务的可训练参数。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227BSXEFSA%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2245%22%2C%22position%22%3A%7B%22pageIndex%22%3A44%2C%22rects%22%3A%5B%5B62.25%2C564.209%2C299.997%2C573.681%5D%2C%5B48%2C552.669%2C299.997%2C562.141%5D%2C%5B48%2C541.129%2C299.997%2C550.601%5D%2C%5B48%2C529.589%2C299.997%2C539.061%5D%2C%5B48%2C518.049%2C299.997%2C527.521%5D%2C%5B48%2C506.509%2C299.997%2C515.981%5D%2C%5B48%2C494.969%2C299.997%2C504.441%5D%2C%5B48%2C483.429%2C299.997%2C492.901%5D%2C%5B48%2C471.889%2C299.997%2C481.361%5D%2C%5B48%2C460.349%2C299.997%2C469.821%5D%2C%5B48%2C448.809%2C299.997%2C458.281%5D%2C%5B48%2C437.269%2C299.997%2C446.741%5D%2C%5B48%2C425.729%2C137.575%2C435.201%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=45&#x26;annotation=7BSXEFSA">“Further, an empirical study [399] has been conducted to examine the effect of different tuning methods on language models. They compare four efficient tuning methods including serial adapter tuning [398], parallel adapter tuning [400, 410], and LoRA [145], on three open-source LLMs, namely GPT-J (6B), BLOOM (7.1B) and LLaMA (7B), for evaluation. Based on the experimental results on six math reasoning datasets, they show that these efficient-tuning methods under-perform the reference baseline GPT-3.5 on difficult tasks, while achieving a comparable performance on simple tasks. Overall, LoRA performs relatively well among these comparison methods, using significantly fewer trainable parameters.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 45</a></span>)</span> 此外，还进行了一项实证研究\[399]来检验不同调优方法对语言模型的影响。他们在三个开源 LLM（即 GPT-J (6B)、BLOOM (7.1B) 和LLaMA (7B)，用于评估。基于六个数学推理数据集的实验结果，他们表明这些高效调整方法在困难任务上的表现低于参考基线 GPT-3.5，而在简单任务上却达到了相当的性能。总体而言，LoRA 在这些比较方法中表现相对较好，使用的可训练参数明显较少。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225VPY4IM3%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2245%22%2C%22position%22%3A%7B%22pageIndex%22%3A44%2C%22rects%22%3A%5B%5B326.25%2C737.545%2C563.997%2C747.017%5D%2C%5B312%2C726.005%2C563.997%2C735.477%5D%2C%5B312%2C714.465%2C564%2C724.003%5D%2C%5B312%2C702.925%2C392.046%2C712.463%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=45&#x26;annotation=5VPY4IM3">“In neural network compression, quantization often refers to the mapping process from floating-point numbers to integers [412], especially the 8-bit integer quantization (i.e., INT8 quantization).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 45</a></span>)</span> 在神经网络压缩中，量化通常指从浮点数到整数的映射过程\[412]，特别是8位整数量化（即INT8量化）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ABPCNVJS%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2245%22%2C%22position%22%3A%7B%22pageIndex%22%3A44%2C%22rects%22%3A%5B%5B312%2C401.465%2C563.997%2C410.937%5D%2C%5B312%2C389.925%2C564.001%2C399.463%5D%2C%5B312%2C378.385%2C564%2C387.923%5D%2C%5B312%2C366.845%2C495.094%2C376.383%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=45&#x26;annotation=ABPCNVJS">“There are generally two major model quantization approaches, namely quantization-aware training (QAT) (requiring additional full model retraining) and post-training quantization (PTQ) (requires no model retraining).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 45</a></span>)</span> 通常有两种主要的模型量化方法，即量化感知训练（QAT）（需要额外的完整模型重新训练）和训练后量化（PTQ）（不需要模型重新训练）。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227WHFE8YZ%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2245%22%2C%22position%22%3A%7B%22pageIndex%22%3A44%2C%22rects%22%3A%5B%5B336.636%2C210.2%2C563.996%2C220.351%5D%2C%5B312%2C198.66%2C563.997%2C208.132%5D%2C%5B312%2C187.12%2C564.001%2C196.658%5D%2C%5B312%2C175.58%2C563.997%2C185.052%5D%2C%5B312%2C164.04%2C563.997%2C173.512%5D%2C%5B312%2C152.5%2C563.997%2C161.972%5D%2C%5B312%2C140.96%2C564.004%2C150.498%5D%2C%5B312%2C129.42%2C563.997%2C138.892%5D%2C%5B312%2C117.88%2C563.997%2C127.352%5D%2C%5B312%2C106.34%2C564.001%2C115.878%5D%2C%5B312%2C94.8%2C563.997%2C104.338%5D%2C%5B312%2C83.26%2C485.651%2C92.732%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=45&#x26;annotation=7WHFE8YZ">“Mixed-precision decomposition. As observed in [413], extreme large values occur in hidden activations (called the emergence of outliers) when the model size reaches 6.7B parameters or above. Interestingly, these outliers are mainly distributed in some specific feature dimensions at Transformer layers. Based on this finding, a vector-wise quantization approach, called LLM.int8(), has been proposed in [413], which separates the feature dimensions with outliers and the rest dimensions in matrix multiplication. Then, the calculations for the two parts are performed with 16bit floating numbers and 8-bit integers, respectively, so as to recover these outliers in a high precision.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2245%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 45</a></span>)</span> 混合精度分解。正如\[413]中观察到的，当模型大小达到 6.7B 参数或以上时，隐藏激活中会出现极大的值（称为异常值的出现）。有趣的是，这些异常值主要分布在 Transformer 层的一些特定特征维度上。基于这一发现，\[413]中提出了一种称为 LLM.int8() 的向量量化方法，该方法将具有异常值的特征维度与矩阵乘法中的其余维度分开。然后，分别用16位浮点数和8位整数进行这两部分的计算，从而高精度地恢复这些异常值。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22RVQ2JDYP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2246%22%2C%22position%22%3A%7B%22pageIndex%22%3A45%2C%22rects%22%3A%5B%5B73.918%2C737.545%2C300.005%2C747.696%5D%2C%5B48%2C726.005%2C299.997%2C735.477%5D%2C%5B48%2C714.465%2C299.997%2C723.937%5D%2C%5B48%2C702.925%2C299.997%2C712.397%5D%2C%5B48%2C691.385%2C219.812%2C700.923%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=46&#x26;annotation=RVQ2JDYP">“Fine-grained quantization. For Transformer models, weights and activations are usually represented in the form of tensors. A straightforward approach is to use coarse-grained quantization parameters for the whole tensor (i.e., per-tensor quantization) [414].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 46</a></span>)</span> 细粒度量化。对于 Transformer 模型，权重和激活通常以张量的形式表示。一种直接的方法是对整个张量使用粗粒度量化参数（即每个张量量化）\[414]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227QY6YB37%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2246%22%2C%22position%22%3A%7B%22pageIndex%22%3A45%2C%22rects%22%3A%5B%5B73.074%2C161.187%2C300%2C171.338%5D%2C%5B48%2C149.647%2C300%2C159.185%5D%2C%5B48%2C138.107%2C299.997%2C147.579%5D%2C%5B48%2C126.567%2C299.997%2C136.039%5D%2C%5B48%2C115.027%2C299.997%2C124.499%5D%2C%5B48%2C103.487%2C299.997%2C112.959%5D%2C%5B48%2C91.947%2C299.997%2C101.419%5D%2C%5B48%2C80.407%2C227.141%2C89.879%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=46&#x26;annotation=7QY6YB37">“Efficient fine-tuning enhanced quantization. For posttraining quantization, direct low-bit quantization (e.g., INT4 quantization) often results in large performance degradation. To overcome this challenge, QLoRA [419] incorporates additional small tunable adapters (16-bit precision) into the quantized models, to achieve an efficient, high-precision model fine-tuning. It combines the merits of LoRA (See Section 5.3.1) and quantization methods.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 46</a></span>)</span> 高效微调增强量化。对于训练后量化，直接低位量化（例如 INT4 量化）通常会导致性能大幅下降。为了克服这一挑战，QLoRA\[419]将额外的小型可调适配器（16位精度）合并到量化模型中，以实现高效、高精度的模型微调。它结合了 LoRA（参见第 5.3.1 节）和量化方法的优点。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22T9PSK4RM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2246%22%2C%22position%22%3A%7B%22pageIndex%22%3A45%2C%22rects%22%3A%5B%5B335.789%2C334.088%2C563.998%2C344.039%5D%2C%5B312%2C322.548%2C563.997%2C331.886%5D%2C%5B312%2C310.808%2C552.778%2C320.346%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=46&#x26;annotation=T9PSK4RM">“INT8 weight quantization can often yield very good results on LLMs, while the performance of lower precision weight quantization depends on specific methods [414, 416, 417, 421].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 46</a></span>)</span> INT8权重量化通常可以在LLM上产生非常好的结果，而较低精度权重量化的性能取决于特定方法\[414,416,417,421]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HDYF94QJ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2246%22%2C%22position%22%3A%7B%22pageIndex%22%3A45%2C%22rects%22%3A%5B%5B338.415%2C68.426%2C564.002%2C78.377%5D%2C%5B312%2C56.686%2C563.997%2C66.224%5D%2C%5B312%2C45.146%2C554.364%2C54.618%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=46&#x26;annotation=HDYF94QJ">“Activations are more difficult to be quantized than weights [413, 414, 421]. It has been found that large outliers would occur for Transformer language models having”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2246%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 46</a></span>)</span> 激活比权重更难量化\[413,414,421]。研究发现，具有以下特征的 Transformer 语言模型会出现较大的异常值

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22MVWBSYN9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2247%22%2C%22position%22%3A%7B%22pageIndex%22%3A46%2C%22rects%22%3A%5B%5B556.216%2C756.946%2C564%2C763.421%5D%2C%5B48%2C737.545%2C172.498%2C747.017%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=47&#x26;annotation=MVWBSYN9">“47 size of 6.7B or above [413].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 47</a></span>)</span> 47尺寸为6.7B或以上\[413]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227QNT5MCW%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2247%22%2C%22position%22%3A%7B%22pageIndex%22%3A46%2C%22rects%22%3A%5B%5B312%2C578.409%2C564.001%2C587.881%5D%2C%5B312%2C566.869%2C563.997%2C576.341%5D%2C%5B312%2C555.329%2C563.997%2C564.801%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=47&#x26;annotation=7QNT5MCW">“Quantized LLMs. Compared with original models, quantized language models take a smaller memory footprint, and likely have a faster inference speed [93, 413, 427].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 47</a></span>)</span> 与原始模型相比，量化语言模型占用的内存更小，并且可能具有更快的推理速度\[93,413,427]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22M4PL8W24%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2247%22%2C%22position%22%3A%7B%22pageIndex%22%3A46%2C%22rects%22%3A%5B%5B312%2C370.849%2C563.997%2C380.321%5D%2C%5B312%2C359.309%2C564.001%2C368.847%5D%2C%5B312%2C347.769%2C418.571%2C357.241%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=47&#x26;annotation=M4PL8W24">“After pre-training or adaptation tuning, a major approach to using LLMs is to design suitable prompting strategies for solving various tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 47</a></span>)</span> 经过预训练或适应性调整后，使用LLM的一个主要方法是设计合适的提示策略来解决各种任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ULFT5FS6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2247%22%2C%22position%22%3A%7B%22pageIndex%22%3A46%2C%22rects%22%3A%5B%5B421.374%2C347.769%2C563.997%2C357.241%5D%2C%5B312%2C336.229%2C563.997%2C345.701%5D%2C%5B312%2C324.689%2C563.997%2C334.161%5D%2C%5B312%2C313.149%2C564.003%2C322.687%5D%2C%5B312%2C301.609%2C563.997%2C311.081%5D%2C%5B312%2C290.069%2C564%2C299.607%5D%2C%5B312%2C278.529%2C563.997%2C288.001%5D%2C%5B312%2C266.989%2C563.997%2C276.461%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=47&#x26;annotation=ULFT5FS6">“In existing literature, task-specific prompts can be effectively learned through manual creation and automatic optimization. A representative prompting method is in-context learning [50, 55], which formulates the task description and/or demonstrations in the form of natural language text. In addition, chain-of-thought prompting [33] can be employed to enhance in-context learning by involving a series of intermediate reasoning steps in prompts.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2247%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 47</a></span>)</span> 在现有文献中，可以通过手动创建和自动优化来有效学习特定任务的提示。一种代表性的提示方法是上下文学习\[50, 55]，它以自然语言文本的形式制定任务描述和/或演示。此外，思想链提示\[33]可以通过在提示中涉及一系列中间推理步骤来增强情境学习。

![\<img data-attachment-key="RW9VYHQF" width="895" height="273" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22G8SJ2EAY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2248%22%2C%22position%22%3A%7B%22pageIndex%22%3A47%2C%22rects%22%3A%5B%5B35.525%2C593.921%2C572.707%2C757.551%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%7D" src="attachments/RW9VYHQF.png" ztype="zimage">](/attachments/RW9VYHQF.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 48</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22X5JA7J44%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2248%22%2C%22position%22%3A%7B%22pageIndex%22%3A47%2C%22rects%22%3A%5B%5B48%2C272.512%2C299.997%2C281.984%5D%2C%5B48%2C260.972%2C300.004%2C270.51%5D%2C%5B48%2C249.432%2C299.997%2C258.904%5D%2C%5B48%2C237.892%2C124.541%2C247.364%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=48&#x26;annotation=X5JA7J44">“The process of manually creating a suitable prompt is also called prompt engineering [452, 453]. A well-designed prompt is very helpful to elicit the abilities of LLMs for accomplishing specific tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 48</a></span>)</span> 手动创建合适提示的过程也称为提示工程\[452,453]。精心设计的提示对于激发 LLM 完成特定任务的能力非常有帮助。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22NWZZV8RF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2248%22%2C%22position%22%3A%7B%22pageIndex%22%3A47%2C%22rects%22%3A%5B%5B48%2C102.845%2C299.997%2C112.317%5D%2C%5B48%2C91.305%2C299.997%2C100.777%5D%2C%5B48%2C79.765%2C299.997%2C89.237%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C70.097%2C66.157%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=48&#x26;annotation=NWZZV8RF">“Key Ingredients. Typically, there are four key ingredients that depict the functionality of a prompt for eliciting the abilities of LLMs to complete the tasks, including task description, input data, contextual information, and prompt style.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 48</a></span>)</span> 关键成分。通常，有四个关键要素描述了提示的功能，以激发 LLM 完成任务的能力，包括任务描述、输入数据、上下文信息和提示样式。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22NKL6PIWH%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2248%22%2C%22position%22%3A%7B%22rects%22%3A%5B%5B334.62%2C278.464%2C563.711%2C288.002%5D%2C%5B312.199%2C266.924%2C563.702%2C276.395%5D%2C%5B312.285%2C255.384%2C563.36%2C264.856%5D%5D%2C%22pageIndex%22%3A47%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=48&#x26;annotation=NKL6PIWH">“Task description. A task description is typically a specific instruction that LLMs are expected to follow. In general, one should clearly describe the task goal in natural language.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 48</a></span>)</span> 任务描述。任务描述通常是 LLM 应遵循的特定指令。一般来说，应该用自然语言清楚地描述任务目标。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22H5VEJ3GZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2248%22%2C%22position%22%3A%7B%22rects%22%3A%5B%5B335.923%2C196.424%2C563.701%2C205.962%5D%2C%5B312.332%2C184.884%2C563.888%2C194.422%5D%2C%5B312.209%2C173.344%2C563.902%2C182.815%5D%2C%5B312.304%2C161.804%2C563.902%2C171.275%5D%2C%5B312.304%2C150.264%2C563.703%2C159.735%5D%2C%5B312.219%2C138.724%2C354.712%2C148.195%5D%5D%2C%22pageIndex%22%3A47%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=48&#x26;annotation=H5VEJ3GZ">“Input data. In common cases, it is straightforward to describe input data (e.g., an instance to be responded by LLMs) in natural language. For special input data, such as knowledge graph and table, it is necessary to apply an appropriate and convenient way to make them readable for LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2248%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 48</a></span>)</span> 输入数据。在一般情况下，用自然语言描述输入数据（例如，由 LLM 响应的实例）是直截了当的。对于特殊的输入数据，如知识图谱和表格，需要应用适当且方便的方式使其对LLM具有可读性。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EBZRX52Y%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22pageIndex%22%3A48%2C%22rects%22%3A%5B%5B72.798%2C609.634%2C299.694%2C619.172%5D%2C%5B48.332%2C598.094%2C299.693%2C607.565%5D%2C%5B48.285%2C586.554%2C299.931%2C596.025%5D%2C%5B48.304%2C575.014%2C299.807%2C584.485%5D%2C%5B48.171%2C563.474%2C299.693%2C572.945%5D%2C%5B48.304%2C551.934%2C241.211%2C561.405%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=EBZRX52Y">“Prompt style. For different LLMs, it is important to design a suitable prompt style for eliciting their abilities to solve specific tasks. Overall, one should express the prompt as a clear question or detailed instruction that can be well understood and answered. In some cases, it is also useful to add the prefix or suffix to better guide LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 提示样式。对于不同的LLM，设计一个合适的提示风格来激发他们解决特定任务的能力是很重要的。总的来说，应该将提示表达为可以很好地理解和回答的明确问题或详细说明。在某些情况下，添加前缀或后缀以更好地指导 LLM 也很有用。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22H3EGVV8U%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22rects%22%3A%5B%5B70.75%2C404.828%2C299.693%2C414.366%5D%2C%5B48.057%2C393.288%2C299.798%2C402.759%5D%2C%5B48.304%2C381.748%2C209.13%2C391.219%5D%5D%2C%22pageIndex%22%3A48%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=H3EGVV8U">“Expressing the task goal clearly. Task descriptions should not be ambiguous or unclear, which likely lead to in- accurate or inappropriate responses.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 清楚地表达任务目标。任务描述不应模棱两可或不明确，这可能会导致不准确或不适当的响应。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22D7X85PDH%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22pageIndex%22%3A48%2C%22rects%22%3A%5B%5B71.518%2C265.377%2C299.8%2C274.915%5D%2C%5B48.076%2C253.837%2C299.931%2C263.309%5D%2C%5B48.199%2C242.297%2C299.883%2C251.768%5D%2C%5B48.209%2C230.757%2C299.797%2C240.228%5D%2C%5B48.199%2C219.217%2C237.544%2C228.688%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=D7X85PDH">“Decomposing into easy, detailed sub-tasks. To solve com- plex tasks, it is important to decompose the difficult task into several more easier, detailed sub-tasks for helping LLMs accomplish the goal step by step, which is closely re- lated to the planning technique in Section 6.4”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 分解为简单、详细的子任务。为了解决复合任务，重要的是将困难的任务分解为几个更简单、更详细的子任务，以帮助LLM逐步完成目标，这与第6.4节中的规划技术密切相关

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DQJXDMH8%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22pageIndex%22%3A48%2C%22rects%22%3A%5B%5B71.204%2C137.465%2C299.996%2C147.003%5D%2C%5B48%2C125.925%2C299.997%2C135.397%5D%2C%5B48%2C114.385%2C299.997%2C123.857%5D%2C%5B48%2C102.845%2C299.997%2C112.317%5D%2C%5B48%2C91.305%2C172.121%2C100.843%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=DQJXDMH8">“Providing few-shot demonstrations. As discussed in Section 6.2, LLMs can benefit from in-context learning for solving complex tasks, where the prompts contain a small number of task examples of the desired input-output pairs, i.e., few-shot demonstrations.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 提供小镜头演示。如第 6.2 节所述，LLM 可以从上下文学习中受益，以解决复杂的任务，其中提示包含所需输入输出对的少量任务示例，即少量演示。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JDRV3K6V%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22pageIndex%22%3A48%2C%22rects%22%3A%5B%5B406.725%2C657.13%2C563.997%2C666.602%5D%2C%5B312%2C645.59%2C563.997%2C655.062%5D%2C%5B312%2C634.05%2C563.997%2C643.522%5D%2C%5B312%2C622.51%2C398.013%2C631.982%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=JDRV3K6V">“As a general guideline, most existing LLMs perform a task better in English, thus it is useful to employ English instructions to solve difficult tasks based on machine translation.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 作为一般准则，大多数现有的 LLM 在英语中执行任务效果更好，因此使用英语指令来解决基于机器翻译的困难任务是很有用的。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224PXQEBJB%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22pageIndex%22%3A48%2C%22rects%22%3A%5B%5B334.42%2C287.32%2C563.997%2C297.271%5D%2C%5B312%2C275.58%2C563.999%2C285.118%5D%2C%5B312%2C264.04%2C563.997%2C273.512%5D%2C%5B312%2C252.5%2C563.997%2C261.972%5D%2C%5B312%2C240.96%2C452.115%2C250.432%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=4PXQEBJB">“Carefully designed prompts can boost the zero-shot or fewshot performance of ChatGPT. By comparing the results of using different prompts on the same task, we can see that using the carefully designed prompts can achieve better performance than the simpler ones.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 精心设计的提示可以提高 ChatGPT 的零样本或少样本性能。通过比较在同一任务上使用不同提示的结果，我们可以看到，使用精心设计的提示可以比简单的提示获得更好的性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22RLLFFLW2%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2249%22%2C%22position%22%3A%7B%22pageIndex%22%3A48%2C%22rects%22%3A%5B%5B334.918%2C172.285%2C564.001%2C182.236%5D%2C%5B312%2C160.545%2C564.002%2C170.083%5D%2C%5B312%2C149.005%2C563.997%2C158.477%5D%2C%5B312%2C137.465%2C563.999%2C147.003%5D%2C%5B312%2C125.925%2C510.636%2C135.397%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=49&#x26;annotation=RLLFFLW2">“More complex tasks can benefit more from careful prompt engineering on ChatGPT. In the WikiFact and Colored Objects tasks, the designed prompts have greatly improved the performance of ChatGPT, i.e., from 23.61 to 28.47 on WikiFact and from 53.20 to 66.75 on Colored Objects.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2249%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 49</a></span>)</span> 更复杂的任务可以从 ChatGPT 上仔细的提示工程中受益更多。在WikiFact和Colored Objects任务中，设计的提示大大提高了ChatGPT的性能，即在WikiFact上从23.61提高到28.47，在Colored Objects上从53.20提高到66.75。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22563IF4YK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B259.09%2C667.226%2C299.997%2C676.698%5D%2C%5B48%2C655.686%2C299.997%2C665.158%5D%2C%5B48%2C644.146%2C299.997%2C653.618%5D%2C%5B48%2C632.606%2C299.997%2C642.078%5D%2C%5B48%2C621.066%2C138.335%2C630.538%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=563IF4YK">“However, the performance of ChatGPT is still far from the referenced performance in these tasks, as LLMs cannot directly fit these tasks, which require specific domain knowledge and task adaptation [357, 462].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 然而，ChatGPT在这些任务中的性能仍然远远低于参考性能，因为LLM无法直接适应这些任务，这需要特定的领域知识和任务适应\[357,462]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VINQVSZD%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B48%2C462.744%2C300.003%2C472.216%5D%2C%5B48%2C451.204%2C299.997%2C460.676%5D%2C%5B48%2C439.664%2C299.997%2C449.136%5D%2C%5B48%2C428.124%2C299.997%2C437.596%5D%2C%5B48%2C416.584%2C155.141%2C426.056%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=VINQVSZD">“Discrete Prompt Optimization. Discrete prompt is typically composed of a sequence of natural language tokens. Despite that the form is simple and flexible, optimizing prompts in discrete space is a challenging problem due to the combinatorial huge search space.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 离散提示优化。离散提示通常由一系列自然语言标记组成。尽管表单简单灵活，但由于组合巨大的搜索空间，在离散空间中优化提示是一个具有挑战性的问题。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22IT3P62NC%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B73.331%2C369.344%2C300%2C379.495%5D%2C%5B48%2C357.804%2C299.997%2C367.276%5D%2C%5B48%2C346.264%2C299.997%2C355.736%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=IT3P62NC">“Gradient-based approaches. This kind of approaches aims to optimize the prompt search process by maximizing the output likelihood via gradient update [405, 464–466].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 基于梯度的方法。这种方法旨在通过梯度更新最大化输出似然来优化提示搜索过程\[405,464–466]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223M2JK7J6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B69.635%2C195.165%2C300%2C205.316%5D%2C%5B48%2C183.625%2C299.997%2C193.097%5D%2C%5B48%2C172.085%2C299.997%2C181.557%5D%2C%5B48%2C160.545%2C299.997%2C170.017%5D%2C%5B48%2C149.005%2C266.605%2C158.477%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=3M2JK7J6">“RL-based approaches. Since discrete prompts are difficult to be learned through gradient back-propagation, a number of studies propose to formulate the discrete prompt optimization as a reinforcement learning (RL) problem and leverage RL algorithms for optimization [467, 468].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 基于 RL 的方法。由于离散提示很难通过梯度反向传播来学习，许多研究建议将离散提示优化表述为强化学习（RL）问题，并利用RL算法进行优化\[467,468]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FYLXE4VH%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B333.841%2C737.545%2C564.002%2C747.696%5D%2C%5B312%2C726.005%2C563.997%2C735.477%5D%2C%5B312%2C714.465%2C563.997%2C723.937%5D%2C%5B312%2C702.925%2C517.487%2C712.463%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=FYLXE4VH">“Edit-based approaches. For the above methods, gradientbased and RL-based tuning can be extremely computationally demanding for ever larger models, and may not be feasible for API-based model calls (e.g., ChatGPT).”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 基于编辑的方法。对于上述方法，基于梯度和基于 RL 的调优对于更大的模型来说可能对计算要求极高，并且对于基于 API 的模型调用（例如 ChatGPT）可能不可行。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22TN8UM83Y%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B333.702%2C562.826%2C564.001%2C572.977%5D%2C%5B312%2C551.286%2C563.997%2C560.758%5D%2C%5B312%2C539.746%2C468.589%2C549.218%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=TN8UM83Y">“LLM-based approaches. Due to the exceptional capacities of LLMs, an increasing number of studies directly leverage LLMs as prompt generator [471–473].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 基于LLM的方法。由于LLM具有特殊的能力，越来越多的研究直接利用LLM作为提示生成器\[471\u2012473]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22W3DSSH45%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2251%22%2C%22position%22%3A%7B%22pageIndex%22%3A50%2C%22rects%22%3A%5B%5B312%2C335.264%2C563.999%2C344.736%5D%2C%5B312%2C323.724%2C563.997%2C333.196%5D%2C%5B312%2C312.184%2C563.997%2C321.656%5D%2C%5B312%2C300.644%2C563.997%2C310.116%5D%2C%5B312%2C289.104%2C563.997%2C298.576%5D%2C%5B312%2C277.564%2C563.997%2C287.036%5D%2C%5B312%2C266.024%2C514.074%2C275.496%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=51&#x26;annotation=W3DSSH45">“Continuous Prompt Optimization. Different from discrete prompts, continuous prompts consist of a set of continuous embeddings, which can be directly optimized through the gradient update based on the loss of downstream tasks. Note that continuous prompt optimization has been mainly studied in PLMs, but draws limited attention in era of LLMs due to their massive magnitudes of parameters.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2251%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 51</a></span>)</span> 持续的提示优化。与离散提示不同，连续提示由一组连续嵌入组成，可以基于下游任务的损失，通过梯度更新直接进行优化。需要注意的是，连续提示优化主要在PLM中研究，但由于其参数量大，在LLM时代受到的关注有限。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%229CU8IJWD%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2253%22%2C%22position%22%3A%7B%22pageIndex%22%3A52%2C%22rects%22%3A%5B%5B48%2C723.136%2C299.997%2C732.608%5D%2C%5B48%2C711.596%2C299.997%2C721.068%5D%2C%5B48%2C700.056%2C197.387%2C709.528%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=53&#x26;annotation=9CU8IJWD">“As a special prompting form, in-context learning (ICL) is first proposed along with GPT-3 [55], which has become a typical approach to utilizing LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 53</a></span>)</span> 作为一种特殊的提示形式，语境学习（ICL）首先与GPT-3一起被提出\[55]，GPT-3已成为利用LLM的典型方法。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UG9S9H2W%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2253%22%2C%22position%22%3A%7B%22pageIndex%22%3A52%2C%22rects%22%3A%5B%5B99.594%2C631.992%2C299.997%2C641.464%5D%2C%5B48%2C620.452%2C299.997%2C629.924%5D%2C%5B48%2C608.912%2C299.997%2C618.384%5D%2C%5B48%2C597.372%2C299.997%2C606.844%5D%2C%5B48%2C585.832%2C299.997%2C595.304%5D%2C%5B48%2C574.292%2C299.997%2C583.764%5D%2C%5B48%2C562.752%2C299.997%2C572.224%5D%2C%5B48%2C551.212%2C207.438%2C560.684%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=53&#x26;annotation=UG9S9H2W">“First, starting with a task description, a few examples are selected from the task dataset as demonstrations. Then, they are combined in a specific order to form natural language prompts with specially designed templates. Finally, the test instance is appended to the demonstration as the input for LLMs to generate the output. Based on task demonstrations, LLMs can recognize and perform a new task without explicit gradient update.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 53</a></span>)</span> 首先，从任务描述开始，从任务数据集中选择几个示例作为演示。然后，它们以特定顺序组合在一起，以使用专门设计的模板形成自然语言提示。最后，将测试实例附加到演示中，作为 LLM 生成输出的输入。基于任务演示，LLM 可以在没有显式梯度更新的情况下识别和执行新任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%222LR5HPTS%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2253%22%2C%22position%22%3A%7B%22pageIndex%22%3A52%2C%22rects%22%3A%5B%5B85.715%2C243.879%2C299.997%2C253.35%5D%2C%5B48%2C232.339%2C299.997%2C241.81%5D%2C%5B48%2C220.799%2C299.997%2C230.27%5D%2C%5B48%2C209.259%2C299.997%2C218.73%5D%2C%5B48%2C197.719%2C241.344%2C207.19%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=53&#x26;annotation=2LR5HPTS">“Also, ICL has a close connection with instruction tuning (discussed in Section 5.1) in that both utilize natural language to format the task or instances. However, instruction tuning needs to fine-tune LLMs for adaptation, while ICL only prompts LLMs for utilization.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 53</a></span>)</span> 此外，ICL 与指令调优（在第 5.1 节中讨论）有着密切的联系，因为两者都利用自然语言来格式化任务或实例。然而，指令调优需要对 LLM 进行微调以进行适应，而 ICL 仅提示 LLM 进行使用。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UDQWJUE4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2253%22%2C%22position%22%3A%7B%22pageIndex%22%3A52%2C%22rects%22%3A%5B%5B312%2C696.607%2C563.998%2C706.078%5D%2C%5B312%2C685.067%2C563.997%2C694.538%5D%2C%5B312%2C673.527%2C563.997%2C682.999%5D%2C%5B312%2C661.987%2C563.997%2C671.459%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=53&#x26;annotation=UDQWJUE4">“Demonstration Selection. The performance of ICL tends to have a large variance with different demonstration examples [428], so it is important to select a subset of examples that can effectively leverage the ICL capability of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 53</a></span>)</span> 演示选择。ICL的性能往往与不同的演示样本有较大的差异\[428]，因此选择能够有效利用LLM的ICL能力的样本子集非常重要。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22AIEY7S8S%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2253%22%2C%22position%22%3A%7B%22pageIndex%22%3A52%2C%22rects%22%3A%5B%5B312%2C275.945%2C563.996%2C285.417%5D%2C%5B312%2C264.405%2C563.997%2C273.877%5D%2C%5B312%2C252.865%2C429.325%2C262.337%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=53&#x26;annotation=AIEY7S8S">“Demonstration Format. After selecting task examples, the next step is to integrate and format them into a natural language prompt for LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2253%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 53</a></span>)</span> 演示格式。选择任务示例后，下一步是将它们集成并格式化为 LLM 的自然语言提示。

![\<img data-attachment-key="CAJ82DIQ" width="912" height="356" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22JCAF76P9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2254%22%2C%22position%22%3A%7B%22pageIndex%22%3A53%2C%22rects%22%3A%5B%5B29.75%2C538.063%2C576.937%2C751.625%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%7D" src="attachments/CAJ82DIQ.png" ztype="zimage">](/attachments/CAJ82DIQ.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 54</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22PB33NBQX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2254%22%2C%22position%22%3A%7B%22pageIndex%22%3A53%2C%22rects%22%3A%5B%5B48%2C416.315%2C300.001%2C425.786%5D%2C%5B48%2C404.775%2C299.999%2C414.313%5D%2C%5B48%2C393.235%2C299.997%2C402.706%5D%2C%5B48%2C381.695%2C300%2C391.233%5D%2C%5B48%2C370.155%2C140.929%2C379.626%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=54&#x26;annotation=PB33NBQX">“Demonstration Order. LLMs are shown to sometimes suffer from the recency bias, i.e., they are prone to repeat answers that are near the end of demonstrations [479]. Thus, it is important to arrange demonstrations (i.e., task examples) in a reasonable order.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 54</a></span>)</span> 演示顺序。LLM有时被证明存在新近偏差，即他们容易在演示结束时重复答案\[479]。因此，以合理的顺序安排演示（即任务示例）非常重要。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CSZZBJLC%22%2C%22color%22%3A%22%232ea8e5%22%2C%22pageLabel%22%3A%2254%22%2C%22position%22%3A%7B%22pageIndex%22%3A53%2C%22rects%22%3A%5B%5B453.18%2C423.467%2C563.997%2C432.938%5D%2C%5B312%2C411.927%2C563.997%2C421.398%5D%2C%5B312%2C400.387%2C537.178%2C409.858%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=54&#x26;annotation=CSZZBJLC">“For example, ICL can be theoretically explained as the product of pre-training on documents that exhibit long-range coherence [488].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 54</a></span>)</span> 例如，ICL在理论上可以解释为对表现出长程相干性的文档进行预训练的产物\[488]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22H7PDYC5T%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2254%22%2C%22position%22%3A%7B%22pageIndex%22%3A53%2C%22rects%22%3A%5B%5B335.033%2C241.325%2C564.004%2C251.476%5D%2C%5B312%2C229.785%2C563.997%2C239.256%5D%2C%5B312%2C218.245%2C523.897%2C227.716%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=54&#x26;annotation=H7PDYC5T">“Task recognition. In the first way, LLMs recognize the task from demonstrations and utilize the prior knowledge obtained from pre-training to solve new test tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2254%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 54</a></span>)</span> 任务识别。在第一种方式中，LLM 从演示中识别任务，并利用从预训练中获得的先验知识来解决新的测试任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22XF4HNMBC%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2255%22%2C%22position%22%3A%7B%22pageIndex%22%3A54%2C%22rects%22%3A%5B%5B69.797%2C737.545%2C300%2C747.696%5D%2C%5B48%2C726.005%2C299.997%2C735.477%5D%2C%5B48%2C714.465%2C299.997%2C723.937%5D%2C%5B48%2C702.925%2C299.997%2C712.397%5D%2C%5B48%2C691.385%2C134.839%2C700.857%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=55&#x26;annotation=XF4HNMBC">“Task learning. In the second way, LLMs learn new tasks unseen in the pre-training stage only through demonstrations. Specially, task learning is analyzed mainly from the perspective of gradient descent and considered as implicit fine-tuning [65, 496].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 55</a></span>)</span> 任务学习。在第二种方式中，LLM 只能通过演示来学习在预训练阶段看不见的新任务。特别是，任务学习主要从梯度下降的角度进行分析，并被认为是隐式微调\[65,496]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VNXH4PCU%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2255%22%2C%22position%22%3A%7B%22pageIndex%22%3A54%2C%22rects%22%3A%5B%5B48%2C160.545%2C299.997%2C170.017%5D%2C%5B48%2C149.005%2C299.997%2C158.477%5D%2C%5B48%2C137.465%2C299.997%2C146.937%5D%2C%5B48%2C125.925%2C299.997%2C135.397%5D%2C%5B48%2C114.385%2C299.997%2C123.857%5D%2C%5B48%2C102.845%2C299.997%2C112.317%5D%2C%5B48%2C91.305%2C299.997%2C100.777%5D%2C%5B48%2C79.765%2C158.267%2C89.237%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=55&#x26;annotation=VNXH4PCU">“Chain-of-Thought (CoT) prompting [33, 502] is an improved prompting strategy to boost the performance of LLMs on complex reasoning tasks, such as arithmetic reasoning [503], commonsense reasoning [504], and symbolic reasoning [33]. Instead of simply constructing the prompts with inputoutput pairs like ICL, CoT prompting further incorporates intermediate reasoning steps, which serve as the bridge between inputs and outputs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 55</a></span>)</span> 思维链（CoT）提示\[33,502]是一种改进的提示策略，用于提高LLM在复杂推理任务上的表现，如算术推理\[503]、常识推理\[504]和符号推理\[33]。CoT 提示不是像 ICL 那样简单地使用输入输出对构建提示，而是进一步结合中间推理步骤，这些步骤充当输入和输出之间的桥梁。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22WQ5BACW2%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2255%22%2C%22position%22%3A%7B%22pageIndex%22%3A54%2C%22rects%22%3A%5B%5B312%2C722.612%2C563.997%2C732.084%5D%2C%5B312%2C711.072%2C564%2C721.223%5D%2C%5B312%2C699.532%2C563.999%2C709.683%5D%2C%5B312%2C687.992%2C563.997%2C697.53%5D%2C%5B312%2C676.452%2C563.997%2C685.924%5D%2C%5B312%2C664.912%2C519.29%2C674.384%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=55&#x26;annotation=WQ5BACW2">“CoT prompting is first proposed as an extension of ICL [33], which augments each demonstration ⟨input, output⟩ as ⟨input, CoT, output⟩. A CoT is a series of intermediate reasoning steps for connecting the input and output. With these augmented demonstrations, LLMs can follow them to generate CoTs and the answer for a new input.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 55</a></span>)</span> CoT提示首先被提出作为ICL的扩展\[33]，它增强了每个演示⟨输入、输出⟩作为⟨输入、CoT、输出⟩。CoT 是用于连接输入和输出的一系列中间推理步骤。通过这些增强的演示，LLM 可以遵循它们来生成 CoT 和新输入的答案。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223NYP3T7B%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2255%22%2C%22position%22%3A%7B%22pageIndex%22%3A54%2C%22rects%22%3A%5B%5B312%2C317.914%2C563.999%2C327.386%5D%2C%5B312%2C306.374%2C563.997%2C315.846%5D%2C%5B312%2C294.834%2C563.997%2C304.306%5D%2C%5B312%2C283.294%2C564%2C292.832%5D%2C%5B312%2C271.754%2C563.997%2C281.226%5D%2C%5B312%2C260.214%2C450.178%2C269.686%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=55&#x26;annotation=3NYP3T7B">“Better Prompt Design. Since CoT prompting relies on prompts to elicit the reasoning capabilities of LLMs, the design of prompts is critical to its performance. As a direct approach, it is shown that using diverse CoTs (i.e., multiple reasoning paths for each problem) can effectively enhance the performance [437].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2255%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 55</a></span>)</span> 更好的提示设计。由于 CoT 提示依赖于提示来引出 LLM 的推理能力，因此提示的设计对其性能至关重要。作为一种直接方法，研究表明，使用不同的CoT（即，每个问题的多个推理路径）可以有效地提高性能\[437]。

![\<img data-attachment-key="GXY6HR79" width="880" height="347" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22H7AGKPVQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2256%22%2C%22position%22%3A%7B%22pageIndex%22%3A55%2C%22rects%22%3A%5B%5B40.375%2C542.313%2C568.437%2C750.563%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2256%22%7D%7D" src="attachments/GXY6HR79.png" ztype="zimage">](/attachments/GXY6HR79.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2256%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 56</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%228NFS6TTM%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2256%22%2C%22position%22%3A%7B%22pageIndex%22%3A55%2C%22rects%22%3A%5B%5B259.137%2C447.936%2C299.997%2C457.407%5D%2C%5B48%2C436.396%2C299.997%2C445.867%5D%2C%5B48%2C424.856%2C299.997%2C434.327%5D%2C%5B48%2C413.316%2C299.997%2C422.787%5D%2C%5B48%2C401.776%2C171.823%2C411.247%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2256%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=56&#x26;annotation=8NFS6TTM">“As a representative solution, self-consistency [436] first generates several reasoning paths and then takes an ensemble over the corresponding answers, selecting the most consistent one through majority voting.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2256%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 56</a></span>)</span> 作为一个具有代表性的解决方案，自洽\[436]首先生成几个推理路径，然后对相应的答案进行整合，通过多数投票选择最一致的答案。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22YQLRH8KU%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2256%22%2C%22position%22%3A%7B%22pageIndex%22%3A55%2C%22rects%22%3A%5B%5B312%2C79.765%2C564%2C89.236%5D%2C%5B312%2C68.225%2C563.997%2C77.696%5D%2C%5B312%2C56.685%2C563.997%2C66.156%5D%2C%5B312%2C45.145%2C517.827%2C54.616%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2256%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=56&#x26;annotation=YQLRH8KU">“When CoT Prompting Works For LLMs? Since CoT reasoning is an emergent ability [31], it only has a positive effect on sufficiently large models (typically containing 10B or more parameters [33]) but not on small models.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2256%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 56</a></span>)</span> CoT 提示何时适用于 LLM？由于CoT推理是一种涌现能力\[31]，它只对足够大的模型（通常包含10B或更多参数\[33]）有积极影响，而对小模型没有积极影响。

![\<img data-attachment-key="H5QAHQUK" width="464" height="414" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22Y48IDDGQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2257%22%2C%22position%22%3A%7B%22pageIndex%22%3A56%2C%22rects%22%3A%5B%5B305.469%2C509.37499999999994%2C583.8437499999999%2C757.469%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%7D" src="attachments/H5QAHQUK.png" ztype="zimage">](/attachments/H5QAHQUK.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 57</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22UIAWVEMK%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2257%22%2C%22position%22%3A%7B%22pageIndex%22%3A56%2C%22rects%22%3A%5B%5B48%2C737.545%2C299.997%2C747.017%5D%2C%5B48%2C726.005%2C299.997%2C735.477%5D%2C%5B48%2C714.465%2C300%2C724.003%5D%2C%5B48%2C702.925%2C299.997%2C712.397%5D%2C%5B48%2C691.385%2C299.997%2C700.857%5D%2C%5B48%2C679.845%2C299.997%2C689.317%5D%2C%5B48%2C668.305%2C217.736%2C677.843%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=57&#x26;annotation=UIAWVEMK">“since CoT prompting augments the standard prompting with intermediate reasoning steps, it is mainly effective for the tasks that require step-by-step reasoning [33], e.g., arithmetic reasoning, commonsense reasoning, and symbolic reasoning. Whereas, for other tasks that do not rely on complex reasoning, CoT prompting might lead to worse performance than standard prompting”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 57</a></span>)</span> 由于CoT提示通过中间推理步骤增强了标准提示，因此它主要对需要分步推理的任务有效\[33]，例如算术推理、常识推理和符号推理。然而，对于不依赖于复杂推理的其他任务，CoT 提示可能会导致性能比标准提示差

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%227QJCX6QG%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2257%22%2C%22position%22%3A%7B%22pageIndex%22%3A56%2C%22rects%22%3A%5B%5B69.734%2C568.149%2C299.997%2C578.3%5D%2C%5B48%2C556.609%2C299.997%2C566.081%5D%2C%5B48%2C545.069%2C299.997%2C554.541%5D%2C%5B48%2C533.529%2C251.509%2C543.001%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=57&#x26;annotation=7QJCX6QG">“The source of CoT reasoning ability. Regarding the source of CoT reasoning capability, it is widely hypothesized that it can be attributed to training on code since models trained on it show a strong reasoning ability [47, 520, 521].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 57</a></span>)</span> CoT 推理能力的来源。关于CoT推理能力的来源，人们普遍认为它可以归因于代码训练，因为在其上训练的模型显示出很强的推理能力\[47,520,521]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HKN2EKDC%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2257%22%2C%22position%22%3A%7B%22pageIndex%22%3A56%2C%22rects%22%3A%5B%5B70.701%2C417.553%2C300.003%2C427.704%5D%2C%5B48%2C406.013%2C299.997%2C415.485%5D%2C%5B48%2C394.473%2C299.997%2C403.945%5D%2C%5B48%2C382.933%2C80.205%2C392.405%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=57&#x26;annotation=HKN2EKDC">“The effect of CoT prompting components. The major distinction between CoT prompting and standard prompting is the incorporation of reasoning paths prior to the final answer.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 57</a></span>)</span> CoT 提示组件的效果。CoT 提示和标准提示之间的主要区别在于在最终答案之前合并推理路径。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22CR3HTDQC%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2257%22%2C%22position%22%3A%7B%22pageIndex%22%3A56%2C%22rects%22%3A%5B%5B84.936%2C382.933%2C299.997%2C392.405%5D%2C%5B48%2C371.393%2C299.997%2C380.865%5D%2C%5B48%2C359.853%2C299.997%2C369.325%5D%2C%5B48%2C348.313%2C299.996%2C357.851%5D%2C%5B48%2C336.773%2C299.997%2C346.311%5D%2C%5B48%2C325.233%2C300.004%2C334.771%5D%2C%5B48%2C313.693%2C164.005%2C323.165%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=57&#x26;annotation=CR3HTDQC">“Thus, some researchers investigate the effects of different components in the reasoning paths. Specifically, a recent study identifies three key components in CoT prompting, namely symbols (e.g., numerical quantities in arithmetic reasoning), patterns (e.g., equations in arithmetic reasoning), and text (i.e., the rest of tokens that are not symbols or patterns) [522].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2257%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 57</a></span>)</span> 因此，一些研究人员研究了推理路径中不同组件的影响。具体而言，最近的一项研究确定了CoT提示的三个关键组成部分，即符号（例如，算术推理中的数值量）、模式（例如，算术推理中的方程）和文本（即，其余不是符号或模式的标记）\[522]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22PXT56HCZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2259%22%2C%22position%22%3A%7B%22pageIndex%22%3A58%2C%22rects%22%3A%5B%5B48%2C410.915%2C299.997%2C420.387%5D%2C%5B48%2C399.375%2C299.997%2C408.913%5D%2C%5B48%2C387.835%2C192.59%2C397.307%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=59&#x26;annotation=PXT56HCZ">“In this part, we mainly focus on three basic types of ability evaluation for LLMs, i.e., language generation, knowledge utilization, and complex reasoning”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 59</a></span>)</span> 在这一部分中，我们主要关注LLM的三种基本能力评估类型，即语言生成、知识利用和复杂推理

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22G8PPNG75%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2259%22%2C%22position%22%3A%7B%22pageIndex%22%3A58%2C%22rects%22%3A%5B%5B450.191%2C684.21%2C564.001%2C693.682%5D%2C%5B312%2C672.67%2C563.997%2C682.142%5D%2C%5B312%2C661.13%2C563.997%2C670.602%5D%2C%5B312%2C649.59%2C563.997%2C659.062%5D%2C%5B312%2C638.05%2C563.997%2C647.522%5D%2C%5B312%2C626.51%2C383.183%2C635.982%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=59&#x26;annotation=G8PPNG75">“As an important topic in language generation, conditional text generation [48] focuses on generating texts satisfying specific task demands based on the given conditions, typically including machine translation [624], text summarization [548], and question answering [557].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 59</a></span>)</span> 条件文本生成\[48]作为语言生成中的一个重要课题，侧重于根据给定条件生成满足特定任务需求的文本，通常包括机器翻译\[624]、文本摘要\[548]和问答\[557]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22W9CEIAV5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2259%22%2C%22position%22%3A%7B%22pageIndex%22%3A58%2C%22rects%22%3A%5B%5B387.297%2C626.51%2C563.997%2C635.982%5D%2C%5B312%2C614.97%2C564%2C624.508%5D%2C%5B312%2C603.43%2C563.997%2C612.902%5D%2C%5B312%2C591.89%2C448.496%2C601.362%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=59&#x26;annotation=W9CEIAV5">“To measure the quality of the generated text, automatic metrics (e.g., Accuracy, BLEU [625] and ROUGE [626]) and human ratings have been typically used for evaluating the performance.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 59</a></span>)</span> 为了衡量生成文本的质量，通常使用自动指标（例如，准确性，BLEU \[625]和ROUGE \[626]）和人工评分来评估性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FF6WBKWJ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2259%22%2C%22position%22%3A%7B%22pageIndex%22%3A58%2C%22rects%22%3A%5B%5B312%2C365.456%2C564.005%2C374.928%5D%2C%5B312%2C353.916%2C563.997%2C363.388%5D%2C%5B312%2C342.376%2C563.997%2C351.848%5D%2C%5B312%2C330.836%2C564.005%2C340.374%5D%2C%5B312%2C319.296%2C359.377%2C328.834%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=59&#x26;annotation=FF6WBKWJ">“Code Synthesis. In addition to generating high-quality natural language text, existing LLMs also show strong abilities to generate formal language, especially computer programs (i.e., code) that satisfy specific conditions, called code synthesis [635].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2259%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 59</a></span>)</span> 代码合成。除了生成高质量的自然语言文本外，现有的LLM还表现出强大的生成形式语言的能力，特别是满足特定条件的计算机程序（即代码），称为代码合成\[635]。

![\<img data-attachment-key="CEMPGH6F" width="910" height="793" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2243CF8E42%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2260%22%2C%22position%22%3A%7B%22pageIndex%22%3A59%2C%22rects%22%3A%5B%5B33.75%2C262.97240447998024%2C579.75%2C738.75%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2260%22%7D%7D" src="attachments/CEMPGH6F.png" ztype="zimage">](/attachments/CEMPGH6F.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2260%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 60</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KS9B8LXW%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2261%22%2C%22position%22%3A%7B%22pageIndex%22%3A60%2C%22rects%22%3A%5B%5B70.909%2C589.738%2C277.088%2C598.877%5D%2C%5B70.909%2C601.278%2C277.087%2C610.417%5D%2C%5B70.909%2C578.198%2C277.087%2C587.337%5D%2C%5B70.909%2C566.658%2C277.087%2C575.797%5D%2C%5B70.909%2C555.118%2C277.087%2C564.257%5D%2C%5B70.909%2C543.578%2C277.087%2C552.717%5D%2C%5B70.909%2C532.038%2C277.087%2C541.177%5D%2C%5B70.909%2C520.498%2C277.087%2C529.637%5D%2C%5B70.909%2C508.958%2C277.087%2C518.097%5D%2C%5B70.909%2C497.418%2C185.868%2C506.557%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=61&#x26;annotation=KS9B8LXW">“LLMs have been capable of generating texts with a comparable quality to human-written texts, which however might be underestimated by automatic reference-based metrics. As an alternative evaluation approach, LLMs can serve as language generation evaluators to evaluate a single text, compare multiple candidates, and improve existing metrics. However, this evaluation approach still needs more inspections and examinations in real-world tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 61</a></span>)</span> LLM 已经能够生成与人类编写文本质量相当的文本，然而，基于自动参考的指标可能会低估这些文本。作为一种替代评估方法，LLM 可以用作语言生成评估器，以评估单个文本、比较多个候选文本并改进现有指标。然而，这种评估方法仍然需要更多的检查和检查。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22QTH9KFCC%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2261%22%2C%22position%22%3A%7B%22pageIndex%22%3A60%2C%22rects%22%3A%5B%5B90.475%2C389.002%2C299.997%2C398.141%5D%2C%5B48%2C377.462%2C299.997%2C386.601%5D%2C%5B48%2C365.922%2C224.453%2C375.061%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=61&#x26;annotation=QTH9KFCC">“Intuitively, domain knowledge should be critical for model specialization. However, it is not easy to inject such specialized knowledge into LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 61</a></span>)</span> 直观地说，领域知识对于模型专业化至关重要。然而，将这些专业知识注入LLM并不容易。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DVTJIEHC%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2261%22%2C%22position%22%3A%7B%22pageIndex%22%3A60%2C%22rects%22%3A%5B%5B48%2C319.762%2C300.002%2C329.024%5D%2C%5B229.412%2C365.922%2C299.997%2C375.061%5D%2C%5B48%2C354.382%2C299.997%2C363.521%5D%2C%5B48%2C342.842%2C299.997%2C351.981%5D%2C%5B48%2C331.302%2C299.997%2C340.441%5D%2C%5B48%2C308.222%2C299.997%2C317.361%5D%2C%5B48%2C296.682%2C299.997%2C305.821%5D%2C%5B48%2C285.142%2C299.997%2C294.404%5D%2C%5B48%2C273.602%2C299.997%2C282.741%5D%2C%5B48%2C262.062%2C214.212%2C271.201%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=61&#x26;annotation=DVTJIEHC">“As discussed in recent analyses [47, 648], when LLMs are trained to exhibit some specific ability that allows them to excel in some areas, they might struggle in others. Such an issue is related to catastrophic forgetting [649, 650] in training neural networks, which refers to the conflict phenomenon of integrating new and old knowledge. Similar cases also occur in human align- ment of LLMs, where “alignment tax” [66] (e.g., a potential loss in the in-context learning ability) has to be paid for aligning to human values and needs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 61</a></span>)</span> 正如最近的分析\[47,648]所讨论的，当LLM被训练表现出一些特定的能力，使他们能够在某些领域表现出色时，他们可能会在其他领域挣扎。这个问题与训练神经网络中的灾难性遗忘\[649,650]有关，它指的是融合新旧知识的冲突现象。类似的情况也发生在LLM的人类对齐中，其中“对齐税”\[66]（例如，情境学习能力的潜在损失）必须为与人类价值观和需求保持一致而付出代价。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%224YA6YIK6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2261%22%2C%22position%22%3A%7B%22pageIndex%22%3A60%2C%22rects%22%3A%5B%5B70.909%2C77.109%2C277.088%2C86.248%5D%2C%5B70.909%2C111.729%2C277.087%2C120.868%5D%2C%5B70.909%2C100.189%2C277.087%2C109.328%5D%2C%5B70.909%2C88.649%2C277.087%2C97.788%5D%2C%5B70.909%2C65.569%2C275.606%2C74.708%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=61&#x26;annotation=4YA6YIK6">“LLMs may fall short in mastering generation tasks that require domain-specific knowledge or generating structured data. It is non-trivial to inject specialized knowledge into LLMs, meanwhile maintaining the original abilities of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2261%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 61</a></span>)</span> LLM 可能无法掌握需要特定领域知识或生成结构化数据的生成任务。将专业知识注入LLMs，同时保持LLMs原有的能力，是一件不小事。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ML5GITQ4%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2262%22%2C%22position%22%3A%7B%22pageIndex%22%3A61%2C%22rects%22%3A%5B%5B334.909%2C165.592%2C541.088%2C174.731%5D%2C%5B334.909%2C154.052%2C541.088%2C163.191%5D%2C%5B334.909%2C130.972%2C541.088%2C140.111%5D%2C%5B334.909%2C142.512%2C541.087%2C151.651%5D%2C%5B334.909%2C119.432%2C541.087%2C128.571%5D%2C%5B334.909%2C107.892%2C541.087%2C117.031%5D%2C%5B334.909%2C96.352%2C541.087%2C105.491%5D%2C%5B334.909%2C84.812%2C494.024%2C93.951%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2262%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=62&#x26;annotation=ML5GITQ4">“LLMs are prone to generate untruthful information that either conflicts with the existing source or cannot be verified by the available source. Even the most powerful LLMs such as ChatGPT face great challenges in migrating the hallucinations of the generated texts. This issue can be partially alleviated by special approaches such as alignment tuning and tool utilization.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2262%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 62</a></span>)</span> LLM 容易生成不真实的信息，这些信息要么与现有来源冲突，要么无法通过可用来源进行验证。即使是最强大的 LLM，如 ChatGPT，在迁移生成文本的幻觉方面也面临着巨大的挑战。这个问题可以通过特殊方法（例如对齐调整和工具利用率）部分缓解。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BZVVQLPX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2262%22%2C%22position%22%3A%7B%22pageIndex%22%3A61%2C%22rects%22%3A%5B%5B334.722%2C56.685%2C563.998%2C66.168%5D%2C%5B312%2C45.145%2C563.997%2C54.284%5D%5D%2C%22nextPageRects%22%3A%5B%5B556.216%2C756.946%2C564%2C763.421%5D%2C%5B48%2C737.545%2C256.24%2C746.684%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2262%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=62&#x26;annotation=BZVVQLPX">“Knowledge recency. As another major challenge, LLMs would encounter difficulties when solving tasks that require 63 the latest knowledge beyond the training data.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2262%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 62</a></span>)</span> 知识新近度。作为另一个主要挑战，LLM 在解决需要 63 个训练数据之外的最新知识的任务时会遇到困难。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22D8AQPYYX%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2263%22%2C%22position%22%3A%7B%22pageIndex%22%3A62%2C%22rects%22%3A%5B%5B70.909%2C383.205%2C277.088%2C392.344%5D%2C%5B70.909%2C360.125%2C277.088%2C369.264%5D%2C%5B70.909%2C348.585%2C277.088%2C357.724%5D%2C%5B70.909%2C394.745%2C277.087%2C403.884%5D%2C%5B70.909%2C371.665%2C277.087%2C380.804%5D%2C%5B70.909%2C337.045%2C218.995%2C346.184%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2263%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=63&#x26;annotation=D8AQPYYX">“The parametric knowledge of LLMs is hard to be updated in a timely manner. Augmenting LLMs with external knowledge sources is a practical approach to tackling the issue. However, how to effectively update knowledge within LLMs remains an open research problem.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2263%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 63</a></span>)</span> LLM的参数化知识很难及时更新。用外部知识资源增强LLM是解决这个问题的实用方法。然而，如何有效地更新LLM中的知识仍然是一个悬而未决的研究问题。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%2254C8XXVH%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2264%22%2C%22position%22%3A%7B%22pageIndex%22%3A63%2C%22rects%22%3A%5B%5B334.909%2C660.278%2C541.088%2C669.417%5D%2C%5B334.909%2C648.738%2C541.088%2C657.877%5D%2C%5B334.909%2C637.198%2C541.088%2C646.337%5D%2C%5B334.909%2C614.118%2C541.088%2C623.257%5D%2C%5B334.909%2C591.038%2C541.088%2C600.177%5D%2C%5B334.909%2C579.498%2C541.088%2C588.637%5D%2C%5B334.909%2C625.658%2C541.087%2C634.797%5D%2C%5B334.909%2C602.578%2C541.087%2C611.717%5D%2C%5B334.909%2C567.958%2C464.926%2C577.097%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2264%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=64&#x26;annotation=54C8XXVH">“LLMs may generate the correct answer following an invalid reasoning path, or produce a wrong answer after a correct reasoning process, leading to inconsistency between the derived answer and the reasoning process. The issue can be alleviated by fine-tuning LLMs with process-level feedback, using an ensemble of diverse reasoning paths, and refining the reasoning process with selfreflection or external feedback.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2264%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 64</a></span>)</span> LLM 可能会按照无效的推理路径生成正确答案，或者在正确的推理过程后产生错误的答案，从而导致推导的答案与推理过程不一致。这个问题可以通过使用过程级反馈来微调 LLM，使用不同的推理路径集合，并通过自我反思或外部反馈来完善推理过程来缓解。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22YJQGSISW%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2264%22%2C%22position%22%3A%7B%22pageIndex%22%3A63%2C%22rects%22%3A%5B%5B334.909%2C166.264%2C541.088%2C175.403%5D%2C%5B334.909%2C143.184%2C541.088%2C152.323%5D%2C%5B334.909%2C120.104%2C541.088%2C129.243%5D%2C%5B334.909%2C154.724%2C541.087%2C163.863%5D%2C%5B334.909%2C131.644%2C541.087%2C140.783%5D%2C%5B334.909%2C108.564%2C525.66%2C117.703%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2264%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=64&#x26;annotation=YJQGSISW">“LLMs face difficulties in numerical computation, especially for the symbols that are seldom encountered during pre-training. In addition to using mathematical tools, tokenizing digits into individual tokens is also an effective design choice for improving the arithmetic ability of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2264%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 64</a></span>)</span> LLM在数值计算方面面临困难，特别是对于在预训练中很少遇到的符号。除了使用数学工具外，将数字标记化为单个标记也是提高LLM算术能力的有效设计选择。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ETRXQPX9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2265%22%2C%22position%22%3A%7B%22pageIndex%22%3A64%2C%22rects%22%3A%5B%5B48%2C645.084%2C299.998%2C654.347%5D%2C%5B48%2C656.624%2C299.997%2C665.763%5D%2C%5B48%2C633.544%2C257.836%2C642.683%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2265%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=65&#x26;annotation=ETRXQPX9">“It is desired that LLMs could well conform to human values and needs, i.e., human alignment, which is a key ability for the broad use of LLMs in real-world applications.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2265%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 65</a></span>)</span> 希望LLM能够很好地符合人类的价值观和需求，即人类的一致性，这是LLM在现实世界中广泛使用的关键能力。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EXR6S9IN%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2265%22%2C%22position%22%3A%7B%22pageIndex%22%3A64%2C%22rects%22%3A%5B%5B226.932%2C541.365%2C299.997%2C550.504%5D%2C%5B48%2C529.825%2C299.997%2C538.964%5D%2C%5B48%2C518.285%2C299.997%2C527.424%5D%2C%5B48%2C506.745%2C165.895%2C515.884%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2265%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=65&#x26;annotation=EXR6S9IN">“Despite the automatic evaluation with the above datasets, human evaluation is still a more direct way to effectively test the human alignment ability of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2265%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 65</a></span>)</span> 尽管使用上述数据集进行自动评估，但人工评估仍然是有效测试LLM的人类对齐能力的更直接的方法。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22IN35C455%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2265%22%2C%22position%22%3A%7B%22pageIndex%22%3A64%2C%22rects%22%3A%5B%5B312%2C380.65%2C564%2C389.913%5D%2C%5B312%2C415.27%2C563.997%2C424.409%5D%2C%5B312%2C403.73%2C563.997%2C412.869%5D%2C%5B312%2C392.19%2C563.997%2C401.329%5D%2C%5B312%2C369.11%2C563.997%2C378.249%5D%2C%5B312%2C357.57%2C445.732%2C366.709%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2265%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=65&#x26;annotation=IN35C455">“When solving complex problems, LLMs can turn to external tools if they determine it is necessary. By encapsulating available tools with API calls, existing work has involved a variety of external tools, e.g., search engine [81], calcula- tor [80], and compiler [443], to enhance the performance of LLMs on several specific tasks.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2265%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 65</a></span>)</span> 在解决复杂问题时，如果LLM认为有必要，他们可以求助于外部工具。通过将可用工具与API调用封装在一起，现有的工作涉及各种外部工具，例如搜索引擎\[81]、微积分器\[80]和编译器\[443]，以提高LLM在几个特定任务上的性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22893RNMVL%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2266%22%2C%22position%22%3A%7B%22pageIndex%22%3A65%2C%22rects%22%3A%5B%5B62.25%2C379.909%2C299.998%2C389.392%5D%2C%5B48%2C368.369%2C299.997%2C377.508%5D%2C%5B48%2C356.829%2C299.997%2C365.968%5D%2C%5B48%2C345.289%2C299.997%2C354.428%5D%2C%5B48%2C333.749%2C299.997%2C342.888%5D%2C%5B48%2C322.209%2C299.997%2C331.348%5D%2C%5B48%2C310.669%2C299.997%2C319.808%5D%2C%5B48%2C299.129%2C299.997%2C308.268%5D%2C%5B48%2C287.589%2C299.997%2C296.728%5D%2C%5B48%2C276.049%2C299.997%2C285.188%5D%2C%5B48%2C264.509%2C219.798%2C273.648%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2266%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=66&#x26;annotation=893RNMVL">“• MMLU [364] is a versatile benchmark for large-scale evaluation of multi-task knowledge understanding, covering a wide range of knowledge domains from mathematics and computer science to humanities and social sciences. The difficulties of these tasks vary from basic to advanced. As shown in existing work, LLMs mostly outperform small models by a substantial margin on this benchmark [35, 56, 57, 69], which shows the scaling law in model size. More recently, GPT-4 achieves a remarkable record (86.4% in 5shot setting) in MMLU, which is significantly better than the previous state-of-the-art models [46].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2266%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 66</a></span>)</span> • MMLU \[364] 是一个用于大规模评估多任务知识理解的多功能基准，涵盖了从数学和计算机科学到人文和社会科学的广泛知识领域。这些任务的难度从基础到高级不等。正如现有工作所示，LLM在该基准上的表现大多优于小型模型\[35,56,57,69]，这显示了模型大小的缩放规律。最近，GPT-4在MMLU中取得了令人瞩目的记录（5次设置为86.4%），这明显优于以前的最先进模型\[46]。

![\<img data-attachment-key="ZF88HUVV" width="900" height="572" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22H9QL9CI7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2267%22%2C%22position%22%3A%7B%22pageIndex%22%3A66%2C%22rects%22%3A%5B%5B40.375%2C371.728%2C580.125%2C714.916%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2267%22%7D%7D" src="attachments/ZF88HUVV.png" ztype="zimage">](/attachments/ZF88HUVV.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2267%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 67</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22QBQDIZL3%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2267%22%2C%22position%22%3A%7B%22pageIndex%22%3A66%2C%22rects%22%3A%5B%5B335.729%2C325.691%2C564.002%2C335.174%5D%2C%5B312%2C314.151%2C563.997%2C323.29%5D%2C%5B312%2C302.611%2C563.997%2C311.75%5D%2C%5B312%2C291.071%2C563.997%2C300.21%5D%2C%5B312%2C279.531%2C563.997%2C288.67%5D%2C%5B312%2C267.991%2C563.997%2C277.13%5D%2C%5B312%2C256.451%2C563.997%2C265.59%5D%2C%5B312%2C244.911%2C425.914%2C254.05%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2267%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=67&#x26;annotation=QBQDIZL3">“Benchmark based evaluation procedure. To perform the benchmark evaluation, each problem will first be formatted into a prompt for LLMs to generate the result text. Then, the generated result text will be parsed with human-written rules to get the predicted answer. Finally, the performance of LLMs can be automatically calculated using standard metrics like accuracy by comparing the predicted answer with the ground-truth one.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2267%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 67</a></span>)</span> 基于基准的评估程序。为了执行基准评估，每个问题将首先被格式化为提示，以便 LLM 生成结果文本。然后，生成的结果文本将使用人工编写的规则进行解析，以获得预测的答案。最后，通过将预测答案与真实答案进行比较，可以使用准确性等标准指标自动计算 LLM 的性能。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EKYNBQAG%22%2C%22color%22%3A%22%23ff6666%22%2C%22pageLabel%22%3A%2268%22%2C%22position%22%3A%7B%22pageIndex%22%3A67%2C%22rects%22%3A%5B%5B48%2C643.606%2C299.997%2C652.745%5D%2C%5B48%2C632.066%2C299.997%2C641.205%5D%2C%5B48%2C620.526%2C299.997%2C629.665%5D%2C%5B48%2C608.986%2C299.997%2C618.125%5D%2C%5B48%2C597.446%2C299.997%2C606.585%5D%2C%5B48%2C585.906%2C299.997%2C595.045%5D%2C%5B71.642%2C655.146%2C299.996%2C664.629%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=68&#x26;annotation=EKYNBQAG">“Human-based evaluation. Unlike automatic evaluation for basic abilities, human evaluation typically considers more factors or abilities in real-world use, such as human alignment and tool manipulation. In this evaluation approach, test tasks are usually in the form of openended questions, and human evaluators are invited to make judgments on the quality of answers generated by LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 68</a></span>)</span> 以人为本的评估。与对基本能力的自动评估不同，人工评估通常会考虑实际使用中的更多因素或能力，例如人类对齐和工具操作。在这种评估方法中，测试任务通常采用开放式问题的形式，并邀请人类评估者对LLM生成的答案的质量进行判断。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22GN8QYJ5H%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2268%22%2C%22position%22%3A%7B%22pageIndex%22%3A67%2C%22rects%22%3A%5B%5B48%2C574.366%2C299.997%2C583.505%5D%2C%5B48%2C562.826%2C299.997%2C571.965%5D%2C%5B48%2C551.286%2C299.997%2C560.425%5D%2C%5B48%2C539.746%2C299.997%2C548.885%5D%2C%5B48%2C528.206%2C299.997%2C537.345%5D%2C%5B48%2C516.666%2C299.997%2C525.805%5D%2C%5B48%2C505.126%2C93.543%2C514.265%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=68&#x26;annotation=GN8QYJ5H">“Typically, there are two main types of scoring methods for human evaluators: pairwise comparison and singleanswer grading. In pairwise comparison, given the same question, humans are assigned two answers from different models to determine which one is better, while in singleanswer grading, they only need to score a single answer at a time.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 68</a></span>)</span> 通常，人工评估者的评分方法主要有两种类型：成对比较和单答案评分。在成对比较中，给定相同的问题，人类被分配来自不同模型的两个答案以确定哪个更好，而在单答案评分中，他们一次只需要对一个答案进行评分。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22IESG2HG6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2268%22%2C%22position%22%3A%7B%22pageIndex%22%3A67%2C%22rects%22%3A%5B%5B367.404%2C497.633%2C563.997%2C506.772%5D%2C%5B312%2C486.093%2C563.997%2C495.232%5D%2C%5B312%2C474.553%2C563.997%2C483.692%5D%2C%5B312%2C463.013%2C563.997%2C472.152%5D%2C%5B312%2C451.473%2C509.6%2C460.612%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=68&#x26;annotation=IESG2HG6">“However, LLMs are often sensitive to the evaluation settings, including the question prompts, zero-shot or few-shot tests, and the answer parsing methods. Thus, one should take possible influencing factors into consideration when conducting the evaluation experiments.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 68</a></span>)</span> 然而，LLM 通常对评估设置很敏感，包括问题提示、零样本或少样本测试以及答案解析方法。因此，在进行评价实验时，应考虑可能的影响因素。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22DXAYDQTV%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2268%22%2C%22position%22%3A%7B%22pageIndex%22%3A67%2C%22rects%22%3A%5B%5B312%2C416.853%2C563.998%2C426.116%5D%2C%5B350.142%2C428.393%2C563.997%2C437.532%5D%2C%5B312%2C405.313%2C563.997%2C414.452%5D%2C%5B312%2C393.773%2C563.997%2C402.912%5D%2C%5B312%2C382.233%2C443.746%2C391.372%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=68&#x26;annotation=DXAYDQTV">“Another issue is the data contamination [56, 738], i.e., the test data itself or relevant content has been contained in the pre-training corpora. This phenomenon has become increasingly severe since more and more open data has been collected for developing LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 68</a></span>)</span> 另一个问题是数据污染\[56,738]，即测试数据本身或相关内容已包含在预训练语料库中。随着越来越多的开放数据被收集用于开发LLM，这种现象变得越来越严重。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%229LWT7VJ8%22%2C%22color%22%3A%22%23ff6666%22%2C%22pageLabel%22%3A%2268%22%2C%22position%22%3A%7B%22pageIndex%22%3A67%2C%22rects%22%3A%5B%5B333.296%2C369.479%2C563.997%2C378.962%5D%2C%5B312%2C357.939%2C563.997%2C367.078%5D%2C%5B312%2C346.399%2C563.997%2C355.538%5D%2C%5B312%2C334.859%2C563.997%2C343.998%5D%2C%5B312%2C323.319%2C563.997%2C332.458%5D%2C%5B312%2C311.779%2C563.997%2C320.918%5D%2C%5B312%2C300.239%2C563.997%2C309.378%5D%2C%5B312%2C288.699%2C563.997%2C297.838%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=68&#x26;annotation=9LWT7VJ8">“Human-based approach. Human evaluation offers several advantages when assessing the capabilities of LLMs to solve real-world tasks. One of the key benefits is its ability to directly reflect the actual abilities of LLMs. Based on feedback and experiences from real users, human evaluation provides a more direct measure of LLMs’ performance in real-world scenarios. Further, it can conduct more flexible and diverse evaluation tasks based on human evaluators.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 68</a></span>)</span> 以人为本的方法。在评估 LLM 解决现实世界任务的能力时，人工评估具有多种优势。主要好处之一是它能够直接反映LLM的实际能力。 基于真实用户的反馈和经验，人工评估提供了更直接的LLM在真实场景中的表现衡量标准。此外，它可以基于人类评估者进行更灵活、更多样化的评估任务。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22A8WV9IF5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2268%22%2C%22position%22%3A%7B%22pageIndex%22%3A67%2C%22rects%22%3A%5B%5B312%2C230.999%2C563.997%2C240.138%5D%2C%5B312%2C219.459%2C563.997%2C228.598%5D%2C%5B312%2C207.919%2C563.997%2C217.058%5D%2C%5B312%2C196.379%2C563.997%2C205.518%5D%2C%5B312%2C184.839%2C467.819%2C193.978%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=68&#x26;annotation=A8WV9IF5">“However, human evaluation also has inherent limitations that could potentially affect its accuracy and consistency. Factors such as personalized tastes and varying education levels among evaluators can introduce biases or even inconsistencies in the evaluation process.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2268%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 68</a></span>)</span> 然而，人工评估也有固有的局限性，可能会影响其准确性和一致性。评估人员的个性化品味和教育水平不同等因素可能会在评估过程中引入偏见甚至不一致。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ZL3ZPQQF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2273%22%2C%22position%22%3A%7B%22pageIndex%22%3A72%2C%22rects%22%3A%5B%5B312%2C622.145%2C564.001%2C631.408%5D%2C%5B461.52%2C702.925%2C563.997%2C712.064%5D%2C%5B312%2C691.385%2C563.997%2C700.524%5D%2C%5B312%2C679.845%2C563.997%2C688.984%5D%2C%5B312%2C668.305%2C563.997%2C677.444%5D%2C%5B312%2C656.765%2C563.997%2C665.904%5D%2C%5B312%2C645.225%2C563.997%2C654.364%5D%2C%5B312%2C633.685%2C563.997%2C642.824%5D%2C%5B312%2C610.605%2C493.412%2C619.744%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2273%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=73&#x26;annotation=ZL3ZPQQF">“Recent studies [55, 752] have also tested the performance of LLMs on these tasks, showing that LLMs can also perform well via in-context learning (with very few examples). Whereas, as small models can be specially optimized on these tasks to learn the specific task requirement and domain knowledge, full-data fine-tuned small models can mostly outperform LLMs using in-context learning on several classic tasks [753, 754], e.g., semantic matching and sentiment analysis.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2273%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 73</a></span>)</span> 最近的研究\[55,752]也测试了LLM在这些任务上的表现，表明LLM也可以通过上下文学习表现良好（例子很少）。然而，由于小模型可以针对这些任务进行专门优化，以学习特定的任务需求和领域知识，因此在几个经典任务上使用上下文学习，全数据微调的小模型大多可以优于LLM\[753,754]，例如语义匹配和情感分析。

![\<img data-attachment-key="88Y43KPM" width="854" height="449" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%225DJHC4YS%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2274%22%2C%22position%22%3A%7B%22pageIndex%22%3A73%2C%22rects%22%3A%5B%5B44.625%2C483.671%2C557.281%2C753.0151052474974%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%7D" src="attachments/88Y43KPM.png" ztype="zimage">](/attachments/88Y43KPM.png)\
<span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 74</a></span>)</span>

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223F48GV5E%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2274%22%2C%22position%22%3A%7B%22pageIndex%22%3A73%2C%22rects%22%3A%5B%5B71.142%2C325.139%2C300.002%2C334.622%5D%2C%5B48%2C313.599%2C299.997%2C322.738%5D%2C%5B48%2C302.059%2C299.997%2C311.198%5D%2C%5B48%2C290.519%2C299.997%2C299.658%5D%2C%5B48%2C278.979%2C299.997%2C288.118%5D%2C%5B48%2C267.439%2C299.997%2C276.578%5D%2C%5B48%2C255.899%2C299.997%2C265.038%5D%2C%5B48%2C244.359%2C299.997%2C253.498%5D%2C%5B48%2C232.819%2C299.997%2C241.958%5D%2C%5B48%2C221.279%2C298.677%2C230.418%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=74&#x26;annotation=3F48GV5E">“Suggestions: LLMs and small models have their own merits in different aspects: LLMs are can provide unified solutions to various NLP tasks and achieve competitive performance (especially in the zero/few-shot setting), while small models are economical to develop and can be specially tuned according to target tasks, which can achieve good performance with sufficient high-quality labeled data [753, 754, 770, 771]. In applications, one can make suitable choices based on the actual needs, comprehensively considering flexibility, data availability, training compute, and efficiency”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 74</a></span>)</span> 建议：LLM和小模型在不同方面各有千秋：LLM可以为各种NLP任务提供统一的解决方案，并实现有竞争力的性能（特别是在零/少样本设置下），而小模型开发经济，可以根据目标任务进行专门调整，在有足够高质量的标记数据的情况下可以达到良好的性能\[753， 754, 770, 771].在应用中，可以根据实际需求做出合适的选择，综合考虑灵活性、数据可用性、训练计算和效率

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22KYN7WBSP%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2274%22%2C%22position%22%3A%7B%22pageIndex%22%3A73%2C%22rects%22%3A%5B%5B265.683%2C102.845%2C299.997%2C111.984%5D%2C%5B48%2C91.305%2C299.997%2C100.444%5D%2C%5B48%2C79.765%2C299.997%2C88.904%5D%2C%5B48%2C68.225%2C202.061%2C77.364%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=74&#x26;annotation=KYN7WBSP">“It is also promising to combine LLMs and fine-tuned small language models for complementing with each other in solving complex cases of classic NLP tasks [772].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 74</a></span>)</span> 在解决经典NLP任务的复杂情况时，将LLM和微调的小语言模型结合起来，相互补充也是很有希望的\[772]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22ZH7BM7QG%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2274%22%2C%22position%22%3A%7B%22pageIndex%22%3A73%2C%22rects%22%3A%5B%5B412.429%2C264.405%2C564.002%2C273.544%5D%2C%5B312%2C241.325%2C564.002%2C250.587%5D%2C%5B312%2C252.865%2C563.996%2C262.127%5D%2C%5B312%2C229.785%2C454.947%2C238.924%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=74&#x26;annotation=ZH7BM7QG">“Existing IR models can be overall categorized into sparse models (relying on term-based lexical similarity) and dense models (relying on embedding based semantic similarity) [740].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2274%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 74</a></span>)</span> 现有的IR模型总体上可分为稀疏模型（依赖于基于术语的词汇相似性）和密集模型（依赖于基于嵌入的语义相似性）\[740]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22BBJRKE7R%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2275%22%2C%22position%22%3A%7B%22pageIndex%22%3A74%2C%22rects%22%3A%5B%5B312%2C579.183%2C564.005%2C588.446%5D%2C%5B312%2C556.103%2C564.001%2C565.366%5D%2C%5B312%2C602.263%2C563.997%2C611.402%5D%2C%5B312%2C590.723%2C563.997%2C599.862%5D%2C%5B312%2C567.643%2C563.997%2C576.782%5D%2C%5B312%2C544.563%2C370.966%2C553.702%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2275%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=75&#x26;annotation=BBJRKE7R">“Typically, existing studies train a recommendation model (either classic or deep learning model) by fitting it over the user’s logged data (e.g., click data) [745, 802]. However, these models often suffer from a series of technical issues, e.g., cold-start recommendation, domain transfer, and poor explainability.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2275%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 75</a></span>)</span> 通常，现有研究通过对用户记录的数据（例如点击数据）进行拟合来训练推荐模型（经典或深度学习模型）\[745,802]。然而，这些模型经常存在一系列技术问题，例如冷启动推荐、域名转移和可解释性差。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22LI2HKY82%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2276%22%2C%22position%22%3A%7B%22pageIndex%22%3A75%2C%22rects%22%3A%5B%5B339.416%2C418.365%2C564.002%2C427.903%5D%2C%5B312%2C406.825%2C563.997%2C416.297%5D%2C%5B312%2C395.285%2C563.997%2C404.757%5D%2C%5B312%2C383.745%2C563.997%2C393.217%5D%2C%5B312%2C372.205%2C563.997%2C381.677%5D%2C%5B312%2C360.665%2C564.003%2C370.203%5D%2C%5B312%2C349.125%2C563.997%2C358.597%5D%2C%5B312%2C337.585%2C537.549%2C347.057%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2276%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=76&#x26;annotation=LI2HKY82">“Vision-language alignment pre-training. To develop MLLMs, existing work mostly initializes the vision encoder and the LLM with pre-trained models [149, 150, 826]. These models retain excellent vision and language capacities, but span different semantic spaces. Thus, the goal of visionlanguage alignment pre-training (i.e., the first-stage training) is to align the vision encoder and the LLM through end-toend training on large-scale image-text pairs [827, 828].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2276%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 76</a></span>)</span> 视觉语言对齐预训练。为了开发 MLLM，现有工作主要使用预训练模型来初始化视觉编码器和 LLM \[149,150,826]。这些模型保留了出色的视觉和语言能力，但跨越了不同的语义空间。因此，视觉语言对齐预训练（即第一阶段训练）的目标是通过大规模图像文本对的端到端训练来对齐视觉编码器和LLM \[827, 828]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22VSGGFPFD%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2276%22%2C%22position%22%3A%7B%22pageIndex%22%3A75%2C%22rects%22%3A%5B%5B336.883%2C152.486%2C563.996%2C162.024%5D%2C%5B312%2C140.946%2C563.998%2C150.484%5D%2C%5B312%2C129.406%2C563.997%2C138.878%5D%2C%5B312%2C117.866%2C437.182%2C127.338%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2276%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=76&#x26;annotation=VSGGFPFD">“Visual instruction tuning. After vision-language pretraining, the second-stage training, i.e., visual instruction tuning, aims to improve the instruction-following and tasksolving abilities of MLLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2276%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 76</a></span>)</span> 视觉指令调整。在视觉语言预训练之后，第二阶段训练，即视觉指令调整，旨在提高 MLLM 的指令跟踪和任务解决能力。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22HY75NNE6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2278%22%2C%22position%22%3A%7B%22pageIndex%22%3A77%2C%22rects%22%3A%5B%5B71.565%2C714.595%2C300.003%2C724.133%5D%2C%5B48%2C703.055%2C299.997%2C712.527%5D%2C%5B48%2C691.515%2C299.997%2C700.987%5D%2C%5B48%2C679.975%2C299.997%2C689.447%5D%2C%5B48%2C668.435%2C299.998%2C677.973%5D%2C%5B48%2C656.895%2C118.186%2C666.367%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2278%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=78&#x26;annotation=HY75NNE6">“Model training. Different from LLMs, MLLMs are not trained from scratch, but instead developed based on pretrained language and vision models. Existing work employs a typical two-stage approach for training MLLMs, i.e., vision-language alignment pre-training and visual instruction tuning.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2278%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 78</a></span>)</span> 模型训练。与 LLM 不同，MLLM 不是从头开始训练，而是基于预训练的语言和视觉模型进行开发。现有工作采用典型的两阶段方法来训练 MLLM，即视觉语言对齐预训练和视觉指令调整。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22SPSVCRGJ%22%2C%22color%22%3A%22%235fb236%22%2C%22pageLabel%22%3A%2278%22%2C%22position%22%3A%7B%22pageIndex%22%3A77%2C%22rects%22%3A%5B%5B491.436%2C541.365%2C563.997%2C550.837%5D%2C%5B312%2C529.825%2C564.003%2C539.363%5D%2C%5B312%2C518.285%2C564.003%2C527.823%5D%2C%5B312%2C506.745%2C563.997%2C516.217%5D%2C%5B312%2C495.205%2C563.997%2C504.677%5D%2C%5B312%2C483.665%2C563.997%2C493.137%5D%2C%5B312%2C472.125%2C563.997%2C481.597%5D%2C%5B312%2C460.585%2C529.683%2C470.057%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2278%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=78&#x26;annotation=SPSVCRGJ">“For the first issue (i.e., retrieving relevant knowledge), a typical approach is to train a small language model (e.g., RoBERTa) to identify question-related fact triples [866]. To further improve the retrieval performance, several studies also propose an iterative reading-then-reasoning framework, enabling the LLM to interact with the KG multiple times and acquire the required knowledge in a more accurate way [458].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2278%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 78</a></span>)</span> 对于第一个问题（即检索相关知识），典型的方法是训练小型语言模型（例如 RoBERTa）来识别与问题相关的事实三元组 \[866]。为了进一步提高检索性能，一些研究还提出了迭代阅读推理框架，使法学硕士能够与知识图谱多次交互，并以更准确的方式获取所需的知识\[458]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22IAM67HEJ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2278%22%2C%22position%22%3A%7B%22pageIndex%22%3A77%2C%22rects%22%3A%5B%5B312%2C299.025%2C564.001%2C308.563%5D%2C%5B312%2C287.485%2C563.997%2C296.957%5D%2C%5B312%2C275.945%2C563.997%2C285.417%5D%2C%5B312%2C264.405%2C563.997%2C273.877%5D%2C%5B312%2C252.865%2C563.998%2C262.403%5D%2C%5B312%2C241.325%2C563.997%2C250.797%5D%2C%5B312%2C229.785%2C563.997%2C239.257%5D%2C%5B312%2C218.245%2C563.997%2C227.717%5D%2C%5B312%2C206.705%2C496.091%2C216.177%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2278%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=78&#x26;annotation=IAM67HEJ">“Synergy-Augmented LLM. To solve complex tasks (e.g., multi-hop question answering [656]), it often requires LLMs to query a KG multiple times, following a systematic solution plan. We call such a multi-turn interaction approach to enhancing LLM synergy-augmented LLM. To better synergize the LLM and KG in a complementary manner, recent studies propose to decompose the complex task into multiple subgoals and iteratively solve each one by leveraging the necessary knowledge from KG [458, 870, 871].”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2278%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 78</a></span>)</span> 协同增强法学硕士。为了解决复杂的任务（例如，多跳问答\[656]），通常需要法学硕士按照系统的解决方案多次查询知识图谱。我们将这种多轮交互增强LLM的方法称为协同增强LLM。为了更好地以互补的方式协同 LLM 和 KG，最近的研究建议将复杂的任务分解为多个子目标，并利用 KG 中的必要知识迭代地解决每个子目标 \[458,870,871]。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22QZN3JFKF%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2279%22%2C%22position%22%3A%7B%22pageIndex%22%3A78%2C%22rects%22%3A%5B%5B73.492%2C176.907%2C299.996%2C186.445%5D%2C%5B48%2C165.367%2C300.003%2C176.416%5D%2C%5B48%2C153.827%2C300.002%2C163.365%5D%2C%5B48%2C142.287%2C299.997%2C151.759%5D%2C%5B48%2C130.747%2C215.704%2C140.219%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2279%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=79&#x26;annotation=QZN3JFKF">“Components. Typically, there are three main components in an LLM-based agent: memory, planning50, and execution. Specifically, the memory component aims to store the information perceived from the environment and can be utilized to support decision-making.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2279%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 79</a></span>)</span> 成分。通常，基于 LLM 的代理包含三个主要组件：内存、规划50 和执行。具体来说，记忆组件旨在存储从环境中感知到的信息，并可用于支持决策。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22FZ2QW8M6%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2279%22%2C%22position%22%3A%7B%22pageIndex%22%3A78%2C%22rects%22%3A%5B%5B337.907%2C528.611%2C563.999%2C538.149%5D%2C%5B312%2C517.071%2C563.997%2C526.543%5D%2C%5B312%2C505.531%2C563.997%2C515.003%5D%2C%5B312%2C493.991%2C563.997%2C503.463%5D%2C%5B312%2C482.451%2C563.997%2C491.923%5D%2C%5B312%2C470.911%2C563.997%2C480.383%5D%2C%5B312%2C459.371%2C563.997%2C468.843%5D%2C%5B312%2C447.831%2C563.997%2C457.303%5D%2C%5B312%2C436.291%2C563.997%2C445.763%5D%2C%5B312%2C424.751%2C563.997%2C434.223%5D%2C%5B312%2C413.211%2C563.997%2C422.683%5D%2C%5B312%2C401.671%2C563.997%2C411.143%5D%2C%5B312%2C390.131%2C563.997%2C399.603%5D%2C%5B312%2C378.591%2C563.997%2C388.063%5D%2C%5B312%2C367.051%2C563.997%2C376.523%5D%2C%5B312%2C355.511%2C563.997%2C364.983%5D%2C%5B312%2C343.971%2C563.997%2C353.443%5D%2C%5B312%2C332.431%2C403.884%2C341.903%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2279%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=79&#x26;annotation=FZ2QW8M6">“Workflow. With the three components mentioned above, a typical workflow of an LLM-based agent is as follows. First, it receives information from the environment and writes it into short-term memory. Then, the agent processes the newly received information in the short-term memory. Such a process can be enhanced with information retrieved from long-term memory. Subsequently, the planning component utilizes the processed information from short-term memory to generate the next plan. Finally, the execution component carries out the plan generated from the planning component, which can be further assisted with external tools. By repeating the aforementioned process, the LLM-based agent can autonomously adjust its behavior in response to feedback from the environment and ultimately achieve its goal. Once LLM-based agents receive user requests or are assigned goals, they follow the above workflow to accomplish tasks through multi-turn interactions with the environment”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2279%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 79</a></span>)</span> 工作流程。有了上述三个组件，基于 LLM 的代理的典型工作流程如下。首先，它从环境接收信息并将其写入短期记忆。然后，代理在短期记忆中处理新接收到的信息。这种过程可以通过从长期记忆中检索到的信息来增强。随后，规划组件利用短期记忆中经过处理的信息来生成下一个计划。最后，执行组件执行规划组件生成的计划，可以通过外部工具进一步辅助。通过重复上述过程，基于LLM的智能体可以根据环境的反馈自主调整其行为，最终实现其目标。一旦基于LLM的代理收到用户请求或被分配目标，它们就会遵循上述工作流程，通过与环境的多轮交互来完成任务

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%223HBWISC7%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2280%22%2C%22position%22%3A%7B%22pageIndex%22%3A79%2C%22rects%22%3A%5B%5B237.257%2C79.765%2C300.005%2C89.303%5D%2C%5B48%2C68.225%2C299.997%2C77.697%5D%2C%5B48%2C56.685%2C299.997%2C66.157%5D%2C%5B48%2C45.145%2C239.396%2C54.617%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2280%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=80&#x26;annotation=3HBWISC7">“Recently, with the emergence of LLMs as general task solvers highlights their potential as automatic evaluators [647, 727], making it promising to conduct LLM based evaluation.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2280%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 80</a></span>)</span> 最近，随着法学硕士作为通用任务求解器的出现，凸显了它们作为自动评估器的潜力\[647, 727]，使得基于法学硕士的评估有希望进行。

<span class="highlight" data-annotation="%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2FKB2C5XMW%22%2C%22annotationKey%22%3A%22EEEZ8DIG%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%2282%22%2C%22position%22%3A%7B%22pageIndex%22%3A81%2C%22rects%22%3A%5B%5B312%2C585.906%2C564%2C595.378%5D%2C%5B312%2C574.366%2C563.997%2C583.838%5D%2C%5B312%2C562.826%2C563.997%2C572.298%5D%2C%5B312%2C551.286%2C563.997%2C560.758%5D%2C%5B312%2C539.746%2C563.997%2C549.218%5D%2C%5B312%2C528.206%2C563.997%2C537.678%5D%2C%5B312%2C516.666%2C520.344%2C526.138%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2282%22%7D%7D" ztype="zhighlight"><a href="zotero://open-pdf/library/items/KB2C5XMW?page=82&#x26;annotation=EEEZ8DIG">“Basics and Principles. Instead of training on specific task goals, LLMs learn from unsupervised pre-training on largescale text data. This is quite different from previous multitask learning approaches, which aim to extend the training tasks as possible to achieve sufficient generalization. Thus, it is essential to reveal the basic principles or elements that establish the foundation of the abilities of LLMs.”</a></span> <span class="citation" data-citation="%7B%22citationItems%22%3A%5B%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2F8071752%2Fitems%2F7UKARWPR%22%5D%2C%22locator%22%3A%2282%22%7D%5D%2C%22properties%22%3A%7B%7D%7D" ztype="zcitation">(<span class="citation-item"><a href="zotero://select/library/items/7UKARWPR">Zhao et al., 2023, p. 82</a></span>)</span> 基础知识和原则。法学硕士不是针对特定任务目标进行培训，而是从大规模文本数据的无监督预培训中学习。这与以前的多任务学习方法有很大不同，以前的多任务学习方法旨在尽可能扩展训练任务以实现足够的泛化。因此，有必要揭示奠定法学硕士能力基础的基本原则或要素。
